import{a as ky,b as sm,c as Ry,d as sa,e as am,f as Tl,g as Dy,h as My,i as cm,j as Ke,k as dr,l as Ri,m as Al,n as aa,o as Py,p as Oy,q as _n,r as Lt}from"./chunk-LE7NYJFP.js";import{$ as z,$a as ny,$b as ra,$c as jy,A as ze,Aa as pe,Ab as De,Ac as Cy,B as $h,Ba as Gv,Bb as Ne,Bc as Ty,C as pn,Ca as Te,Cb as Vt,Cc as lr,D as gn,Da as Yh,Db as Ve,Dc as Ay,E as pl,Ea as Hv,Eb as Zt,Ec as Sy,F as Gh,Fa as Js,Fb as ft,Fc as ca,G as Kt,Ga as Wv,Gb as Se,Gc as la,H as Vv,Ha as Qt,Hb as ke,Hc as ur,I as ir,Ia as Et,Ib as gi,Ic as Sl,J as nr,Ja as ea,Jb as J,Jc as _o,K as Ci,Ka as so,Kb as Si,Kc as Ny,L as Hh,La as ao,Lb as na,Lc as Fy,M as Lv,Ma as Kv,Mb as bt,N as Xs,Na as Qv,Nb as _t,O as no,Oa as Yv,Ob as tm,P as jv,Pa as Xv,Pb as im,Q as ro,Qa as Zv,Qb as fo,R as gl,Ra as Jv,Rb as po,Rc as Vy,S as oi,Sa as ey,Sb as ay,Sc as da,T as We,Ta as Yt,Tb as wl,Tc as kl,U as Wh,Ua as ty,Ub as cy,V as nt,Va as iy,Vb as xl,W as Bv,Wa as ta,Wb as El,X as qe,Xa as re,Xb as nm,Y as Pe,Ya as O,Yb as Il,Yc as Ly,Z as bn,Za as co,Zb as rm,Zc as Rl,_ as rr,_a as vl,_b as ly,a as kt,aa as te,ab as Xh,ac as Cl,b as Ov,ba as Uv,bb as lo,bc as dy,c as zt,ca as W,cb as ia,cc as om,d as Uh,da as Kh,db as Zh,dc as Jt,e as dl,ea as T,eb as Z,ec as uy,ed as By,f as se,fa as q,fb as ry,fc as hy,g as Rt,ga as oo,gb as yl,gc as _e,h as ul,ha as Qh,hb as uo,hc as go,i as Nv,ia as Zs,ib as ho,ic as my,j as Ei,ja as ve,jb as Jh,jc as fy,k as er,ka as ie,kb as Xt,kc as py,l as to,la as ge,lb as gt,lc as ar,m as Ge,ma as zv,mb as oy,mc as gy,n as Q,na as bl,nb as em,nc as by,o as tr,oa as qv,ob as Ae,oc as ue,p as hl,pa as Hi,pb as Je,pc as _y,q as Fv,qa as Ti,qb as Ie,qc as oa,r as X,ra as Dt,rb as Oe,rc as vy,s as io,sa as Xe,sb as mo,sc as yy,t as Wt,ta as Ze,tb as sy,tc as cr,u as zh,ua as _l,ub as rt,uc as wy,v as ml,va as $v,vb as L,vc as xy,w as Ys,wa as or,wb as V,wc as Ey,x as fl,xa as Ai,xb as ae,xc as bo,y as qh,ya as pi,yb as si,yc as Iy,z as Ii,za as sr,zb as Wi,zc as ki}from"./chunk-4BEJQNLL.js";import{a as j,b as Ce,e as Bh,f as M}from"./chunk-GDWSLX2G.js";var dm=class{};var vo=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(i=>{let t=i.indexOf(":");if(t>0){let r=i.slice(0,t),o=r.toLowerCase(),s=i.slice(t+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((i,t)=>{this.setHeaderEntries(t,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([i,t])=>{this.setHeaderEntries(i,t)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let i=this.headers.get(e.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,i){return this.clone({name:e,value:i,op:"a"})}set(e,i){return this.clone({name:e,value:i,op:"s"})}delete(e,i){return this.clone({name:e,value:i,op:"d"})}maybeSetNormalizedName(e,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(i=>{this.headers.set(i,e.headers.get(i)),this.normalizedNames.set(i,e.normalizedNames.get(i))})}clone(e){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([e]),i}applyUpdate(e){let i=e.name.toLowerCase();switch(e.op){case"a":case"s":let t=e.value;if(typeof t=="string"&&(t=[t]),t.length===0)return;this.maybeSetNormalizedName(e.name,i);let r=(e.op==="a"?this.headers.get(i):void 0)||[];r.push(...t),this.headers.set(i,r);break;case"d":let o=e.value;if(!o)this.headers.delete(i),this.normalizedNames.delete(i);else{let s=this.headers.get(i);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,s)}break}}setHeaderEntries(e,i){let t=(Array.isArray(i)?i:[i]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,t),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>e(this.normalizedNames.get(i),this.headers.get(i)))}};var um=class{encodeKey(e){return Uy(e)}encodeValue(e){return Uy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function NA(n,e){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=i.get(s)||[];l.push(a),i.set(s,l)}),i}var FA=/%(\d[a-f0-9])/gi,VA={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Uy(n){return encodeURIComponent(n).replace(FA,(e,i)=>VA[i]??e)}function Dl(n){return`${n}`}var vn=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new um,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=NA(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(i=>{let t=e.fromObject[i],r=Array.isArray(t)?t.map(Dl):[Dl(t)];this.map.set(i,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let i=this.map.get(e);return i?i[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,i){return this.clone({param:e,value:i,op:"a"})}appendAll(e){let i=[];return Object.keys(e).forEach(t=>{let r=e[t];Array.isArray(r)?r.forEach(o=>{i.push({param:t,value:o,op:"a"})}):i.push({param:t,value:r,op:"a"})}),this.clone(i)}set(e,i){return this.clone({param:e,value:i,op:"s"})}delete(e,i){return this.clone({param:e,value:i,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let i=this.encoder.encodeKey(e);return this.map.get(e).map(t=>i+"="+this.encoder.encodeValue(t)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(e),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let i=(e.op==="a"?this.map.get(e.param):void 0)||[];i.push(Dl(e.value)),this.map.set(e.param,i);break;case"d":if(e.value!==void 0){let t=this.map.get(e.param)||[],r=t.indexOf(Dl(e.value));r!==-1&&t.splice(r,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var hm=class{constructor(){this.map=new Map}set(e,i){return this.map.set(e,i),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function LA(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function zy(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qy(n){return typeof Blob<"u"&&n instanceof Blob}function $y(n){return typeof FormData<"u"&&n instanceof FormData}function jA(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ua=class n{constructor(e,i,t,r){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(LA(this.method)||r?(this.body=t!==void 0?t:null,o=r):o=t,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new vo,this.context??=new hm,!this.params)this.params=new vn,this.urlWithParams=i;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=i;else{let a=i.indexOf("?"),l=a===-1?"?":a<i.length-1?"&":"";this.urlWithParams=i+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||zy(this.body)||qy(this.body)||$y(this.body)||jA(this.body)?this.body:this.body instanceof vn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$y(this.body)?null:qy(this.body)?this.body.type||null:zy(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof vn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let i=e.method||this.method,t=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,h=e.params||this.params,f=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((g,_)=>g.set(_,e.setHeaders[_]),d)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,_)=>g.set(_,e.setParams[_]),h)),new n(i,t,s,{params:h,headers:d,context:f,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Gy=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gy||{}),mm=class{constructor(e,i=200,t="OK"){this.headers=e.headers||new vo,this.status=e.status!==void 0?e.status:i,this.statusText=e.statusText||t,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var fm=class n extends mm{constructor(e={}){super(e),this.type=Gy.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};function lm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Hy=(()=>{let e=class e{constructor(t){this.handler=t}request(t,r,o={}){let s;if(t instanceof ua)s=t;else{let d;o.headers instanceof vo?d=o.headers:d=new vo(o.headers);let h;o.params&&(o.params instanceof vn?h=o.params:h=new vn({fromObject:o.params})),s=new ua(t,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:h,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=Q(s).pipe(gn(d=>this.handler.handle(d)));if(t instanceof ua||o.observe==="events")return a;let l=a.pipe(ze(d=>d instanceof fm));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(X(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(X(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(X(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(X(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new vn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,lm(o,r))}post(t,r,o={}){return this.request("POST",t,lm(o,r))}put(t,r,o={}){return this.request("PUT",t,lm(o,r))}};e.\u0275fac=function(r){return new(r||e)(T(dm))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})();var bm=class extends by{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_m=class n extends bm{static makeCurrent(){gy(new n)}onAndCancel(e,i,t){return e.addEventListener(i,t),()=>{e.removeEventListener(i,t)}}dispatchEvent(e,i){e.dispatchEvent(i)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,i){return i=i||this.getDefaultDocument(),i.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,i){return i==="window"?window:i==="document"?e:i==="body"?e.body:null}getBaseHref(e){let i=zA();return i==null?null:qA(i)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wy(document.cookie,e)}},ha=null;function zA(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}function qA(n){return new URL(n,document.baseURI).pathname}var vm=class{addToWindow(e){bn.getAngularTestability=(t,r=!0)=>{let o=e.findTestabilityInTree(t,r);if(o==null)throw new Pe(5103,!1);return o},bn.getAllAngularTestabilities=()=>e.getAllTestabilities(),bn.getAllAngularRootElements=()=>e.getAllRootElements();let i=t=>{let r=bn.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&t()};r.forEach(a=>{a.whenStable(s)})};bn.frameworkStabilizers||(bn.frameworkStabilizers=[]),bn.frameworkStabilizers.push(i)}findTestabilityInTree(e,i,t){if(i==null)return null;let r=e.getTestability(i);return r??(t?ar().isShadowRoot(i)?this.findTestabilityInTree(e,i.host,!0):this.findTestabilityInTree(e,i.parentElement,!0):null)}},$A=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})(),ym=new W(""),Qy=(()=>{let e=class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new Pe(5101,!1);return this._eventNameToPlugin.set(t,r),r}};e.\u0275fac=function(r){return new(r||e)(T(ym),T(Z))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})(),Ml=class{constructor(e){this._doc=e}},pm="ng-app-id",Yy=(()=>{let e=class e{constructor(t,r,o,s={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=lr(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${pm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){let o=this.styleRef;if(o.has(t)){let s=o.get(t);return s.usage+=r,s.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===t)return o.delete(r),s.removeAttribute(pm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(pm,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let o=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(T(ue),T(Js),T(ea,8),T(Qt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})(),gm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xm=/%COMP%/g,Xy="%COMP%",GA=`_nghost-${Xy}`,HA=`_ngcontent-${Xy}`,WA=!0,KA=new W("",{providedIn:"root",factory:()=>WA});function QA(n){return HA.replace(xm,n)}function YA(n){return GA.replace(xm,n)}function Zy(n,e){return e.map(i=>i.replace(xm,n))}var yo=(()=>{let e=class e{constructor(t,r,o,s,a,l,d,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=lr(l),this.defaultRenderer=new ma(t,a,d,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Zs.ShadowDom&&(r=Ce(j({},r),{encapsulation:Zs.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof Pl?o.applyToHost(t):o instanceof fa&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,d=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Zs.Emulated:s=new Pl(d,h,r,this.appId,f,a,l,g);break;case Zs.ShadowDom:return new wm(d,h,t,r,a,l,this.nonce,g);default:s=new fa(d,h,r,f,a,l,g);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(T(Qy),T(Yy),T(Js),T(KA),T(ue),T(Qt),T(Z),T(ea))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})(),ma=class{constructor(e,i,t,r){this.eventManager=e,this.doc=i,this.ngZone=t,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,i){return i?this.doc.createElementNS(gm[i]||i,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,i){(Wy(e)?e.content:e).appendChild(i)}insertBefore(e,i,t){e&&(Wy(e)?e.content:e).insertBefore(i,t)}removeChild(e,i){e&&e.removeChild(i)}selectRootElement(e,i){let t=typeof e=="string"?this.doc.querySelector(e):e;if(!t)throw new Pe(-5104,!1);return i||(t.textContent=""),t}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,i,t,r){if(r){i=r+":"+i;let o=gm[r];o?e.setAttributeNS(o,i,t):e.setAttribute(i,t)}else e.setAttribute(i,t)}removeAttribute(e,i,t){if(t){let r=gm[t];r?e.removeAttributeNS(r,i):e.removeAttribute(`${t}:${i}`)}else e.removeAttribute(i)}addClass(e,i){e.classList.add(i)}removeClass(e,i){e.classList.remove(i)}setStyle(e,i,t,r){r&(ta.DashCase|ta.Important)?e.style.setProperty(i,t,r&ta.Important?"important":""):e.style[i]=t}removeStyle(e,i,t){t&ta.DashCase?e.style.removeProperty(i):e.style[i]=""}setProperty(e,i,t){e!=null&&(e[i]=t)}setValue(e,i){e.nodeValue=i}listen(e,i,t){if(typeof e=="string"&&(e=ar().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${i}`);return this.eventManager.addEventListener(e,i,this.decoratePreventDefault(t))}decoratePreventDefault(e){return i=>{if(i==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(i)):e(i))===!1&&i.preventDefault()}}};function Wy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var wm=class extends ma{constructor(e,i,t,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=i,this.hostEl=t,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=Zy(r.id,r.styles);for(let h of d){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=h,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,i){return super.appendChild(this.nodeOrShadowRoot(e),i)}insertBefore(e,i,t){return super.insertBefore(this.nodeOrShadowRoot(e),i,t)}removeChild(e,i){return super.removeChild(this.nodeOrShadowRoot(e),i)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fa=class extends ma{constructor(e,i,t,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=r,this.styles=l?Zy(l,t.styles):t.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Pl=class extends fa{constructor(e,i,t,r,o,s,a,l){let d=r+"-"+t.id;super(e,i,t,o,s,a,l,d),this.contentAttr=QA(d),this.hostAttr=YA(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,i){let t=super.createElement(e,i);return super.setAttribute(t,this.contentAttr,""),t}},XA=(()=>{let e=class e extends Ml{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})(),Ky=["alt","control","meta","shift"],ZA={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},JA={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},eS=(()=>{let e=class e extends Ml{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ar().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),Ky.forEach(h=>{let f=r.indexOf(h);f>-1&&(r.splice(f,1),a+=h+".")}),a+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=a,d}static matchEventFullKeyCode(t,r){let o=ZA[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(o=t.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Ky.forEach(a=>{if(a!==o){let l=JA[a];l(t)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(t,r,o){return s=>{e.matchEventFullKeyCode(s,t)&&o.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}};e.\u0275fac=function(r){return new(r||e)(T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})();function tS(){_m.makeCurrent()}function iS(){return new sr}function nS(){return Hv(document),document}var rS=[{provide:Qt,useValue:Cy},{provide:Wv,useValue:tS,multi:!0},{provide:ue,useFactory:nS,deps:[]}],Jy=dy(uy,"browser",rS),oS=new W(""),sS=[{provide:xl,useClass:vm,deps:[]},{provide:cy,useClass:El,deps:[Z,nm,xl]},{provide:El,useClass:El,deps:[Z,nm,xl]}],aS=[{provide:qv,useValue:"root"},{provide:sr,useFactory:iS,deps:[]},{provide:ym,useClass:XA,multi:!0,deps:[ue,Z,Qt]},{provide:ym,useClass:eS,multi:!0,deps:[ue]},yo,Yy,Qy,{provide:lo,useExisting:yo},{provide:Sy,useClass:$A,deps:[]},[]],Ol=(()=>{let e=class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Js,useValue:t.appId}]}}};e.\u0275fac=function(r){return new(r||e)(T(oS,12))},e.\u0275mod=ie({type:e}),e.\u0275inj=te({providers:[...aS,...sS],imports:[ki,hy]});let n=e;return n})();var e0=(()=>{let e=class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}};e.\u0275fac=function(r){return new(r||e)(T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Em=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:function(r){let o=null;return r?o=new(r||e):o=T(cS),o},providedIn:"root"});let n=e;return n})(),cS=(()=>{let e=class e extends Em{constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case Yt.NONE:return r;case Yt.HTML:return ao(r,"HTML")?so(r):ey(this._doc,String(r)).toString();case Yt.STYLE:return ao(r,"Style")?so(r):r;case Yt.SCRIPT:if(ao(r,"Script"))return so(r);throw new Pe(5200,!1);case Yt.URL:return ao(r,"URL")?so(r):Jv(String(r));case Yt.RESOURCE_URL:if(ao(r,"ResourceURL"))return so(r);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(t){return Kv(t)}bypassSecurityTrustStyle(t){return Qv(t)}bypassSecurityTrustScript(t){return Yv(t)}bypassSecurityTrustUrl(t){return Xv(t)}bypassSecurityTrustResourceUrl(t){return Zv(t)}};e.\u0275fac=function(r){return new(r||e)(T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var fe="primary",Ra=Symbol("RouteTitle"),km=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i[0]:i}return null}getAll(e){if(this.has(e)){let i=this.params[e];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function To(n){return new km(n)}function lS(n,e,i){let t=i.path.split("/");if(t.length>n.length||i.pathMatch==="full"&&(e.hasChildren()||t.length<n.length))return null;let r={};for(let o=0;o<t.length;o++){let s=t[o],a=n[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,t.length),posParams:r}}function dS(n,e){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(!Di(n[i],e[i]))return!1;return!0}function Di(n,e){let i=n?Rm(n):void 0,t=e?Rm(e):void 0;if(!i||!t||i.length!=t.length)return!1;let r;for(let o=0;o<i.length;o++)if(r=i[o],!u0(n[r],e[r]))return!1;return!0}function Rm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function u0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let i=[...n].sort(),t=[...e].sort();return i.every((r,o)=>t[o]===r)}else return n===e}function h0(n){return n.length>0?n[n.length-1]:null}function xn(n){return hl(n)?n:Il(n)?Ge(Promise.resolve(n)):Q(n)}var uS={exact:f0,subset:p0},m0={exact:hS,subset:mS,ignored:()=>!0};function t0(n,e,i){return uS[i.paths](n.root,e.root,i.matrixParams)&&m0[i.queryParams](n.queryParams,e.queryParams)&&!(i.fragment==="exact"&&n.fragment!==e.fragment)}function hS(n,e){return Di(n,e)}function f0(n,e,i){if(!mr(n.segments,e.segments)||!Vl(n.segments,e.segments,i)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!n.children[t]||!f0(n.children[t],e.children[t],i))return!1;return!0}function mS(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(i=>u0(n[i],e[i]))}function p0(n,e,i){return g0(n,e,e.segments,i)}function g0(n,e,i,t){if(n.segments.length>i.length){let r=n.segments.slice(0,i.length);return!(!mr(r,i)||e.hasChildren()||!Vl(r,i,t))}else if(n.segments.length===i.length){if(!mr(n.segments,i)||!Vl(n.segments,i,t))return!1;for(let r in e.children)if(!n.children[r]||!p0(n.children[r],e.children[r],t))return!1;return!0}else{let r=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!mr(n.segments,r)||!Vl(n.segments,r,t)||!n.children[fe]?!1:g0(n.children[fe],e,o,t)}}function Vl(n,e,i){return e.every((t,r)=>m0[i](n[r].parameters,t.parameters))}var yn=class{constructor(e=new Re([],{}),i={},t=null){this.root=e,this.queryParams=i,this.fragment=t}get queryParamMap(){return this._queryParamMap??=To(this.queryParams),this._queryParamMap}toString(){return gS.serialize(this)}},Re=class{constructor(e,i){this.segments=e,this.children=i,this.parent=null,Object.values(i).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ll(this)}},hr=class{constructor(e,i){this.path=e,this.parameters=i}get parameterMap(){return this._parameterMap??=To(this.parameters),this._parameterMap}toString(){return _0(this)}};function fS(n,e){return mr(n,e)&&n.every((i,t)=>Di(i.parameters,e[t].parameters))}function mr(n,e){return n.length!==e.length?!1:n.every((i,t)=>i.path===e[t].path)}function pS(n,e){let i=[];return Object.entries(n.children).forEach(([t,r])=>{t===fe&&(i=i.concat(e(r,t)))}),Object.entries(n.children).forEach(([t,r])=>{t!==fe&&(i=i.concat(e(r,t)))}),i}var Da=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:()=>new Ao,providedIn:"root"});let n=e;return n})(),Ao=class{parse(e){let i=new Mm(e);return new yn(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(e){let i=`/${pa(e.root,!0)}`,t=vS(e.queryParams),r=typeof e.fragment=="string"?`#${bS(e.fragment)}`:"";return`${i}${t}${r}`}},gS=new Ao;function Ll(n){return n.segments.map(e=>_0(e)).join("/")}function pa(n,e){if(!n.hasChildren())return Ll(n);if(e){let i=n.children[fe]?pa(n.children[fe],!1):"",t=[];return Object.entries(n.children).forEach(([r,o])=>{r!==fe&&t.push(`${r}:${pa(o,!1)}`)}),t.length>0?`${i}(${t.join("//")})`:i}else{let i=pS(n,(t,r)=>r===fe?[pa(n.children[fe],!1)]:[`${r}:${pa(t,!1)}`]);return Object.keys(n.children).length===1&&n.children[fe]!=null?`${Ll(n)}/${i[0]}`:`${Ll(n)}/(${i.join("//")})`}}function b0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nl(n){return b0(n).replace(/%3B/gi,";")}function bS(n){return encodeURI(n)}function Dm(n){return b0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jl(n){return decodeURIComponent(n)}function i0(n){return jl(n.replace(/\+/g,"%20"))}function _0(n){return`${Dm(n.path)}${_S(n.parameters)}`}function _S(n){return Object.entries(n).map(([e,i])=>`;${Dm(e)}=${Dm(i)}`).join("")}function vS(n){let e=Object.entries(n).map(([i,t])=>Array.isArray(t)?t.map(r=>`${Nl(i)}=${Nl(r)}`).join("&"):`${Nl(i)}=${Nl(t)}`).filter(i=>i);return e.length?`?${e.join("&")}`:""}var yS=/^[^\/()?;#]+/;function Cm(n){let e=n.match(yS);return e?e[0]:""}var wS=/^[^\/()?;=#]+/;function xS(n){let e=n.match(wS);return e?e[0]:""}var ES=/^[^=?&#]+/;function IS(n){let e=n.match(ES);return e?e[0]:""}var CS=/^[^&#]+/;function TS(n){let e=n.match(CS);return e?e[0]:""}var Mm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(i).length>0)&&(t[fe]=new Re(e,i)),t}parseSegment(){let e=Cm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(e),new hr(jl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let i=xS(this.remaining);if(!i)return;this.capture(i);let t="";if(this.consumeOptional("=")){let r=Cm(this.remaining);r&&(t=r,this.capture(t))}e[jl(i)]=jl(t)}parseQueryParam(e){let i=IS(this.remaining);if(!i)return;this.capture(i);let t="";if(this.consumeOptional("=")){let s=TS(this.remaining);s&&(t=s,this.capture(t))}let r=i0(i),o=i0(t);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=Cm(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new Pe(4010,!1);let o;t.indexOf(":")>-1?(o=t.slice(0,t.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=fe);let s=this.parseChildren();i[o]=Object.keys(s).length===1?s[fe]:new Re([],s),this.consumeOptional("//")}return i}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Pe(4011,!1)}};function v0(n){return n.segments.length>0?new Re([],{[fe]:n}):n}function y0(n){let e={};for(let[t,r]of Object.entries(n.children)){let o=y0(r);if(t===fe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[t]=o)}let i=new Re(n.segments,e);return AS(i)}function AS(n){if(n.numberOfChildren===1&&n.children[fe]){let e=n.children[fe];return new Re(n.segments.concat(e.segments),e.children)}return n}function wa(n){return n instanceof yn}function SS(n,e,i=null,t=null){let r=w0(n);return x0(r,e,i,t)}function w0(n){let e;function i(o){let s={};for(let l of o.children){let d=i(l);s[l.outlet]=d}let a=new Re(o.url,s);return o===n&&(e=a),a}let t=i(n.root),r=v0(t);return e??r}function x0(n,e,i,t){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Tm(r,r,r,i,t);let o=kS(e);if(o.toRoot())return Tm(r,r,new Re([],{}),i,t);let s=RS(o,r,n),a=s.processChildren?_a(s.segmentGroup,s.index,o.commands):I0(s.segmentGroup,s.index,o.commands);return Tm(r,s.segmentGroup,a,i,t)}function Bl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function xa(n){return typeof n=="object"&&n!=null&&n.outlets}function Tm(n,e,i,t,r){let o={};t&&Object.entries(t).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(h=>`${h}`):`${d}`});let s;n===e?s=i:s=E0(n,e,i);let a=v0(y0(s));return new yn(a,o,r)}function E0(n,e,i){let t={};return Object.entries(n.children).forEach(([r,o])=>{o===e?t[r]=i:t[r]=E0(o,e,i)}),new Re(n.segments,t)}var Ul=class{constructor(e,i,t){if(this.isAbsolute=e,this.numberOfDoubleDots=i,this.commands=t,e&&t.length>0&&Bl(t[0]))throw new Pe(4003,!1);let r=t.find(xa);if(r&&r!==h0(t))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function kS(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ul(!0,0,n);let e=0,i=!1,t=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,d])=>{a[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?i=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Ul(i,e,t)}var Eo=class{constructor(e,i,t){this.segmentGroup=e,this.processChildren=i,this.index=t}};function RS(n,e,i){if(n.isAbsolute)return new Eo(e,!0,0);if(!i)return new Eo(e,!1,NaN);if(i.parent===null)return new Eo(i,!0,0);let t=Bl(n.commands[0])?0:1,r=i.segments.length-1+t;return DS(i,r,n.numberOfDoubleDots)}function DS(n,e,i){let t=n,r=e,o=i;for(;o>r;){if(o-=r,t=t.parent,!t)throw new Pe(4005,!1);r=t.segments.length}return new Eo(t,!1,r-o)}function MS(n){return xa(n[0])?n[0].outlets:{[fe]:n}}function I0(n,e,i){if(n??=new Re([],{}),n.segments.length===0&&n.hasChildren())return _a(n,e,i);let t=PS(n,e,i),r=i.slice(t.commandIndex);if(t.match&&t.pathIndex<n.segments.length){let o=new Re(n.segments.slice(0,t.pathIndex),{});return o.children[fe]=new Re(n.segments.slice(t.pathIndex),n.children),_a(o,0,r)}else return t.match&&r.length===0?new Re(n.segments,{}):t.match&&!n.hasChildren()?Pm(n,e,i):t.match?_a(n,0,r):Pm(n,e,i)}function _a(n,e,i){if(i.length===0)return new Re(n.segments,{});{let t=MS(i),r={};if(Object.keys(t).some(o=>o!==fe)&&n.children[fe]&&n.numberOfChildren===1&&n.children[fe].segments.length===0){let o=_a(n.children[fe],e,i);return new Re(n.segments,o.children)}return Object.entries(t).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=I0(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{t[o]===void 0&&(r[o]=s)}),new Re(n.segments,r)}}function PS(n,e,i){let t=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(t>=i.length)return o;let s=n.segments[r],a=i[t];if(xa(a))break;let l=`${a}`,d=t<i.length-1?i[t+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!r0(l,d,s))return o;t+=2}else{if(!r0(l,{},s))return o;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function Pm(n,e,i){let t=n.segments.slice(0,e),r=0;for(;r<i.length;){let o=i[r];if(xa(o)){let l=OS(o.outlets);return new Re(t,l)}if(r===0&&Bl(i[0])){let l=n.segments[e];t.push(new hr(l.path,n0(i[0]))),r++;continue}let s=xa(o)?o.outlets[fe]:`${o}`,a=r<i.length-1?i[r+1]:null;s&&a&&Bl(a)?(t.push(new hr(s,n0(a))),r+=2):(t.push(new hr(s,{})),r++)}return new Re(t,{})}function OS(n){let e={};return Object.entries(n).forEach(([i,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[i]=Pm(new Re([],{}),0,t))}),e}function n0(n){let e={};return Object.entries(n).forEach(([i,t])=>e[i]=`${t}`),e}function r0(n,e,i){return n==i.path&&Di(e,i.parameters)}var va="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),ai=class{constructor(e,i){this.id=e,this.url=i}},So=class extends ai{constructor(e,i,t="imperative",r=null){super(e,i),this.type=vt.NavigationStart,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Mi=class extends ai{constructor(e,i,t){super(e,i),this.urlAfterRedirects=t,this.type=vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ti=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ti||{}),zl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zl||{}),Ki=class extends ai{constructor(e,i,t,r){super(e,i),this.reason=t,this.code=r,this.type=vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},wn=class extends ai{constructor(e,i,t,r){super(e,i),this.reason=t,this.code=r,this.type=vt.NavigationSkipped}},Ea=class extends ai{constructor(e,i,t,r){super(e,i),this.error=t,this.target=r,this.type=vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ql=class extends ai{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Om=class extends ai{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nm=class extends ai{constructor(e,i,t,r,o){super(e,i),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=o,this.type=vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Fm=class extends ai{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vm=class extends ai{constructor(e,i,t,r){super(e,i),this.urlAfterRedirects=t,this.state=r,this.type=vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lm=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jm=class{constructor(e){this.route=e,this.type=vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bm=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Um=class{constructor(e){this.snapshot=e,this.type=vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zm=class{constructor(e){this.snapshot=e,this.type=vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qm=class{constructor(e){this.snapshot=e,this.type=vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$l=class{constructor(e,i,t){this.routerEvent=e,this.position=i,this.anchor=t,this.type=vt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ia=class{},ko=class{constructor(e,i){this.url=e,this.navigationBehaviorOptions=i}};var $m=class{constructor(e){this.injector=e,this.outlet=null,this.route=null,this.children=new Ma(this.injector),this.attachRef=null}},Ma=(()=>{let e=class e{constructor(t){this.parentInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new $m(this.parentInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(r){return new(r||e)(T(Hi))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Gl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let i=this.pathFromRoot(e);return i.length>1?i[i.length-2]:null}children(e){let i=Gm(e,this._root);return i?i.children.map(t=>t.value):[]}firstChild(e){let i=Gm(e,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(e){let i=Hm(e,this._root);return i.length<2?[]:i[i.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Hm(e,this._root).map(i=>i.value)}};function Gm(n,e){if(n===e.value)return e;for(let i of e.children){let t=Gm(n,i);if(t)return t}return null}function Hm(n,e){if(n===e.value)return[e];for(let i of e.children){let t=Hm(n,i);if(t.length)return t.unshift(e),t}return[]}var ei=class{constructor(e,i){this.value=e,this.children=i}toString(){return`TreeNode(${this.value})`}};function xo(n){let e={};return n&&n.children.forEach(i=>e[i.value.outlet]=i),e}var Hl=class extends Gl{constructor(e,i){super(e),this.snapshot=i,tf(this,e)}toString(){return this.snapshot.toString()}};function C0(n){let e=NS(n),i=new Rt([new hr("",{})]),t=new Rt({}),r=new Rt({}),o=new Rt({}),s=new Rt(""),a=new fr(i,t,o,s,r,fe,n,e.root);return a.snapshot=e.root,new Hl(new ei(a,[]),e)}function NS(n){let e={},i={},t={},r="",o=new Io([],e,t,r,i,fe,n,null,{});return new Kl("",new ei(o,[]))}var fr=class{constructor(e,i,t,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=i,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(X(d=>d[Ra]))??Q(void 0),this.url=e,this.params=i,this.queryParams=t,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>To(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>To(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Wl(n,e,i="emptyOnly"){let t,{routeConfig:r}=n;return e!==null&&(i==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),r?.data),n._resolvedData)}:t={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},r&&A0(r)&&(t.resolve[Ra]=r.title),t}var Io=class{get title(){return this.data?.[Ra]}constructor(e,i,t,r,o,s,a,l,d){this.url=e,this.params=i,this.queryParams=t,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=To(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=To(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${i}')`}},Kl=class extends Gl{constructor(e,i){super(i),this.url=e,tf(this,i)}toString(){return T0(this._root)}};function tf(n,e){e.value._routerState=n,e.children.forEach(i=>tf(n,i))}function T0(n){let e=n.children.length>0?` { ${n.children.map(T0).join(", ")} } `:"";return`${n.value}${e}`}function Am(n){if(n.snapshot){let e=n.snapshot,i=n._futureSnapshot;n.snapshot=i,Di(e.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),e.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),Di(e.params,i.params)||n.paramsSubject.next(i.params),dS(e.url,i.url)||n.urlSubject.next(i.url),Di(e.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Wm(n,e){let i=Di(n.params,e.params)&&fS(n.url,e.url),t=!n.parent!=!e.parent;return i&&!t&&(!n.parent||Wm(n.parent,e.parent))}function A0(n){return typeof n.title=="string"||n.title===null}var nf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=fe,this.activateEvents=new Te,this.deactivateEvents=new Te,this.attachEvents=new Te,this.detachEvents=new Te,this.parentContexts=q(Ma),this.location=q(ho),this.changeDetector=q(Jt),this.inputBinder=q(Jl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=t;let o=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Km(t,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:d,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dt]});let n=e;return n})(),Km=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,i,t){this.route=e,this.childContexts=i,this.parent=t}get(e,i){return e===fr?this.route:e===Ma?this.childContexts:this.parent.get(e,i)}},Jl=new W(""),o0=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=io([r.queryParams,r.params,r.data]).pipe(We(([s,a,l],d)=>(l=j(j(j({},s),a),l),d===0?Q(l):Promise.resolve(l)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=py(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of a.inputs)t.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(t,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})();function FS(n,e,i){let t=Ca(n,e._root,i?i._root:void 0);return new Hl(t,e)}function Ca(n,e,i){if(i&&n.shouldReuseRoute(e.value,i.value.snapshot)){let t=i.value;t._futureSnapshot=e.value;let r=VS(n,e,i);return new ei(t,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ca(n,a)),s}}let t=LS(e.value),r=e.children.map(o=>Ca(n,o));return new ei(t,r)}}function VS(n,e,i){return e.children.map(t=>{for(let r of i.children)if(n.shouldReuseRoute(t.value,r.value.snapshot))return Ca(n,t,r);return Ca(n,t)})}function LS(n){return new fr(new Rt(n.url),new Rt(n.params),new Rt(n.queryParams),new Rt(n.fragment),new Rt(n.data),n.outlet,n.component,n)}var Ta=class{constructor(e,i){this.redirectTo=e,this.navigationBehaviorOptions=i}},S0="ngNavigationCancelingError";function Ql(n,e){let{redirectTo:i,navigationBehaviorOptions:t}=wa(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=k0(!1,ti.Redirect);return r.url=i,r.navigationBehaviorOptions=t,r}function k0(n,e){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[S0]=!0,i.cancellationCode=e,i}function jS(n){return R0(n)&&wa(n.url)}function R0(n){return!!n&&n[S0]}var BS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[_t],decls:1,vars:0,template:function(r,o){r&1&&ae(0,"router-outlet")},dependencies:[nf],encapsulation:2});let n=e;return n})();function US(n,e){return n.providers&&!n._injector&&(n._injector=em(n.providers,e,`Route: ${n.path}`)),n._injector??e}function rf(n){let e=n.children&&n.children.map(rf),i=e?Ce(j({},n),{children:e}):j({},n);return!i.component&&!i.loadComponent&&(e||i.loadChildren)&&i.outlet&&i.outlet!==fe&&(i.component=BS),i}function bi(n){return n.outlet||fe}function zS(n,e){let i=n.filter(t=>bi(t)===e);return i.push(...n.filter(t=>bi(t)!==e)),i}function Pa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let i=e.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var qS=(n,e,i,t)=>X(r=>(new Qm(e,r.targetRouterState,r.currentRouterState,i,t).activate(n),r)),Qm=class{constructor(e,i,t,r,o){this.routeReuseStrategy=e,this.futureState=i,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let i=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,t,e),Am(this.futureState.root),this.activateChildRoutes(i,t,e)}deactivateChildRoutes(e,i,t){let r=xo(i);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],t),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,t)})}deactivateRoutes(e,i,t){let r=e.value,o=i?i.value:null;if(r===o)if(r.component){let s=t.getContext(r.outlet);s&&this.deactivateChildRoutes(e,i,s.children)}else this.deactivateChildRoutes(e,i,t);else o&&this.deactivateRouteAndItsChildren(i,t)}deactivateRouteAndItsChildren(e,i){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,i):this.deactivateRouteAndOutlet(e,i)}detachAndStoreRouteSubtree(e,i){let t=i.getContext(e.value.outlet),r=t&&e.value.component?t.children:i,o=xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(t&&t.outlet){let s=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,i){let t=i.getContext(e.value.outlet),r=t&&e.value.component?t.children:i,o=xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,i,t){let r=xo(i);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],t),this.forwardEvent(new qm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Um(e.value.snapshot))}activateRoutes(e,i,t){let r=e.value,o=i?i.value:null;if(Am(r),r===o)if(r.component){let s=t.getOrCreateContext(r.outlet);this.activateChildRoutes(e,i,s.children)}else this.activateChildRoutes(e,i,t);else if(r.component){let s=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Am(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Pa(r.snapshot);s.attachRef=null,s.route=r,s.injector=a??s.injector,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,t)}},Yl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Co=class{constructor(e,i){this.component=e,this.route=i}};function $S(n,e,i){let t=n._root,r=e?e._root:null;return ga(t,r,i,[t.value])}function GS(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Do(n,e){let i=Symbol(),t=e.get(n,i);return t===i?typeof n=="function"&&!Uv(n)?n:e.get(n):t}function ga(n,e,i,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=xo(e);return n.children.forEach(s=>{HS(s,o[s.value.outlet],i,t.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ya(a,i.getContext(s),r)),r}function HS(n,e,i,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=i?i.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=WS(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Yl(t)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ga(n,e,a?a.children:null,t,r):ga(n,e,i,t,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Co(a.outlet.component,s))}else s&&ya(e,a,r),r.canActivateChecks.push(new Yl(t)),o.component?ga(n,null,a?a.children:null,t,r):ga(n,null,i,t,r);return r}function WS(n,e,i){if(typeof i=="function")return i(n,e);switch(i){case"pathParamsChange":return!mr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!mr(n.url,e.url)||!Di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Wm(n,e)||!Di(n.queryParams,e.queryParams);case"paramsChange":default:return!Wm(n,e)}}function ya(n,e,i){let t=xo(n),r=n.value;Object.entries(t).forEach(([o,s])=>{r.component?e?ya(s,e.children.getContext(o),i):ya(s,null,i):ya(s,e,i)}),r.component?e&&e.outlet&&e.outlet.isActivated?i.canDeactivateChecks.push(new Co(e.outlet.component,r)):i.canDeactivateChecks.push(new Co(null,r)):i.canDeactivateChecks.push(new Co(null,r))}function Oa(n){return typeof n=="function"}function KS(n){return typeof n=="boolean"}function QS(n){return n&&Oa(n.canLoad)}function YS(n){return n&&Oa(n.canActivate)}function XS(n){return n&&Oa(n.canActivateChild)}function ZS(n){return n&&Oa(n.canDeactivate)}function JS(n){return n&&Oa(n.canMatch)}function D0(n){return n instanceof Fv||n?.name==="EmptyError"}var Fl=Symbol("INITIAL_VALUE");function Ro(){return We(n=>io(n.map(e=>e.pipe(Kt(1),oi(Fl)))).pipe(X(e=>{for(let i of e)if(i!==!0){if(i===Fl)return Fl;if(i===!1||ek(i))return i}return!0}),ze(e=>e!==Fl),Kt(1)))}function ek(n){return wa(n)||n instanceof Ta}function tk(n,e){return Wt(i=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=i;return s.length===0&&o.length===0?Q(Ce(j({},i),{guardsResult:!0})):ik(s,t,r,n).pipe(Wt(a=>a&&KS(a)?nk(t,o,n,e):Q(a)),X(a=>Ce(j({},i),{guardsResult:a})))})}function ik(n,e,i,t){return Ge(n).pipe(Wt(r=>ck(r.component,r.route,i,e,t)),Ci(r=>r!==!0,!0))}function nk(n,e,i,t){return Ge(e).pipe(gn(r=>ml(ok(r.route.parent,t),rk(r.route,t),ak(n,r.path,i),sk(n,r.route,i))),Ci(r=>r!==!0,!0))}function rk(n,e){return n!==null&&e&&e(new zm(n)),Q(!0)}function ok(n,e){return n!==null&&e&&e(new Bm(n)),Q(!0)}function sk(n,e,i){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return Q(!0);let r=t.map(o=>Ys(()=>{let s=Pa(e)??i,a=Do(o,s),l=YS(a)?a.canActivate(e,n):Ti(s,()=>a(e,n));return xn(l).pipe(Ci())}));return Q(r).pipe(Ro())}function ak(n,e,i){let t=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>GS(s)).filter(s=>s!==null).map(s=>Ys(()=>{let a=s.guards.map(l=>{let d=Pa(s.node)??i,h=Do(l,d),f=XS(h)?h.canActivateChild(t,n):Ti(d,()=>h(t,n));return xn(f).pipe(Ci())});return Q(a).pipe(Ro())}));return Q(o).pipe(Ro())}function ck(n,e,i,t,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(a=>{let l=Pa(e)??r,d=Do(a,l),h=ZS(d)?d.canDeactivate(n,e,i,t):Ti(l,()=>d(n,e,i,t));return xn(h).pipe(Ci())});return Q(s).pipe(Ro())}function lk(n,e,i,t){let r=e.canLoad;if(r===void 0||r.length===0)return Q(!0);let o=r.map(s=>{let a=Do(s,n),l=QS(a)?a.canLoad(e,i):Ti(n,()=>a(e,i));return xn(l)});return Q(o).pipe(Ro(),M0(t))}function M0(n){return Ov(qe(e=>{if(typeof e!="boolean")throw Ql(n,e)}),X(e=>e===!0))}function dk(n,e,i,t){let r=e.canMatch;if(!r||r.length===0)return Q(!0);let o=r.map(s=>{let a=Do(s,n),l=JS(a)?a.canMatch(e,i):Ti(n,()=>a(e,i));return xn(l)});return Q(o).pipe(Ro(),M0(t))}var Aa=class{constructor(e){this.segmentGroup=e||null}},Sa=class extends Error{constructor(e){super(),this.urlTree=e}};function wo(n){return tr(new Aa(n))}function uk(n){return tr(new Pe(4e3,!1))}function hk(n){return tr(k0(!1,ti.GuardRejected))}var Ym=class{constructor(e,i){this.urlSerializer=e,this.urlTree=i}lineralizeSegments(e,i){let t=[],r=i.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return Q(t);if(r.numberOfChildren>1||!r.children[fe])return uk(`${e.redirectTo}`);r=r.children[fe]}}applyRedirectCommands(e,i,t,r,o){if(typeof i!="string"){let a=i,{queryParams:l,fragment:d,routeConfig:h,url:f,outlet:g,params:_,data:S,title:P}=r,D=Ti(o,()=>a({params:_,data:S,queryParams:l,fragment:d,routeConfig:h,url:f,outlet:g,title:P}));if(D instanceof yn)throw new Sa(D);i=D}let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),e,t);if(i[0]==="/")throw new Sa(s);return s}applyRedirectCreateUrlTree(e,i,t,r){let o=this.createSegmentGroup(e,i.root,t,r);return new yn(o,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(e,i){let t={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);t[r]=i[a]}else t[r]=o}),t}createSegmentGroup(e,i,t,r){let o=this.createSegments(e,i.segments,t,r),s={};return Object.entries(i.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,t,r)}),new Re(o,s)}createSegments(e,i,t,r){return i.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,t))}findPosParam(e,i,t){let r=t[i.path.substring(1)];if(!r)throw new Pe(4001,!1);return r}findOrReturn(e,i){let t=0;for(let r of i){if(r.path===e.path)return i.splice(t),r;t++}return e}},Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mk(n,e,i,t,r){let o=of(n,e,i);return o.matched?(t=US(e,t),dk(t,e,i,r).pipe(X(s=>s===!0?o:j({},Xm)))):Q(o)}function of(n,e,i){if(e.path==="**")return fk(i);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||i.length>0)?j({},Xm):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let r=(e.matcher||lS)(i,n,e);if(!r)return j({},Xm);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?j(j({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:i.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function fk(n){return{matched:!0,parameters:n.length>0?h0(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function s0(n,e,i,t){return i.length>0&&bk(n,i,t)?{segmentGroup:new Re(e,gk(t,new Re(i,n.children))),slicedSegments:[]}:i.length===0&&_k(n,i,t)?{segmentGroup:new Re(n.segments,pk(n,i,t,n.children)),slicedSegments:i}:{segmentGroup:new Re(n.segments,n.children),slicedSegments:i}}function pk(n,e,i,t){let r={};for(let o of i)if(ed(n,e,o)&&!t[bi(o)]){let s=new Re([],{});r[bi(o)]=s}return j(j({},t),r)}function gk(n,e){let i={};i[fe]=e;for(let t of n)if(t.path===""&&bi(t)!==fe){let r=new Re([],{});i[bi(t)]=r}return i}function bk(n,e,i){return i.some(t=>ed(n,e,t)&&bi(t)!==fe)}function _k(n,e,i){return i.some(t=>ed(n,e,t))}function ed(n,e,i){return(n.hasChildren()||e.length>0)&&i.pathMatch==="full"?!1:i.path===""}function vk(n,e,i,t){return bi(n)!==t&&(t===fe||!ed(e,i,n))?!1:of(e,n,i).matched}function yk(n,e,i){return e.length===0&&!n.children[i]}var Zm=class{};function wk(n,e,i,t,r,o,s="emptyOnly"){return new Jm(n,e,i,t,r,s,o).recognize()}var xk=31,Jm=class{constructor(e,i,t,r,o,s,a){this.injector=e,this.configLoader=i,this.rootComponentType=t,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Ym(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Pe(4002,`'${e.segmentGroup}'`)}recognize(){let e=s0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:i,rootSnapshot:t})=>{let r=new ei(t,i),o=new Kl("",r),s=SS(t,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let i=new Io([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),fe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,fe,i).pipe(X(t=>({children:t,rootSnapshot:i})),pn(t=>{if(t instanceof Sa)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof Aa?this.noMatchError(t):t}))}processSegmentGroup(e,i,t,r,o){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,i,t,o):this.processSegment(e,i,t,t.segments,r,!0,o).pipe(X(s=>s instanceof ei?[s]:[]))}processChildren(e,i,t,r){let o=[];for(let s of Object.keys(t.children))s==="primary"?o.unshift(s):o.push(s);return Ge(o).pipe(gn(s=>{let a=t.children[s],l=zS(i,s);return this.processSegmentGroup(e,l,a,s,r)}),no((s,a)=>(s.push(...a),s)),Gh(null),Lv(),Wt(s=>{if(s===null)return wo(t);let a=P0(s);return Ek(a),Q(a)}))}processSegment(e,i,t,r,o,s,a){return Ge(i).pipe(gn(l=>this.processSegmentAgainstRoute(l._injector??e,i,l,t,r,o,s,a).pipe(pn(d=>{if(d instanceof Aa)return Q(null);throw d}))),Ci(l=>!!l),pn(l=>{if(D0(l))return yk(t,r,o)?Q(new Zm):wo(t);throw l}))}processSegmentAgainstRoute(e,i,t,r,o,s,a,l){return vk(t,r,o,s)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,t,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,i,t,o,s,l):wo(r):wo(r)}expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,a){let{matched:l,parameters:d,consumedSegments:h,positionalParamSegments:f,remainingSegments:g}=of(i,r,o);if(!l)return wo(i);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>xk&&(this.allowRedirects=!1));let _=new Io(o,d,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,a0(r),bi(r),r.component??r._loadedComponent??null,r,c0(r)),S=Wl(_,a,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data);let P=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,f,_,e);return this.applyRedirects.lineralizeSegments(r,P).pipe(Wt(D=>this.processSegment(e,t,i,D.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,i,t,r,o,s){let a=mk(i,t,r,e,this.urlSerializer);return t.path==="**"&&(i.children={}),a.pipe(We(l=>l.matched?(e=t._injector??e,this.getChildConfig(e,t,r).pipe(We(({routes:d})=>{let h=t._loadedInjector??e,{parameters:f,consumedSegments:g,remainingSegments:_}=l,S=new Io(g,f,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,a0(t),bi(t),t.component??t._loadedComponent??null,t,c0(t)),P=Wl(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(P.params),S.data=Object.freeze(P.data);let{segmentGroup:D,slicedSegments:$}=s0(i,g,_,d);if($.length===0&&D.hasChildren())return this.processChildren(h,d,D,S).pipe(X(B=>new ei(S,B)));if(d.length===0&&$.length===0)return Q(new ei(S,[]));let Y=bi(t)===o;return this.processSegment(h,d,D,$,Y?fe:o,!0,S).pipe(X(B=>new ei(S,B instanceof ei?[B]:[])))}))):wo(i)))}getChildConfig(e,i,t){return i.children?Q({routes:i.children,injector:e}):i.loadChildren?i._loadedRoutes!==void 0?Q({routes:i._loadedRoutes,injector:i._loadedInjector}):lk(e,i,t,this.urlSerializer).pipe(Wt(r=>r?this.configLoader.loadChildren(e,i).pipe(qe(o=>{i._loadedRoutes=o.routes,i._loadedInjector=o.injector})):hk(i))):Q({routes:[],injector:e})}};function Ek(n){n.sort((e,i)=>e.value.outlet===fe?-1:i.value.outlet===fe?1:e.value.outlet.localeCompare(i.value.outlet))}function Ik(n){let e=n.value.routeConfig;return e&&e.path===""}function P0(n){let e=[],i=new Set;for(let t of n){if(!Ik(t)){e.push(t);continue}let r=e.find(o=>t.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...t.children),i.add(r)):e.push(t)}for(let t of i){let r=P0(t.children);e.push(new ei(t.value,r))}return e.filter(t=>!i.has(t))}function a0(n){return n.data||{}}function c0(n){return n.resolve||{}}function Ck(n,e,i,t,r,o){return Wt(s=>wk(n,e,i,t,s.extractedUrl,r,o).pipe(X(({state:a,tree:l})=>Ce(j({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function Tk(n,e){return Wt(i=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=i;if(!r.length)return Q(i);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of O0(l))s.add(d);let a=0;return Ge(s).pipe(gn(l=>o.has(l)?Ak(l,t,n,e):(l.data=Wl(l,l.parent,n).resolve,Q(void 0))),qe(()=>a++),Hh(1),Wt(l=>a===s.size?Q(i):Ei))})}function O0(n){let e=n.children.map(i=>O0(i)).flat();return[n,...e]}function Ak(n,e,i,t){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!A0(r)&&(o[Ra]=r.title),Sk(o,n,e,t).pipe(X(s=>(n._resolvedData=s,n.data=Wl(n,n.parent,i).resolve,null)))}function Sk(n,e,i,t){let r=Rm(n);if(r.length===0)return Q({});let o={};return Ge(r).pipe(Wt(s=>kk(n[s],e,i,t).pipe(Ci(),qe(a=>{if(a instanceof Ta)throw Ql(new Ao,a);o[s]=a}))),Hh(1),Vv(o),pn(s=>D0(s)?Ei:tr(s)))}function kk(n,e,i,t){let r=Pa(e)??t,o=Do(n,r),s=o.resolve?o.resolve(e,i):Ti(r,()=>o(e,i));return xn(s)}function Sm(n){return We(e=>{let i=n(e);return i?Ge(i).pipe(X(()=>e)):Q(e)})}var N0=(()=>{let e=class e{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===fe);return r}getResolvedTitleForRoute(t){return t.data[Ra]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:()=>q(Rk),providedIn:"root"});let n=e;return n})(),Rk=(()=>{let e=class e extends N0{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(T(e0))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Na=new W("",{providedIn:"root",factory:()=>({})}),Xl=new W(""),sf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(Cl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=xn(t.loadComponent()).pipe(X(F0),qe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),nr(()=>{this.componentLoaders.delete(t)})),o=new dl(r,()=>new se).pipe(Uh());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Dk(r,this.compiler,t,this.onLoadEndListener).pipe(nr(()=>{this.childrenLoaders.delete(r)})),a=new dl(s,()=>new se).pipe(Uh());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Dk(n,e,i,t){return xn(n.loadChildren()).pipe(X(F0),Wt(r=>r instanceof oy||Array.isArray(r)?Q(r):Ge(e.compileModuleAsync(r))),X(r=>{t&&t(n);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(i).injector,s=o.get(Xl,[],{optional:!0,self:!0}).flat()),{routes:s.map(rf),injector:o}}))}function Mk(n){return n&&typeof n=="object"&&"default"in n}function F0(n){return Mk(n)?n.default:n}var af=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:()=>q(Pk),providedIn:"root"});let n=e;return n})(),Pk=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),V0=new W(""),L0=new W("");function Ok(n,e,i){let t=n.get(L0),r=n.get(ue);return n.get(Z).runOutsideAngular(()=>{if(!r.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=r.startViewTransition(()=>(o(),Nk(n))),{onViewTransitionCreated:l}=t;return l&&Ti(n,()=>l({transition:a,from:e,to:i})),s})}function Nk(n){return new Promise(e=>{uo(()=>setTimeout(e),{injector:n,phase:ry.Read})})}var Fk=new W(""),cf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new se,this.transitionAbortSubject=new se,this.configLoader=q(sf),this.environmentInjector=q(Hi),this.urlSerializer=q(Da),this.rootContexts=q(Ma),this.location=q(cr),this.inputBindingEnabled=q(Jl,{optional:!0})!==null,this.titleStrategy=q(N0),this.options=q(Na,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(af),this.createViewTransition=q(V0,{optional:!0}),this.navigationErrorHandler=q(Fk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let t=o=>this.events.next(new Lm(o)),r=o=>this.events.next(new jm(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(Ce(j(j({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,o){return this.transitions=new Rt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:va,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ze(s=>s.id!==0),X(s=>Ce(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),We(s=>{let a=!1,l=!1;return Q(s).pipe(We(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ti.SupersededByNewNavigation),Ei;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=d.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!h&&f!=="reload"){let g="";return this.events.next(new wn(d.id,this.urlSerializer.serialize(d.rawUrl),g,zl.IgnoredSameUrlNavigation)),d.resolve(!1),Ei}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Q(d).pipe(We(g=>{let _=this.transitions?.getValue();return this.events.next(new So(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Ei:Promise.resolve(g)}),Ck(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ce(j({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new ql(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:g,extractedUrl:_,source:S,restoredState:P,extras:D}=d,$=new So(g,this.urlSerializer.serialize(_),S,P);this.events.next($);let Y=C0(this.rootComponentType).snapshot;return this.currentTransition=s=Ce(j({},d),{targetSnapshot:Y,urlAfterRedirects:_,extras:Ce(j({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,Q(s)}else{let g="";return this.events.next(new wn(d.id,this.urlSerializer.serialize(d.extractedUrl),g,zl.IgnoredByUrlHandlingStrategy)),d.resolve(!1),Ei}}),qe(d=>{let h=new Om(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),X(d=>(this.currentTransition=s=Ce(j({},d),{guards:$S(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),tk(this.environmentInjector,d=>this.events.next(d)),qe(d=>{if(s.guardsResult=d.guardsResult,d.guardsResult&&typeof d.guardsResult!="boolean")throw Ql(this.urlSerializer,d.guardsResult);let h=new Nm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(h)}),ze(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",ti.GuardRejected),!1)),Sm(d=>{if(d.guards.canActivateChecks.length)return Q(d).pipe(qe(h=>{let f=new Fm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),We(h=>{let f=!1;return Q(h).pipe(Tk(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(h,"",ti.NoDataFromResolver)}}))}),qe(h=>{let f=new Vm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}))}),Sm(d=>{let h=f=>{let g=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(f.routeConfig).pipe(qe(_=>{f.component=_}),X(()=>{})));for(let _ of f.children)g.push(...h(_));return g};return io(h(d.targetSnapshot.root)).pipe(Gh(null),Kt(1))}),Sm(()=>this.afterPreactivation()),We(()=>{let{currentSnapshot:d,targetSnapshot:h}=s,f=this.createViewTransition?.(this.environmentInjector,d.root,h.root);return f?Ge(f).pipe(X(()=>s)):Q(s)}),X(d=>{let h=FS(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Ce(j({},d),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),qe(()=>{this.events.next(new Ia)}),qS(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Kt(1),qe({next:d=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Mi(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{a=!0}}),nt(this.transitionAbortSubject.pipe(qe(d=>{throw d}))),nr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",ti.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),pn(d=>{if(l=!0,R0(d))this.events.next(new Ki(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),jS(d)?this.events.next(new ko(d.url,d.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Ea(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0);try{let f=Ti(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(f instanceof Ta){let{message:g,cancellationCode:_}=Ql(this.urlSerializer,f);this.events.next(new Ki(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new ko(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(h);let g=t.errorHandler(d);s.resolve(!!g)}}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return Ei}))}))}cancelNavigationTransition(t,r,o){let s=new Ki(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Vk(n){return n!==va}var Lk=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:()=>q(jk),providedIn:"root"});let n=e;return n})(),ef=class{shouldDetach(e){return!1}store(e,i){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,i){return e.routeConfig===i.routeConfig}},jk=(()=>{let e=class e extends ef{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=or(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),j0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:()=>q(Bk),providedIn:"root"});let n=e;return n})(),Bk=(()=>{let e=class e extends j0{constructor(){super(...arguments),this.location=q(cr),this.urlSerializer=q(Da),this.options=q(Na,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(af),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=C0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof So)this.stateMemento=this.createStateMemento();else if(t instanceof wn)this.rawUrlTree=r.initialUrl;else if(t instanceof ql){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else t instanceof Ia?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof Ki&&(t.code===ti.GuardRejected||t.code===ti.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ea?this.restoreHistory(r,!0):t instanceof Mi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=j(j({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=or(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ba=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(ba||{});function B0(n,e){n.events.pipe(ze(i=>i instanceof Mi||i instanceof Ki||i instanceof Ea||i instanceof wn),X(i=>i instanceof Mi||i instanceof wn?ba.COMPLETE:(i instanceof Ki?i.code===ti.Redirect||i.code===ti.SupersededByNewNavigation:!1)?ba.REDIRECTING:ba.FAILED),ze(i=>i!==ba.REDIRECTING),Kt(1)).subscribe(()=>{e()})}function Uk(n){throw n}var zk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},qt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(wl),this.stateManager=q(j0),this.options=q(Na,{optional:!0})||{},this.pendingTasks=q(Gv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(cf),this.urlSerializer=q(Da),this.location=q(cr),this.urlHandlingStrategy=q(af),this._events=new se,this.errorHandler=this.options.errorHandler||Uk,this.navigated=!1,this.routeReuseStrategy=q(Lk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(Xl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(Jl,{optional:!0}),this.eventsSubscription=new kt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Ki&&r.code!==ti.Redirect&&r.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Mi)this.navigated=!0;else if(r instanceof ko){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),d=j({info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Vk(o.source)},a);this.scheduleNavigation(l,va,null,d,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}Gk(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),va,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let d=j({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(rf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:d}=r,h=d?this.currentUrlTree.fragment:a,f=null;switch(l){case"merge":f=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=s||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let _=o?o.snapshot:this.routerState.snapshot.root;g=w0(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return x0(g,t,f,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=wa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,va,null,r)}navigate(t,r={skipLocationChange:!1}){return $k(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=j({},zk):r===!1?o=j({},qk):o=r,wa(t))return t0(this.currentUrlTree,t,o);let s=this.parseUrl(t);return t0(this.currentUrlTree,s,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(t,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,d,h;a?(l=a.resolve,d=a.reject,h=a.promise):h=new Promise((g,_)=>{l=g,d=_});let f=this.pendingTasks.add();return B0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:d,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function $k(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Pe(4008,!1)}function Gk(n){return!(n instanceof Ia)&&!(n instanceof ko)}var td=(()=>{let e=class e{constructor(t,r,o,s,a,l){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new se,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof Mi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,o,s,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||r||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:iy(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,t,r):o.removeAttribute(s,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(O(qt),O(fr),Ai("tabindex"),O(ia),O(pe),O(oa))},e.\u0275dir=ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&De("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Je("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",_e],skipLocationChange:[2,"skipLocationChange","skipLocationChange",_e],replaceUrl:[2,"replaceUrl","replaceUrl",_e],routerLink:"routerLink"},standalone:!0,features:[gt,Dt]});let n=e;return n})();var Zl=class{};var Hk=(()=>{let e=class e{constructor(t,r,o,s,a){this.router=t,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ze(t=>t instanceof Mi),gn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=em(s.providers,t,`Route: ${s.path}`));let a=s._injector??t,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return Ge(o).pipe(zh())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=Q(null);let s=o.pipe(Wt(a=>a===null?Q(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return Ge([s,a]).pipe(zh())}else return s})}};e.\u0275fac=function(r){return new(r||e)(T(qt),T(Cl),T(Hi),T(Zl),T(sf))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),U0=new W(""),Wk=(()=>{let e=class e{constructor(t,r,o,s,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=q(Hi),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof So?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Mi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof wn&&t.code===zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $l&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>M(this,null,function*(){yield new Promise(o=>{setTimeout(()=>{o()}),uo(()=>{o()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new $l(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){co()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})();function Kk(n){return n.routerState.root}function Fa(n,e){return{\u0275kind:n,\u0275providers:e}}function Qk(){let n=q(pi);return e=>{let i=n.get(ra);if(e!==i.components[0])return;let t=n.get(qt),r=n.get(z0);n.get(lf)===1&&t.initialNavigation(),n.get(q0,null,Kh.Optional)?.setUpPreloading(),n.get(U0,null,Kh.Optional)?.init(),t.resetRootComponentType(i.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var z0=new W("",{factory:()=>new se}),lf=new W("",{providedIn:"root",factory:()=>1});function Yk(){return Fa(2,[{provide:lf,useValue:0},{provide:rm,multi:!0,deps:[pi],useFactory:e=>{let i=e.get(_y,Promise.resolve());return()=>i.then(()=>new Promise(t=>{let r=e.get(qt),o=e.get(z0);B0(r,()=>{t(!0)}),e.get(cf).afterPreactivation=()=>(t(!0),o.closed?Q(void 0):o),r.initialNavigation()}))}}])}function Xk(){return Fa(3,[{provide:rm,multi:!0,useFactory:()=>{let e=q(qt);return()=>{e.setUpLocationChangeListener()}}},{provide:lf,useValue:2}])}var q0=new W("");function Zk(n){return Fa(0,[{provide:q0,useExisting:Hk},{provide:Zl,useExisting:n}])}function Jk(){return Fa(8,[o0,{provide:Jl,useExisting:o0}])}function eR(n){let e=[{provide:V0,useValue:Ok},{provide:L0,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return Fa(9,e)}var l0=new W("ROUTER_FORROOT_GUARD"),tR=[cr,{provide:Da,useClass:Ao},qt,Ma,{provide:fr,useFactory:Kk,deps:[qt]},sf,[]],df=(()=>{let e=class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[tR,[],{provide:Xl,multi:!0,useValue:t},{provide:l0,useFactory:oR,deps:[[qt,new oo,new Qh]]},{provide:Na,useValue:r||{}},r?.useHash?nR():rR(),iR(),r?.preloadingStrategy?Zk(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sR(r):[],r?.bindToComponentInputs?Jk().\u0275providers:[],r?.enableViewTransitions?eR().\u0275providers:[],aR()]}}static forChild(t){return{ngModule:e,providers:[{provide:Xl,multi:!0,useValue:t}]}}};e.\u0275fac=function(r){return new(r||e)(T(l0,8))},e.\u0275mod=ie({type:e}),e.\u0275inj=te({});let n=e;return n})();function iR(){return{provide:U0,useFactory:()=>{let n=q(Ay),e=q(Z),i=q(Na),t=q(cf),r=q(Da);return i.scrollOffset&&n.setOffset(i.scrollOffset),new Wk(r,t,n,e,i)}}}function nR(){return{provide:oa,useClass:yy}}function rR(){return{provide:oa,useClass:vy}}function oR(n){return"guarded"}function sR(n){return[n.initialNavigation==="disabled"?Xk().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Yk().\u0275providers:[]]}var d0=new W("");function aR(){return[{provide:d0,useFactory:Qk},{provide:ly,multi:!0,useExisting:d0}]}var $0=(()=>{let e=class e{constructor(){this.items=[]}addProduct(t){this.items.push(t)}getItems(){return this.items}clearCart(){return this.items=[],this.items}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var lR="firebase",dR="10.12.2";_n(lR,dR,"app");var gr=new po("ANGULARFIRE2_VERSION");var uR=(n,e)=>{let i=e?[e]:Oy(),t=[];return i.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{t.includes(s)||t.push(s)})}),t},pr=class{constructor(){return uR(hR)}},hR="app-check";function uf(){}var nd=class{zone;delegate;constructor(e,i=Nv){this.zone=e,this.delegate=i}now(){return this.delegate.now()}schedule(e,i,t){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,i,t)}},hf=class{zone;task=null;constructor(e){this.zone=e}call(e,i){let t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uf,{},uf,uf)),i.pipe(qe({next:t,complete:t,error:t})).subscribe(e).add(t)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},rd=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(i){this.ngZone=i,this.outsideAngular=i.runOutsideAngular(()=>new nd(Zone.current)),this.insideAngular=i.run(()=>new nd(Zone.current,ul)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(t){return new(t||n)(T(Z))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function mR(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function $t(n){return fR(mR())(n)}function fR(n){return function(i){return i=i.lift(new hf(n.ngZone)),i.pipe(to(n.outsideAngular),er(n.insideAngular))}}var bR=new Map,_R={activated:!1,tokenObservers:[]},vR={initialized:!1,enabled:!1};function _i(n){return bR.get(n)||Object.assign({},_R)}function Y0(){return vR}var yR="https://content-firebaseappcheck.googleapis.com/v1";var wR="exchangeDebugToken",H0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},AF=24*60*60*1e3;var ff=class{constructor(e,i,t,r,o){if(this.operation=e,this.retryPolicy=i,this.getWaitDuration=t,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return M(this,null,function*(){this.stop();try{this.pending=new sm,this.pending.promise.catch(i=>{}),yield xR(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new sm,this.pending.promise.catch(i=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}};function xR(n){return new Promise(e=>{setTimeout(e,n)})}var ER={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},En=new My("appCheck","AppCheck",ER);function X0(n){if(!_i(n).activated)throw En.create("use-before-activation",{appName:n.name})}function Z0(t,r){return M(this,arguments,function*({url:n,body:e},i){let o={"Content-Type":"application/json"},s=i.getImmediate({optional:!0});if(s){let _=yield s.getHeartbeatsHeader();_&&(o["X-Firebase-Client"]=_)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(_){throw En.create("fetch-network-error",{originalErrorMessage:_?.message})}if(l.status!==200)throw En.create("fetch-status-error",{httpStatus:l.status});let d;try{d=yield l.json()}catch(_){throw En.create("fetch-parse-error",{originalErrorMessage:_?.message})}let h=d.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw En.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${d.ttl}`});let f=Number(h[1])*1e3,g=Date.now();return{token:d.token,expireTimeMillis:g+f,issuedAtTimeMillis:g}})}function J0(n,e){let{projectId:i,appId:t,apiKey:r}=n.options;return{url:`${yR}/projects/${i}/apps/${t}:${wR}?key=${r}`,body:{debug_token:e}}}var IR="firebase-app-check-database",CR=1,pf="firebase-app-check-store";var od=null;function TR(){return od||(od=new Promise((n,e)=>{try{let i=indexedDB.open(IR,CR);i.onsuccess=t=>{n(t.target.result)},i.onerror=t=>{var r;e(En.create("storage-open",{originalErrorMessage:(r=t.target.error)===null||r===void 0?void 0:r.message}))},i.onupgradeneeded=t=>{let r=t.target.result;switch(t.oldVersion){case 0:r.createObjectStore(pf,{keyPath:"compositeKey"})}}}catch(i){e(En.create("storage-open",{originalErrorMessage:i?.message}))}}),od)}function AR(n,e){return SR(kR(n),e)}function SR(n,e){return M(this,null,function*(){let t=(yield TR()).transaction(pf,"readwrite"),o=t.objectStore(pf).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},t.onerror=l=>{var d;a(En.create("storage-set",{originalErrorMessage:(d=l.target.error)===null||d===void 0?void 0:d.message}))}})})}function kR(n){return`${n.options.appId}-${n.name}`}var gf=new Al("@firebase/app-check");function mf(n,e){return Tl()?AR(n,e).catch(i=>{gf.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function ew(){return Y0().enabled}function tw(){return M(this,null,function*(){let n=Y0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var RR={error:"UNKNOWN_ERROR"};function DR(n){return ky.encodeString(JSON.stringify(n),!1)}function bf(n,e=!1){return M(this,null,function*(){let i=n.app;X0(i);let t=_i(i),r=t.token,o;if(r&&!Va(r)&&(t.token=void 0,r=void 0),!r){let l=yield t.cachedTokenPromise;l&&(Va(l)?r=l:yield mf(i,void 0))}if(!e&&r&&Va(r))return{token:r.token};let s=!1;if(ew()){t.exchangeTokenPromise||(t.exchangeTokenPromise=Z0(J0(i,yield tw()),n.heartbeatServiceProvider).finally(()=>{t.exchangeTokenPromise=void 0}),s=!0);let l=yield t.exchangeTokenPromise;return yield mf(i,l),t.token=l,{token:l.token}}try{t.exchangeTokenPromise||(t.exchangeTokenPromise=t.provider.getToken().finally(()=>{t.exchangeTokenPromise=void 0}),s=!0),r=yield _i(i).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?gf.warn(l.message):gf.error(l),o=l}let a;return r?o?Va(r)?a={token:r.token,internalError:o}:a=K0(o):(a={token:r.token},t.token=r,yield mf(i,r)):a=K0(o),s&&NR(i,a),a})}function MR(n){return M(this,null,function*(){let e=n.app;X0(e);let{provider:i}=_i(e);if(ew()){let t=yield tw(),{token:r}=yield Z0(J0(e,t),n.heartbeatServiceProvider);return{token:r}}else{let{token:t}=yield i.getToken();return{token:t}}})}function PR(n,e,i,t){let{app:r}=n,o=_i(r),s={next:i,error:t,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Va(o.token)){let a=o.token;Promise.resolve().then(()=>{i({token:a.token}),W0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>W0(n))}function iw(n,e){let i=_i(n),t=i.tokenObservers.filter(r=>r.next!==e);t.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=t}function W0(n){let{app:e}=n,i=_i(e),t=i.tokenRefresher;t||(t=OR(n),i.tokenRefresher=t),!t.isRunning()&&i.isTokenAutoRefreshEnabled&&t.start()}function OR(n){let{app:e}=n;return new ff(()=>M(this,null,function*(){let i=_i(e),t;if(i.token?t=yield bf(n,!0):t=yield bf(n),t.error)throw t.error;if(t.internalError)throw t.internalError}),()=>!0,()=>{let i=_i(e);if(i.token){let t=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5,r=i.token.expireTimeMillis-5*60*1e3;return t=Math.min(t,r),Math.max(0,t-Date.now())}else return 0},H0.RETRIAL_MIN_WAIT,H0.RETRIAL_MAX_WAIT)}function NR(n,e){let i=_i(n).tokenObservers;for(let t of i)try{t.type==="EXTERNAL"&&e.error!=null?t.error(e.error):t.next(e)}catch{}}function Va(n){return n.expireTimeMillis-Date.now()>0}function K0(n){return{token:DR(RR),error:n}}var _f=class{constructor(e,i){this.app=e,this.heartbeatServiceProvider=i}_delete(){let{tokenObservers:e}=_i(this.app);for(let i of e)iw(this.app,i.next);return Promise.resolve()}};function FR(n,e){return new _f(n,e)}function VR(n){return{getToken:e=>bf(n,e),getLimitedUseToken:()=>MR(n),addTokenListener:e=>PR(n,"INTERNAL",e),removeTokenListener:e=>iw(n.app,e)}}var LR="@firebase/app-check",jR="0.8.4";var BR="app-check",Q0="app-check-internal";function UR(){aa(new dr(BR,n=>{let e=n.getProvider("app").getImmediate(),i=n.getProvider("heartbeat");return FR(e,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,i)=>{n.getProvider(Q0).initialize()})),aa(new dr(Q0,n=>{let e=n.getProvider("app-check").getImmediate();return VR(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),_n(LR,jR)}UR();var zR=["localhost","0.0.0.0","127.0.0.1"],jF=typeof window<"u"&&zR.includes(window.location.hostname);var qR="firebase",$R="10.12.2";Lt.registerVersion(qR,$R,"app-compat");var GR=["ngOnDestroy"],ow=(n,e,i,t={})=>new Proxy(n,{get:(r,o)=>i.runOutsideAngular(()=>{if(n[o])return t?.spy?.get&&t.spy.get(o,n[o]),n[o];if(GR.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(d=>i.run(()=>d)):i.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,d)=>s.then(h=>{let f=h?.(...d);return t?.spy?.apply&&t.spy.apply(o,d,f),f})})})});var sd=class{constructor(e){return e}},Mo=new W("angularfire2.app.options"),Po=new W("angularfire2.app.name");function La(n,e,i){let t=typeof i=="string"&&i||"[DEFAULT]",r=typeof i=="object"&&i||{};r.name=r.name||t;let s=Lt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Lt.initializeApp(n,r));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;HR("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new sd(s)}var HR=(n,...e)=>{om()&&typeof console<"u"&&console[n](...e)},WR={provide:sd,useFactory:La,deps:[Mo,Z,[new oo,Po]]},sw=(()=>{class n{static initializeApp(i,t){return{ngModule:n,providers:[{provide:Mo,useValue:i},{provide:Po,useValue:t}]}}constructor(i){Lt.registerVersion("angularfire",gr.full,"core"),Lt.registerVersion("angularfire",gr.full,"app-compat"),Lt.registerVersion("angular",ay.full,i.toString())}static \u0275fac=function(t){return new(t||n)(T(Qt))};static \u0275mod=ie({type:n});static \u0275inj=te({providers:[WR]})}return n})();function ad(n,e,i,t,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(o)return KR(r,s)||(rw("error",`${e} was already initialized on the ${i} Firebase App with different settings.${QR?" You may need to reload as Firebase is not HMR aware.":""}`),rw("warn",{is:r,was:s})),o;{let a=t();return globalThis.\u0275AngularfireInstanceCache.push([n,a,r]),a}}function KR(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var QR=typeof module<"u"&&!!module.hot,rw=(n,...e)=>{om()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var vf=new W("angularfire2.auth.use-emulator"),yf=new W("angularfire2.auth.settings"),wf=new W("angularfire2.auth.tenant-id"),xf=new W("angularfire2.auth.langugage-code"),Ef=new W("angularfire2.auth.use-device-language"),If=new W("angularfire.auth.persistence"),Cf=(n,e,i,t,r,o,s,a)=>ad(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let l=e.runOutsideAngular(()=>n.auth());if(i&&l.useEmulator(...i),t&&(l.tenantId=t),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[d,h]of Object.entries(s))l.settings[d]=h;return a&&l.setPersistence(a),l},[i,t,r,o,s,a]),ja=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(i,t,r,o,s,a,l,d,h,f,g,_){let S=new se,P=Q(void 0).pipe(er(s.outsideAngular),We(()=>o.runOutsideAngular(()=>import("./chunk-IJWQOPIY.js"))),X(()=>La(i,o,t)),X(D=>Cf(D,o,a,d,h,f,l,g)),ro({bufferSize:1,refCount:!1}));if(lr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Q(null);else{P.pipe(Ci()).subscribe();let D=P.pipe(We(B=>B.getRedirectResult().then(oe=>oe,()=>null)),$t,ro({bufferSize:1,refCount:!1})),$=P.pipe(We(B=>new zt(oe=>({unsubscribe:o.runOutsideAngular(()=>B.onAuthStateChanged(ce=>oe.next(ce),ce=>oe.error(ce),()=>oe.complete()))})))),Y=P.pipe(We(B=>new zt(oe=>({unsubscribe:o.runOutsideAngular(()=>B.onIdTokenChanged(ce=>oe.next(ce),ce=>oe.error(ce),()=>oe.complete()))}))));this.authState=D.pipe(Wh($),to(s.outsideAngular),er(s.insideAngular)),this.user=D.pipe(Wh(Y),to(s.outsideAngular),er(s.insideAngular)),this.idToken=this.user.pipe(We(B=>B?Ge(B.getIdToken()):Q(null))),this.idTokenResult=this.user.pipe(We(B=>B?Ge(B.getIdTokenResult()):Q(null))),this.credential=Ii(D,S,this.authState.pipe(ze(B=>!B))).pipe(X(B=>B?.user?B:null),to(s.outsideAngular),er(s.insideAngular))}return ow(this,P,o,{spy:{apply:(D,$,Y)=>{(D.startsWith("signIn")||D.startsWith("createUser"))&&Y.then(B=>S.next(B))}}})}static \u0275fac=function(t){return new(t||n)(T(Mo),T(Po,8),T(Qt),T(Z),T(rd),T(vf,8),T(yf,8),T(wf,8),T(xf,8),T(Ef,8),T(If,8),T(pr,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),aw=(()=>{class n{constructor(){Lt.registerVersion("angularfire",gr.full,"auth-compat")}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=te({providers:[ja]})}return n})();var lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dw={};var In,Tf;(function(){var n;function e(w,b){function y(){}y.prototype=b.prototype,w.D=b.prototype,w.prototype=new y,w.prototype.constructor=w,w.C=function(x,E,C){for(var v=Array(arguments.length-2),qi=2;qi<arguments.length;qi++)v[qi-2]=arguments[qi];return b.prototype[E].apply(x,v)}}function i(){this.blockSize=-1}function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(t,i),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,b,y){y||(y=0);var x=Array(16);if(typeof b=="string")for(var E=0;16>E;++E)x[E]=b.charCodeAt(y++)|b.charCodeAt(y++)<<8|b.charCodeAt(y++)<<16|b.charCodeAt(y++)<<24;else for(E=0;16>E;++E)x[E]=b[y++]|b[y++]<<8|b[y++]<<16|b[y++]<<24;b=w.g[0],y=w.g[1],E=w.g[2];var C=w.g[3],v=b+(C^y&(E^C))+x[0]+3614090360&4294967295;b=y+(v<<7&4294967295|v>>>25),v=C+(E^b&(y^E))+x[1]+3905402710&4294967295,C=b+(v<<12&4294967295|v>>>20),v=E+(y^C&(b^y))+x[2]+606105819&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(b^E&(C^b))+x[3]+3250441966&4294967295,y=E+(v<<22&4294967295|v>>>10),v=b+(C^y&(E^C))+x[4]+4118548399&4294967295,b=y+(v<<7&4294967295|v>>>25),v=C+(E^b&(y^E))+x[5]+1200080426&4294967295,C=b+(v<<12&4294967295|v>>>20),v=E+(y^C&(b^y))+x[6]+2821735955&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(b^E&(C^b))+x[7]+4249261313&4294967295,y=E+(v<<22&4294967295|v>>>10),v=b+(C^y&(E^C))+x[8]+1770035416&4294967295,b=y+(v<<7&4294967295|v>>>25),v=C+(E^b&(y^E))+x[9]+2336552879&4294967295,C=b+(v<<12&4294967295|v>>>20),v=E+(y^C&(b^y))+x[10]+4294925233&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(b^E&(C^b))+x[11]+2304563134&4294967295,y=E+(v<<22&4294967295|v>>>10),v=b+(C^y&(E^C))+x[12]+1804603682&4294967295,b=y+(v<<7&4294967295|v>>>25),v=C+(E^b&(y^E))+x[13]+4254626195&4294967295,C=b+(v<<12&4294967295|v>>>20),v=E+(y^C&(b^y))+x[14]+2792965006&4294967295,E=C+(v<<17&4294967295|v>>>15),v=y+(b^E&(C^b))+x[15]+1236535329&4294967295,y=E+(v<<22&4294967295|v>>>10),v=b+(E^C&(y^E))+x[1]+4129170786&4294967295,b=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(b^y))+x[6]+3225465664&4294967295,C=b+(v<<9&4294967295|v>>>23),v=E+(b^y&(C^b))+x[11]+643717713&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^b&(E^C))+x[0]+3921069994&4294967295,y=E+(v<<20&4294967295|v>>>12),v=b+(E^C&(y^E))+x[5]+3593408605&4294967295,b=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(b^y))+x[10]+38016083&4294967295,C=b+(v<<9&4294967295|v>>>23),v=E+(b^y&(C^b))+x[15]+3634488961&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^b&(E^C))+x[4]+3889429448&4294967295,y=E+(v<<20&4294967295|v>>>12),v=b+(E^C&(y^E))+x[9]+568446438&4294967295,b=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(b^y))+x[14]+3275163606&4294967295,C=b+(v<<9&4294967295|v>>>23),v=E+(b^y&(C^b))+x[3]+4107603335&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^b&(E^C))+x[8]+1163531501&4294967295,y=E+(v<<20&4294967295|v>>>12),v=b+(E^C&(y^E))+x[13]+2850285829&4294967295,b=y+(v<<5&4294967295|v>>>27),v=C+(y^E&(b^y))+x[2]+4243563512&4294967295,C=b+(v<<9&4294967295|v>>>23),v=E+(b^y&(C^b))+x[7]+1735328473&4294967295,E=C+(v<<14&4294967295|v>>>18),v=y+(C^b&(E^C))+x[12]+2368359562&4294967295,y=E+(v<<20&4294967295|v>>>12),v=b+(y^E^C)+x[5]+4294588738&4294967295,b=y+(v<<4&4294967295|v>>>28),v=C+(b^y^E)+x[8]+2272392833&4294967295,C=b+(v<<11&4294967295|v>>>21),v=E+(C^b^y)+x[11]+1839030562&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^b)+x[14]+4259657740&4294967295,y=E+(v<<23&4294967295|v>>>9),v=b+(y^E^C)+x[1]+2763975236&4294967295,b=y+(v<<4&4294967295|v>>>28),v=C+(b^y^E)+x[4]+1272893353&4294967295,C=b+(v<<11&4294967295|v>>>21),v=E+(C^b^y)+x[7]+4139469664&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^b)+x[10]+3200236656&4294967295,y=E+(v<<23&4294967295|v>>>9),v=b+(y^E^C)+x[13]+681279174&4294967295,b=y+(v<<4&4294967295|v>>>28),v=C+(b^y^E)+x[0]+3936430074&4294967295,C=b+(v<<11&4294967295|v>>>21),v=E+(C^b^y)+x[3]+3572445317&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^b)+x[6]+76029189&4294967295,y=E+(v<<23&4294967295|v>>>9),v=b+(y^E^C)+x[9]+3654602809&4294967295,b=y+(v<<4&4294967295|v>>>28),v=C+(b^y^E)+x[12]+3873151461&4294967295,C=b+(v<<11&4294967295|v>>>21),v=E+(C^b^y)+x[15]+530742520&4294967295,E=C+(v<<16&4294967295|v>>>16),v=y+(E^C^b)+x[2]+3299628645&4294967295,y=E+(v<<23&4294967295|v>>>9),v=b+(E^(y|~C))+x[0]+4096336452&4294967295,b=y+(v<<6&4294967295|v>>>26),v=C+(y^(b|~E))+x[7]+1126891415&4294967295,C=b+(v<<10&4294967295|v>>>22),v=E+(b^(C|~y))+x[14]+2878612391&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~b))+x[5]+4237533241&4294967295,y=E+(v<<21&4294967295|v>>>11),v=b+(E^(y|~C))+x[12]+1700485571&4294967295,b=y+(v<<6&4294967295|v>>>26),v=C+(y^(b|~E))+x[3]+2399980690&4294967295,C=b+(v<<10&4294967295|v>>>22),v=E+(b^(C|~y))+x[10]+4293915773&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~b))+x[1]+2240044497&4294967295,y=E+(v<<21&4294967295|v>>>11),v=b+(E^(y|~C))+x[8]+1873313359&4294967295,b=y+(v<<6&4294967295|v>>>26),v=C+(y^(b|~E))+x[15]+4264355552&4294967295,C=b+(v<<10&4294967295|v>>>22),v=E+(b^(C|~y))+x[6]+2734768916&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~b))+x[13]+1309151649&4294967295,y=E+(v<<21&4294967295|v>>>11),v=b+(E^(y|~C))+x[4]+4149444226&4294967295,b=y+(v<<6&4294967295|v>>>26),v=C+(y^(b|~E))+x[11]+3174756917&4294967295,C=b+(v<<10&4294967295|v>>>22),v=E+(b^(C|~y))+x[2]+718787259&4294967295,E=C+(v<<15&4294967295|v>>>17),v=y+(C^(E|~b))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(E+(v<<21&4294967295|v>>>11))&4294967295,w.g[2]=w.g[2]+E&4294967295,w.g[3]=w.g[3]+C&4294967295}t.prototype.u=function(w,b){b===void 0&&(b=w.length);for(var y=b-this.blockSize,x=this.B,E=this.h,C=0;C<b;){if(E==0)for(;C<=y;)r(this,w,C),C+=this.blockSize;if(typeof w=="string"){for(;C<b;)if(x[E++]=w.charCodeAt(C++),E==this.blockSize){r(this,x),E=0;break}}else for(;C<b;)if(x[E++]=w[C++],E==this.blockSize){r(this,x),E=0;break}}this.h=E,this.o+=b},t.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;var y=8*this.o;for(b=w.length-8;b<w.length;++b)w[b]=y&255,y/=256;for(this.u(w),w=Array(16),b=y=0;4>b;++b)for(var x=0;32>x;x+=8)w[y++]=this.g[b]>>>x&255;return w};function o(w,b){var y=a;return Object.prototype.hasOwnProperty.call(y,w)?y[w]:y[w]=b(w)}function s(w,b){this.h=b;for(var y=[],x=!0,E=w.length-1;0<=E;E--){var C=w[E]|0;x&&C==b||(y[E]=C,x=!1)}this.g=y}var a={};function l(w){return-128<=w&&128>w?o(w,function(b){return new s([b|0],0>b?-1:0)}):new s([w|0],0>w?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return f;if(0>w)return D(d(-w));for(var b=[],y=1,x=0;w>=y;x++)b[x]=w/y|0,y*=4294967296;return new s(b,0)}function h(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return D(h(w.substring(1),b));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=d(Math.pow(b,8)),x=f,E=0;E<w.length;E+=8){var C=Math.min(8,w.length-E),v=parseInt(w.substring(E,E+C),b);8>C?(C=d(Math.pow(b,C)),x=x.j(C).add(d(v))):(x=x.j(y),x=x.add(d(v)))}return x}var f=l(0),g=l(1),_=l(16777216);n=s.prototype,n.m=function(){if(P(this))return-D(this).m();for(var w=0,b=1,y=0;y<this.g.length;y++){var x=this.i(y);w+=(0<=x?x:4294967296+x)*b,b*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(P(this))return"-"+D(this).toString(w);for(var b=d(Math.pow(w,6)),y=this,x="";;){var E=oe(y,b).g;y=$(y,E.j(b));var C=((0<y.g.length?y.g[0]:y.h)>>>0).toString(w);if(y=E,S(y))return C+x;for(;6>C.length;)C="0"+C;x=C+x}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function P(w){return w.h==-1}n.l=function(w){return w=$(this,w),P(w)?-1:S(w)?0:1};function D(w){for(var b=w.g.length,y=[],x=0;x<b;x++)y[x]=~w.g[x];return new s(y,~w.h).add(g)}n.abs=function(){return P(this)?D(this):this},n.add=function(w){for(var b=Math.max(this.g.length,w.g.length),y=[],x=0,E=0;E<=b;E++){var C=x+(this.i(E)&65535)+(w.i(E)&65535),v=(C>>>16)+(this.i(E)>>>16)+(w.i(E)>>>16);x=v>>>16,C&=65535,v&=65535,y[E]=v<<16|C}return new s(y,y[y.length-1]&-2147483648?-1:0)};function $(w,b){return w.add(D(b))}n.j=function(w){if(S(this)||S(w))return f;if(P(this))return P(w)?D(this).j(D(w)):D(D(this).j(w));if(P(w))return D(this.j(D(w)));if(0>this.l(_)&&0>w.l(_))return d(this.m()*w.m());for(var b=this.g.length+w.g.length,y=[],x=0;x<2*b;x++)y[x]=0;for(x=0;x<this.g.length;x++)for(var E=0;E<w.g.length;E++){var C=this.i(x)>>>16,v=this.i(x)&65535,qi=w.i(E)>>>16,Ds=w.i(E)&65535;y[2*x+2*E]+=v*Ds,Y(y,2*x+2*E),y[2*x+2*E+1]+=C*Ds,Y(y,2*x+2*E+1),y[2*x+2*E+1]+=v*qi,Y(y,2*x+2*E+1),y[2*x+2*E+2]+=C*qi,Y(y,2*x+2*E+2)}for(x=0;x<b;x++)y[x]=y[2*x+1]<<16|y[2*x];for(x=b;x<2*b;x++)y[x]=0;return new s(y,0)};function Y(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function B(w,b){this.g=w,this.h=b}function oe(w,b){if(S(b))throw Error("division by zero");if(S(w))return new B(f,f);if(P(w))return b=oe(D(w),b),new B(D(b.g),D(b.h));if(P(b))return b=oe(w,D(b)),new B(D(b.g),b.h);if(30<w.g.length){if(P(w)||P(b))throw Error("slowDivide_ only works with positive integers.");for(var y=g,x=b;0>=x.l(w);)y=ce(y),x=ce(x);var E=le(y,1),C=le(x,1);for(x=le(x,2),y=le(y,2);!S(x);){var v=C.add(x);0>=v.l(w)&&(E=E.add(y),C=v),x=le(x,1),y=le(y,1)}return b=$(w,E.j(b)),new B(E,b)}for(E=f;0<=w.l(b);){for(y=Math.max(1,Math.floor(w.m()/b.m())),x=Math.ceil(Math.log(y)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),C=d(y),v=C.j(b);P(v)||0<v.l(w);)y-=x,C=d(y),v=C.j(b);S(C)&&(C=g),E=E.add(C),w=$(w,v)}return new B(E,w)}n.A=function(w){return oe(this,w).h},n.and=function(w){for(var b=Math.max(this.g.length,w.g.length),y=[],x=0;x<b;x++)y[x]=this.i(x)&w.i(x);return new s(y,this.h&w.h)},n.or=function(w){for(var b=Math.max(this.g.length,w.g.length),y=[],x=0;x<b;x++)y[x]=this.i(x)|w.i(x);return new s(y,this.h|w.h)},n.xor=function(w){for(var b=Math.max(this.g.length,w.g.length),y=[],x=0;x<b;x++)y[x]=this.i(x)^w.i(x);return new s(y,this.h^w.h)};function ce(w){for(var b=w.g.length+1,y=[],x=0;x<b;x++)y[x]=w.i(x)<<1|w.i(x-1)>>>31;return new s(y,w.h)}function le(w,b){var y=b>>5;b%=32;for(var x=w.g.length-y,E=[],C=0;C<x;C++)E[C]=0<b?w.i(C+y)>>>b|w.i(C+y+1)<<32-b:w.i(C+y);return new s(E,w.h)}t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Tf=dw.Md5=t,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,In=dw.Integer=s}).apply(typeof lw<"u"?lw:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qi={};var Af,Sf,Oo,kf,Ba,ld,Rf,Df,Mf;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,u,m){return c==Array.prototype||c==Object.prototype||(c[u]=m.value),c};function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var u=0;u<c.length;++u){var m=c[u];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var t=i(this);function r(c,u){if(u)e:{var m=t;c=c.split(".");for(var p=0;p<c.length-1;p++){var I=c[p];if(!(I in m))break e;m=m[I]}c=c[c.length-1],p=m[c],u=u(p),u!=p&&u!=null&&e(m,c,{configurable:!0,writable:!0,value:u})}}function o(c,u){c instanceof String&&(c+="");var m=0,p=!1,I={next:function(){if(!p&&m<c.length){var k=m++;return{value:u(k,c[k]),done:!1}}return p=!0,{done:!0,value:void 0}}};return I[Symbol.iterator]=function(){return I},I}r("Array.prototype.values",function(c){return c||function(){return o(this,function(u,m){return m})}});var s=s||{},a=this||self;function l(c){var u=typeof c;return u=u!="object"?u:c?Array.isArray(c)?"array":u:"null",u=="array"||u=="object"&&typeof c.length=="number"}function d(c){var u=typeof c;return u=="object"&&c!=null||u=="function"}function h(c,u,m){return c.call.apply(c.bind,arguments)}function f(c,u,m){if(!c)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var I=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(I,p),c.apply(u,I)}}return function(){return c.apply(u,arguments)}}function g(c,u,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function _(c,u){var m=Array.prototype.slice.call(arguments,1);return function(){var p=m.slice();return p.push.apply(p,arguments),c.apply(this,p)}}function S(c,u){function m(){}m.prototype=u.prototype,c.aa=u.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(p,I,k){for(var U=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)U[Fe-2]=arguments[Fe];return u.prototype[I].apply(p,U)}}function P(c){let u=c.length;if(0<u){let m=Array(u);for(let p=0;p<u;p++)m[p]=c[p];return m}return[]}function D(c,u){for(let m=1;m<arguments.length;m++){let p=arguments[m];if(l(p)){let I=c.length||0,k=p.length||0;c.length=I+k;for(let U=0;U<k;U++)c[I+U]=p[U]}else c.push(p)}}class ${constructor(u,m){this.i=u,this.j=m,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Y(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ce=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function le(c,u,m){for(let p in c)u.call(m,c[p],p,c)}function w(c,u){for(let m in c)u.call(void 0,c[m],m,c)}function b(c){let u={};for(let m in c)u[m]=c[m];return u}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,u){let m,p;for(let I=1;I<arguments.length;I++){p=arguments[I];for(m in p)c[m]=p[m];for(let k=0;k<y.length;k++)m=y[k],Object.prototype.hasOwnProperty.call(p,m)&&(c[m]=p[m])}}function E(c){var u=1;c=c.split(":");let m=[];for(;0<u&&c.length;)m.push(c.shift()),u--;return c.length&&m.push(c.join(":")),m}function C(c){a.setTimeout(()=>{throw c},0)}function v(){var c=ph;let u=null;return c.g&&(u=c.g,c.g=c.g.next,c.g||(c.h=null),u.next=null),u}class qi{constructor(){this.h=this.g=null}add(u,m){let p=Ds.get();p.set(u,m),this.h?this.h.next=p:this.g=p,this.h=p}}var Ds=new $(()=>new tA,c=>c.reset());class tA{constructor(){this.next=this.g=this.h=null}set(u,m){this.h=u,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ms,Ps=!1,ph=new qi,P_=()=>{let c=a.Promise.resolve(void 0);Ms=()=>{c.then(iA)}};var iA=()=>{for(var c;c=v();){try{c.h.call(c.g)}catch(m){C(m)}var u=Ds;u.j(c),100>u.h&&(u.h++,c.next=u.g,u.g=c)}Ps=!1};function un(){this.s=this.s,this.C=this.C}un.prototype.s=!1,un.prototype.ma=function(){this.s||(this.s=!0,this.N())},un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ct(c,u){this.type=c,this.g=this.target=u,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var nA=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,u=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,u),a.removeEventListener("test",m,u)}catch{}return c}();function Os(c,u){if(Ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,p=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=u,u=c.relatedTarget){if(ce){e:{try{oe(u.nodeName);var I=!0;break e}catch{}I=!1}I||(u=null)}}else m=="mouseover"?u=c.fromElement:m=="mouseout"&&(u=c.toElement);this.relatedTarget=u,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:rA[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Os.aa.h.call(this)}}S(Os,Ct);var rA={2:"touch",3:"pen",4:"mouse"};Os.prototype.h=function(){Os.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ns="closure_listenable_"+(1e6*Math.random()|0),oA=0;function sA(c,u,m,p,I){this.listener=c,this.proxy=null,this.src=u,this.type=m,this.capture=!!p,this.ha=I,this.key=++oA,this.da=this.fa=!1}function Wc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Kc(c){this.src=c,this.g={},this.h=0}Kc.prototype.add=function(c,u,m,p,I){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var U=bh(c,u,p,I);return-1<U?(u=c[U],m||(u.fa=!1)):(u=new sA(u,this.src,k,!!p,I),u.fa=m,c.push(u)),u};function gh(c,u){var m=u.type;if(m in c.g){var p=c.g[m],I=Array.prototype.indexOf.call(p,u,void 0),k;(k=0<=I)&&Array.prototype.splice.call(p,I,1),k&&(Wc(u),c.g[m].length==0&&(delete c.g[m],c.h--))}}function bh(c,u,m,p){for(var I=0;I<c.length;++I){var k=c[I];if(!k.da&&k.listener==u&&k.capture==!!m&&k.ha==p)return I}return-1}var _h="closure_lm_"+(1e6*Math.random()|0),vh={};function O_(c,u,m,p,I){if(p&&p.once)return F_(c,u,m,p,I);if(Array.isArray(u)){for(var k=0;k<u.length;k++)O_(c,u[k],m,p,I);return null}return m=Eh(m),c&&c[Ns]?c.K(u,m,d(p)?!!p.capture:!!p,I):N_(c,u,m,!1,p,I)}function N_(c,u,m,p,I,k){if(!u)throw Error("Invalid event type");var U=d(I)?!!I.capture:!!I,Fe=wh(c);if(Fe||(c[_h]=Fe=new Kc(c)),m=Fe.add(u,m,p,U,k),m.proxy)return m;if(p=aA(),m.proxy=p,p.src=c,p.listener=m,c.addEventListener)nA||(I=U),I===void 0&&(I=!1),c.addEventListener(u.toString(),p,I);else if(c.attachEvent)c.attachEvent(L_(u.toString()),p);else if(c.addListener&&c.removeListener)c.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return m}function aA(){function c(m){return u.call(c.src,c.listener,m)}let u=cA;return c}function F_(c,u,m,p,I){if(Array.isArray(u)){for(var k=0;k<u.length;k++)F_(c,u[k],m,p,I);return null}return m=Eh(m),c&&c[Ns]?c.L(u,m,d(p)?!!p.capture:!!p,I):N_(c,u,m,!0,p,I)}function V_(c,u,m,p,I){if(Array.isArray(u))for(var k=0;k<u.length;k++)V_(c,u[k],m,p,I);else p=d(p)?!!p.capture:!!p,m=Eh(m),c&&c[Ns]?(c=c.i,u=String(u).toString(),u in c.g&&(k=c.g[u],m=bh(k,m,p,I),-1<m&&(Wc(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete c.g[u],c.h--)))):c&&(c=wh(c))&&(u=c.g[u.toString()],c=-1,u&&(c=bh(u,m,p,I)),(m=-1<c?u[c]:null)&&yh(m))}function yh(c){if(typeof c!="number"&&c&&!c.da){var u=c.src;if(u&&u[Ns])gh(u.i,c);else{var m=c.type,p=c.proxy;u.removeEventListener?u.removeEventListener(m,p,c.capture):u.detachEvent?u.detachEvent(L_(m),p):u.addListener&&u.removeListener&&u.removeListener(p),(m=wh(u))?(gh(m,c),m.h==0&&(m.src=null,u[_h]=null)):Wc(c)}}}function L_(c){return c in vh?vh[c]:vh[c]="on"+c}function cA(c,u){if(c.da)c=!0;else{u=new Os(u,this);var m=c.listener,p=c.ha||c.src;c.fa&&yh(c),c=m.call(p,u)}return c}function wh(c){return c=c[_h],c instanceof Kc?c:null}var xh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eh(c){return typeof c=="function"?c:(c[xh]||(c[xh]=function(u){return c.handleEvent(u)}),c[xh])}function Tt(){un.call(this),this.i=new Kc(this),this.M=this,this.F=null}S(Tt,un),Tt.prototype[Ns]=!0,Tt.prototype.removeEventListener=function(c,u,m,p){V_(this,c,u,m,p)};function Nt(c,u){var m,p=c.F;if(p)for(m=[];p;p=p.F)m.push(p);if(c=c.M,p=u.type||u,typeof u=="string")u=new Ct(u,c);else if(u instanceof Ct)u.target=u.target||c;else{var I=u;u=new Ct(p,c),x(u,I)}if(I=!0,m)for(var k=m.length-1;0<=k;k--){var U=u.g=m[k];I=Qc(U,p,!0,u)&&I}if(U=u.g=c,I=Qc(U,p,!0,u)&&I,I=Qc(U,p,!1,u)&&I,m)for(k=0;k<m.length;k++)U=u.g=m[k],I=Qc(U,p,!1,u)&&I}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var c=this.i,u;for(u in c.g){for(var m=c.g[u],p=0;p<m.length;p++)Wc(m[p]);delete c.g[u],c.h--}}this.F=null},Tt.prototype.K=function(c,u,m,p){return this.i.add(String(c),u,!1,m,p)},Tt.prototype.L=function(c,u,m,p){return this.i.add(String(c),u,!0,m,p)};function Qc(c,u,m,p){if(u=c.i.g[String(u)],!u)return!0;u=u.concat();for(var I=!0,k=0;k<u.length;++k){var U=u[k];if(U&&!U.da&&U.capture==m){var Fe=U.listener,xt=U.ha||U.src;U.fa&&gh(c.i,U),I=Fe.call(xt,p)!==!1&&I}}return I&&!p.defaultPrevented}function j_(c,u,m){if(typeof c=="function")m&&(c=g(c,m));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:a.setTimeout(c,u||0)}function B_(c){c.g=j_(()=>{c.g=null,c.i&&(c.i=!1,B_(c))},c.l);let u=c.h;c.h=null,c.m.apply(null,u)}class lA extends un{constructor(u,m){super(),this.m=u,this.l=m,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:B_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fs(c){un.call(this),this.h=c,this.g={}}S(Fs,un);var U_=[];function z_(c){le(c.g,function(u,m){this.g.hasOwnProperty(m)&&yh(u)},c),c.g={}}Fs.prototype.N=function(){Fs.aa.N.call(this),z_(this)},Fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ih=a.JSON.stringify,dA=a.JSON.parse,uA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Ch(){}Ch.prototype.h=null;function q_(c){return c.h||(c.h=c.i())}function $_(){}var Vs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Th(){Ct.call(this,"d")}S(Th,Ct);function Ah(){Ct.call(this,"c")}S(Ah,Ct);var Yn={},G_=null;function Yc(){return G_=G_||new Tt}Yn.La="serverreachability";function H_(c){Ct.call(this,Yn.La,c)}S(H_,Ct);function Ls(c){let u=Yc();Nt(u,new H_(u))}Yn.STAT_EVENT="statevent";function W_(c,u){Ct.call(this,Yn.STAT_EVENT,c),this.stat=u}S(W_,Ct);function Ft(c){let u=Yc();Nt(u,new W_(u,c))}Yn.Ma="timingevent";function K_(c,u){Ct.call(this,Yn.Ma,c),this.size=u}S(K_,Ct);function js(c,u){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},u)}function Bs(){this.g=!0}Bs.prototype.xa=function(){this.g=!1};function hA(c,u,m,p,I,k){c.info(function(){if(c.g)if(k)for(var U="",Fe=k.split("&"),xt=0;xt<Fe.length;xt++){var Ee=Fe[xt].split("=");if(1<Ee.length){var At=Ee[0];Ee=Ee[1];var St=At.split("_");U=2<=St.length&&St[1]=="type"?U+(At+"="+Ee+"&"):U+(At+"=redacted&")}}else U=null;else U=k;return"XMLHTTP REQ ("+p+") [attempt "+I+"]: "+u+`
`+m+`
`+U})}function mA(c,u,m,p,I,k,U){c.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+I+"]: "+u+`
`+m+`
`+k+" "+U})}function Xr(c,u,m,p){c.info(function(){return"XMLHTTP TEXT ("+u+"): "+pA(c,m)+(p?" "+p:"")})}function fA(c,u){c.info(function(){return"TIMEOUT: "+u})}Bs.prototype.info=function(){};function pA(c,u){if(!c.g)return u;if(!u)return null;try{var m=JSON.parse(u);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var p=m[c];if(!(2>p.length)){var I=p[1];if(Array.isArray(I)&&!(1>I.length)){var k=I[0];if(k!="noop"&&k!="stop"&&k!="close")for(var U=1;U<I.length;U++)I[U]=""}}}}return Ih(m)}catch{return u}}var Xc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Q_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sh;function Zc(){}S(Zc,Ch),Zc.prototype.g=function(){return new XMLHttpRequest},Zc.prototype.i=function(){return{}},Sh=new Zc;function hn(c,u,m,p){this.j=c,this.i=u,this.l=m,this.R=p||1,this.U=new Fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Y_}function Y_(){this.i=null,this.g="",this.h=!1}var X_={},kh={};function Rh(c,u,m){c.L=1,c.v=il($i(u)),c.m=m,c.P=!0,Z_(c,null)}function Z_(c,u){c.F=Date.now(),Jc(c),c.A=$i(c.v);var m=c.A,p=c.R;Array.isArray(p)||(p=[String(p)]),hv(m.i,"t",p),c.C=0,m=c.j.J,c.h=new Y_,c.g=Rv(c.j,m?u:null,!c.m),0<c.O&&(c.M=new lA(g(c.Y,c,c.g),c.O)),u=c.U,m=c.g,p=c.ca;var I="readystatechange";Array.isArray(I)||(I&&(U_[0]=I.toString()),I=U_);for(var k=0;k<I.length;k++){var U=O_(m,I[k],p||u.handleEvent,!1,u.h||u);if(!U)break;u.g[U.key]=U}u=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,u)):(c.u="GET",c.g.ea(c.A,c.u,null,u)),Ls(),hA(c.i,c.u,c.A,c.l,c.R,c.m)}hn.prototype.ca=function(c){c=c.target;let u=this.M;u&&Gi(c)==3?u.j():this.Y(c)},hn.prototype.Y=function(c){try{if(c==this.g)e:{let St=Gi(this.g);var u=this.g.Ba();let eo=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||vv(this.g)))){this.J||St!=4||u==7||(u==8||0>=eo?Ls(3):Ls(2)),Dh(this);var m=this.g.Z();this.X=m;t:if(J_(this)){var p=vv(this.g);c="";var I=p.length,k=Gi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xn(this),Us(this);var U="";break t}this.h.i=new a.TextDecoder}for(u=0;u<I;u++)this.h.h=!0,c+=this.h.i.decode(p[u],{stream:!(k&&u==I-1)});p.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,mA(this.i,this.u,this.A,this.l,this.R,St,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Fe,xt=this.g;if((Fe=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Fe)){var Ee=Fe;break t}}Ee=null}if(m=Ee)Xr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mh(this,m);else{this.o=!1,this.s=3,Ft(12),Xn(this),Us(this);break e}}if(this.P){m=!0;let fi;for(;!this.J&&this.C<U.length;)if(fi=gA(this,U),fi==kh){St==4&&(this.s=4,Ft(14),m=!1),Xr(this.i,this.l,null,"[Incomplete Response]");break}else if(fi==X_){this.s=4,Ft(15),Xr(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else Xr(this.i,this.l,fi,null),Mh(this,fi);if(J_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||U.length!=0||this.h.h||(this.s=1,Ft(16),m=!1),this.o=this.o&&m,!m)Xr(this.i,this.l,U,"[Invalid Chunked Response]"),Xn(this),Us(this);else if(0<U.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),Lh(At),At.M=!0,Ft(11))}}else Xr(this.i,this.l,U,null),Mh(this,U);St==4&&Xn(this),this.o&&!this.J&&(St==4?Tv(this.j,this):(this.o=!1,Jc(this)))}else PA(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,Ft(12)):(this.s=0,Ft(13)),Xn(this),Us(this)}}}catch{}finally{}};function J_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function gA(c,u){var m=c.C,p=u.indexOf(`
`,m);return p==-1?kh:(m=Number(u.substring(m,p)),isNaN(m)?X_:(p+=1,p+m>u.length?kh:(u=u.slice(p,p+m),c.C=p+m,u)))}hn.prototype.cancel=function(){this.J=!0,Xn(this)};function Jc(c){c.S=Date.now()+c.I,ev(c,c.I)}function ev(c,u){if(c.B!=null)throw Error("WatchDog timer not null");c.B=js(g(c.ba,c),u)}function Dh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}hn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(fA(this.i,this.A),this.L!=2&&(Ls(),Ft(17)),Xn(this),this.s=2,Us(this)):ev(this,this.S-c)};function Us(c){c.j.G==0||c.J||Tv(c.j,c)}function Xn(c){Dh(c);var u=c.M;u&&typeof u.ma=="function"&&u.ma(),c.M=null,z_(c.U),c.g&&(u=c.g,c.g=null,u.abort(),u.ma())}function Mh(c,u){try{var m=c.j;if(m.G!=0&&(m.g==c||Ph(m.h,c))){if(!c.K&&Ph(m.h,c)&&m.G==3){try{var p=m.Da.g.parse(u)}catch{p=null}if(Array.isArray(p)&&p.length==3){var I=p;if(I[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)al(m),ol(m);else break e;Vh(m),Ft(18)}}else m.za=I[1],0<m.za-m.T&&37500>I[2]&&m.F&&m.v==0&&!m.C&&(m.C=js(g(m.Za,m),6e3));if(1>=nv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Jn(m,11)}else if((c.K||m.g==c)&&al(m),!Y(u))for(I=m.Da.g.parse(u),u=0;u<I.length;u++){let Ee=I[u];if(m.T=Ee[0],Ee=Ee[1],m.G==2)if(Ee[0]=="c"){m.K=Ee[1],m.ia=Ee[2];let At=Ee[3];At!=null&&(m.la=At,m.j.info("VER="+m.la));let St=Ee[4];St!=null&&(m.Aa=St,m.j.info("SVER="+m.Aa));let eo=Ee[5];eo!=null&&typeof eo=="number"&&0<eo&&(p=1.5*eo,m.L=p,m.j.info("backChannelRequestTimeoutMs_="+p)),p=m;let fi=c.g;if(fi){let ll=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ll){var k=p.h;k.g||ll.indexOf("spdy")==-1&&ll.indexOf("quic")==-1&&ll.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Oh(k,k.h),k.h=null))}if(p.D){let jh=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;jh&&(p.ya=jh,Ue(p.I,p.D,jh))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),p=m;var U=c;if(p.qa=kv(p,p.J?p.ia:null,p.W),U.K){rv(p.h,U);var Fe=U,xt=p.L;xt&&(Fe.I=xt),Fe.B&&(Dh(Fe),Jc(Fe)),p.g=U}else Iv(p);0<m.i.length&&sl(m)}else Ee[0]!="stop"&&Ee[0]!="close"||Jn(m,7);else m.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Jn(m,7):Fh(m):Ee[0]!="noop"&&m.l&&m.l.ta(Ee),m.v=0)}}Ls(4)}catch{}}var bA=class{constructor(c,u){this.g=c,this.map=u}};function tv(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function nv(c){return c.h?1:c.g?c.g.size:0}function Ph(c,u){return c.h?c.h==u:c.g?c.g.has(u):!1}function Oh(c,u){c.g?c.g.add(u):c.h=u}function rv(c,u){c.h&&c.h==u?c.h=null:c.g&&c.g.has(u)&&c.g.delete(u)}tv.prototype.cancel=function(){if(this.i=ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ov(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let u=c.i;for(let m of c.g.values())u=u.concat(m.D);return u}return P(c.i)}function _A(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var u=[],m=c.length,p=0;p<m;p++)u.push(c[p]);return u}u=[],m=0;for(p in c)u[m++]=c[p];return u}function vA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var u=[];c=c.length;for(var m=0;m<c;m++)u.push(m);return u}u=[],m=0;for(let p in c)u[m++]=p;return u}}}function sv(c,u){if(c.forEach&&typeof c.forEach=="function")c.forEach(u,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,u,void 0);else for(var m=vA(c),p=_A(c),I=p.length,k=0;k<I;k++)u.call(void 0,p[k],m&&m[k],c)}var av=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yA(c,u){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var p=c[m].indexOf("="),I=null;if(0<=p){var k=c[m].substring(0,p);I=c[m].substring(p+1)}else k=c[m];u(k,I?decodeURIComponent(I.replace(/\+/g," ")):"")}}}function Zn(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zn){this.h=c.h,el(this,c.j),this.o=c.o,this.g=c.g,tl(this,c.s),this.l=c.l;var u=c.i,m=new $s;m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),cv(this,m),this.m=c.m}else c&&(u=String(c).match(av))?(this.h=!1,el(this,u[1]||"",!0),this.o=zs(u[2]||""),this.g=zs(u[3]||"",!0),tl(this,u[4]),this.l=zs(u[5]||"",!0),cv(this,u[6]||"",!0),this.m=zs(u[7]||"")):(this.h=!1,this.i=new $s(null,this.h))}Zn.prototype.toString=function(){var c=[],u=this.j;u&&c.push(qs(u,lv,!0),":");var m=this.g;return(m||u=="file")&&(c.push("//"),(u=this.o)&&c.push(qs(u,lv,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(qs(m,m.charAt(0)=="/"?EA:xA,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",qs(m,CA)),c.join("")};function $i(c){return new Zn(c)}function el(c,u,m){c.j=m?zs(u,!0):u,c.j&&(c.j=c.j.replace(/:$/,""))}function tl(c,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);c.s=u}else c.s=null}function cv(c,u,m){u instanceof $s?(c.i=u,TA(c.i,c.h)):(m||(u=qs(u,IA)),c.i=new $s(u,c.h))}function Ue(c,u,m){c.i.set(u,m)}function il(c){return Ue(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zs(c,u){return c?u?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function qs(c,u,m){return typeof c=="string"?(c=encodeURI(c).replace(u,wA),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var lv=/[#\/\?@]/g,xA=/[#\?:]/g,EA=/[#\?]/g,IA=/[#\?@]/g,CA=/#/g;function $s(c,u){this.h=this.g=null,this.i=c||null,this.j=!!u}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&yA(c.i,function(u,m){c.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}n=$s.prototype,n.add=function(c,u){mn(this),this.i=null,c=Zr(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(u),this.h+=1,this};function dv(c,u){mn(c),u=Zr(c,u),c.g.has(u)&&(c.i=null,c.h-=c.g.get(u).length,c.g.delete(u))}function uv(c,u){return mn(c),u=Zr(c,u),c.g.has(u)}n.forEach=function(c,u){mn(this),this.g.forEach(function(m,p){m.forEach(function(I){c.call(u,I,p,this)},this)},this)},n.na=function(){mn(this);let c=Array.from(this.g.values()),u=Array.from(this.g.keys()),m=[];for(let p=0;p<u.length;p++){let I=c[p];for(let k=0;k<I.length;k++)m.push(u[p])}return m},n.V=function(c){mn(this);let u=[];if(typeof c=="string")uv(this,c)&&(u=u.concat(this.g.get(Zr(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)u=u.concat(c[m])}return u},n.set=function(c,u){return mn(this),this.i=null,c=Zr(this,c),uv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[u]),this.h+=1,this},n.get=function(c,u){return c?(c=this.V(c),0<c.length?String(c[0]):u):u};function hv(c,u,m){dv(c,u),0<m.length&&(c.i=null,c.g.set(Zr(c,u),P(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],u=Array.from(this.g.keys());for(var m=0;m<u.length;m++){var p=u[m];let k=encodeURIComponent(String(p)),U=this.V(p);for(p=0;p<U.length;p++){var I=k;U[p]!==""&&(I+="="+encodeURIComponent(String(U[p]))),c.push(I)}}return this.i=c.join("&")};function Zr(c,u){return u=String(u),c.j&&(u=u.toLowerCase()),u}function TA(c,u){u&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(m,p){var I=p.toLowerCase();p!=I&&(dv(this,p),hv(this,I,m))},c)),c.j=u}function AA(c,u){let m=new Bs;if(a.Image){let p=new Image;p.onload=_(fn,m,"TestLoadImage: loaded",!0,u,p),p.onerror=_(fn,m,"TestLoadImage: error",!1,u,p),p.onabort=_(fn,m,"TestLoadImage: abort",!1,u,p),p.ontimeout=_(fn,m,"TestLoadImage: timeout",!1,u,p),a.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=c}else u(!1)}function SA(c,u){let m=new Bs,p=new AbortController,I=setTimeout(()=>{p.abort(),fn(m,"TestPingServer: timeout",!1,u)},1e4);fetch(c,{signal:p.signal}).then(k=>{clearTimeout(I),k.ok?fn(m,"TestPingServer: ok",!0,u):fn(m,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(I),fn(m,"TestPingServer: error",!1,u)})}function fn(c,u,m,p,I){try{I&&(I.onload=null,I.onerror=null,I.onabort=null,I.ontimeout=null),p(m)}catch{}}function kA(){this.g=new uA}function RA(c,u,m){let p=m||"";try{sv(c,function(I,k){let U=I;d(I)&&(U=Ih(I)),u.push(p+k+"="+encodeURIComponent(U))})}catch(I){throw u.push(p+"type="+encodeURIComponent("_badmap")),I}}function Gs(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Gs,Ch),Gs.prototype.g=function(){return new nl(this.l,this.j)},Gs.prototype.i=function(c){return function(){return c}}({});function nl(c,u){Tt.call(this),this.D=c,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(nl,Tt),n=nl.prototype,n.open=function(c,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=u,this.readyState=1,Ws(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(u.body=c),(this.D||a).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ws(this)),this.g&&(this.readyState=3,Ws(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function mv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var u=c.value?c.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!c.done}))&&(this.response=this.responseText+=u)}c.done?Hs(this):Ws(this),this.readyState==3&&mv(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Hs(this))},n.Qa=function(c){this.g&&(this.response=c,Hs(this))},n.ga=function(){this.g&&Hs(this)};function Hs(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ws(c)}n.setRequestHeader=function(c,u){this.u.append(c,u)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],u=this.h.entries();for(var m=u.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=u.next();return c.join(`\r
`)};function Ws(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(nl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function fv(c){let u="";return le(c,function(m,p){u+=p,u+=":",u+=m,u+=`\r
`}),u}function Nh(c,u,m){e:{for(p in m){var p=!1;break e}p=!0}p||(m=fv(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ue(c,u,m))}function Ye(c){Tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Ye,Tt);var DA=/^https?$/i,MA=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,u,m,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);u=u?u.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sh.g(),this.v=this.o?q_(this.o):q_(Sh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(u,String(c),!0),this.B=!1}catch(k){pv(this,k);return}if(c=m||"",m=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var I in p)m.set(I,p[I]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let k of p.keys())m.set(k,p.get(k));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),I=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MA,u,void 0))||p||I||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,U]of m)this.g.setRequestHeader(k,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{_v(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){pv(this,k)}};function pv(c,u){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=u,c.m=5,gv(c),rl(c)}function gv(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),rl(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rl(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?bv(this):this.bb())},n.bb=function(){bv(this)};function bv(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gi(c)!=4||c.Z()!=2)){if(c.u&&Gi(c)==4)j_(c.Ea,0,c);else if(Nt(c,"readystatechange"),Gi(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var m;if(!(m=u)){var p;if(p=U===0){var I=String(c.D).match(av)[1]||null;!I&&a.self&&a.self.location&&(I=a.self.location.protocol.slice(0,-1)),p=!DA.test(I?I.toLowerCase():"")}m=p}if(m)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var k=2<Gi(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",gv(c)}}finally{rl(c)}}}}function rl(c,u){if(c.g){_v(c);let m=c.g,p=c.v[0]?()=>{}:null;c.g=null,c.v=null,u||Nt(c,"ready");try{m.onreadystatechange=p}catch{}}}function _v(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Gi(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Gi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var u=this.g.responseText;return c&&u.indexOf(c)==0&&(u=u.substring(c.length)),dA(u)}};function vv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function PA(c){let u={};c=(c.g&&2<=Gi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<c.length;p++){if(Y(c[p]))continue;var m=E(c[p]);let I=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=u[I]||[];u[I]=k,k.push(m)}w(u,function(p){return p.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ks(c,u,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||u}function yv(c){this.Aa=0,this.i=[],this.j=new Bs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ks("baseRetryDelayMs",5e3,c),this.cb=Ks("retryDelaySeedMs",1e4,c),this.Wa=Ks("forwardChannelMaxRetries",2,c),this.wa=Ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new tv(c&&c.concurrentRequestLimit),this.Da=new kA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yv.prototype,n.la=8,n.G=1,n.connect=function(c,u,m,p){Ft(0),this.W=c,this.H=u||{},m&&p!==void 0&&(this.H.OSID=m,this.H.OAID=p),this.F=this.X,this.I=kv(this,null,this.W),sl(this)};function Fh(c){if(wv(c),c.G==3){var u=c.U++,m=$i(c.I);if(Ue(m,"SID",c.K),Ue(m,"RID",u),Ue(m,"TYPE","terminate"),Qs(c,m),u=new hn(c,c.j,u),u.L=2,u.v=il($i(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(u.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=u.v,m=!0),m||(u.g=Rv(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Jc(u)}Sv(c)}function ol(c){c.g&&(Lh(c),c.g.cancel(),c.g=null)}function wv(c){ol(c),c.u&&(a.clearTimeout(c.u),c.u=null),al(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function sl(c){if(!iv(c.h)&&!c.s){c.s=!0;var u=c.Ga;Ms||P_(),Ps||(Ms(),Ps=!0),ph.add(u,c),c.B=0}}function OA(c,u){return nv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=u.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=js(g(c.Ga,c,u),Av(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let I=new hn(this,this.j,c),k=this.o;if(this.S&&(k?(k=b(k),x(k,this.S)):k=this.S),this.m!==null||this.O||(I.H=k,k=null),this.P)e:{for(var u=0,m=0;m<this.i.length;m++){t:{var p=this.i[m];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(u+=p,4096<u){u=m;break e}if(u===4096||m===this.i.length-1){u=m+1;break e}}u=1e3}else u=1e3;u=Ev(this,I,u),m=$i(this.I),Ue(m,"RID",c),Ue(m,"CVER",22),this.D&&Ue(m,"X-HTTP-Session-Id",this.D),Qs(this,m),k&&(this.O?u="headers="+encodeURIComponent(String(fv(k)))+"&"+u:this.m&&Nh(m,this.m,k)),Oh(this.h,I),this.Ua&&Ue(m,"TYPE","init"),this.P?(Ue(m,"$req",u),Ue(m,"SID","null"),I.T=!0,Rh(I,m,null)):Rh(I,m,u),this.G=2}}else this.G==3&&(c?xv(this,c):this.i.length==0||iv(this.h)||xv(this))};function xv(c,u){var m;u?m=u.l:m=c.U++;let p=$i(c.I);Ue(p,"SID",c.K),Ue(p,"RID",m),Ue(p,"AID",c.T),Qs(c,p),c.m&&c.o&&Nh(p,c.m,c.o),m=new hn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),u&&(c.i=u.D.concat(c.i)),u=Ev(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Oh(c.h,m),Rh(m,p,u)}function Qs(c,u){c.H&&le(c.H,function(m,p){Ue(u,p,m)}),c.l&&sv({},function(m,p){Ue(u,p,m)})}function Ev(c,u,m){m=Math.min(c.i.length,m);var p=c.l?g(c.l.Na,c.l,c):null;e:{var I=c.i;let k=-1;for(;;){let U=["count="+m];k==-1?0<m?(k=I[0].g,U.push("ofs="+k)):k=0:U.push("ofs="+k);let Fe=!0;for(let xt=0;xt<m;xt++){let Ee=I[xt].g,At=I[xt].map;if(Ee-=k,0>Ee)k=Math.max(0,I[xt].g-100),Fe=!1;else try{RA(At,U,"req"+Ee+"_")}catch{p&&p(At)}}if(Fe){p=U.join("&");break e}}}return c=c.i.splice(0,m),u.D=c,p}function Iv(c){if(!c.g&&!c.u){c.Y=1;var u=c.Fa;Ms||P_(),Ps||(Ms(),Ps=!0),ph.add(u,c),c.v=0}}function Vh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=js(g(c.Fa,c),Av(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Cv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=js(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ft(10),ol(this),Cv(this))};function Lh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Cv(c){c.g=new hn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var u=$i(c.qa);Ue(u,"RID","rpc"),Ue(u,"SID",c.K),Ue(u,"AID",c.T),Ue(u,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ue(u,"TO",c.ja),Ue(u,"TYPE","xmlhttp"),Qs(c,u),c.m&&c.o&&Nh(u,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=il($i(u)),m.m=null,m.P=!0,Z_(m,c)}n.Za=function(){this.C!=null&&(this.C=null,ol(this),Vh(this),Ft(19))};function al(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Tv(c,u){var m=null;if(c.g==u){al(c),Lh(c),c.g=null;var p=2}else if(Ph(c.h,u))m=u.D,rv(c.h,u),p=1;else return;if(c.G!=0){if(u.o)if(p==1){m=u.m?u.m.length:0,u=Date.now()-u.F;var I=c.B;p=Yc(),Nt(p,new K_(p,m)),sl(c)}else Iv(c);else if(I=u.s,I==3||I==0&&0<u.X||!(p==1&&OA(c,u)||p==2&&Vh(c)))switch(m&&0<m.length&&(u=c.h,u.i=u.i.concat(m)),I){case 1:Jn(c,5);break;case 4:Jn(c,10);break;case 3:Jn(c,6);break;default:Jn(c,2)}}}function Av(c,u){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*u}function Jn(c,u){if(c.j.info("Error code "+u),u==2){var m=g(c.fb,c),p=c.Xa;let I=!p;p=new Zn(p||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||el(p,"https"),il(p),I?AA(p.toString(),m):SA(p.toString(),m)}else Ft(2);c.G=0,c.l&&c.l.sa(u),Sv(c),wv(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Sv(c){if(c.G=0,c.ka=[],c.l){let u=ov(c.h);(u.length!=0||c.i.length!=0)&&(D(c.ka,u),D(c.ka,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.ra()}}function kv(c,u,m){var p=m instanceof Zn?$i(m):new Zn(m);if(p.g!="")u&&(p.g=u+"."+p.g),tl(p,p.s);else{var I=a.location;p=I.protocol,u=u?u+"."+I.hostname:I.hostname,I=+I.port;var k=new Zn(null);p&&el(k,p),u&&(k.g=u),I&&tl(k,I),m&&(k.l=m),p=k}return m=c.D,u=c.ya,m&&u&&Ue(p,m,u),Ue(p,"VER",c.la),Qs(c,p),p}function Rv(c,u,m){if(u&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=c.Ca&&!c.pa?new Ye(new Gs({eb:m})):new Ye(c.pa),u.Ha(c.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dv(){}n=Dv.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function cl(){}cl.prototype.g=function(c,u){return new Ht(c,u)};function Ht(c,u){Tt.call(this),this.g=new yv(u),this.l=c,this.h=u&&u.messageUrlParams||null,c=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(c?c["X-WebChannel-Content-Type"]=u.messageContentType:c={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(c?c["X-WebChannel-Client-Profile"]=u.va:c={"X-WebChannel-Client-Profile":u.va}),this.g.S=c,(c=u&&u.Sb)&&!Y(c)&&(this.g.m=c),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Y(u)&&(this.g.D=u,c=this.h,c!==null&&u in c&&(c=this.h,u in c&&delete c[u])),this.j=new Jr(this)}S(Ht,Tt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Fh(this.g)},Ht.prototype.o=function(c){var u=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Ih(c),c=m);u.i.push(new bA(u.Ya++,c)),u.G==3&&sl(u)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Fh(this.g),delete this.g,Ht.aa.N.call(this)};function Mv(c){Th.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var u=c.__sm__;if(u){e:{for(let m in u){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,u=u!==null&&c in u?u[c]:void 0),this.data=u}else this.data=c}S(Mv,Th);function Pv(){Ah.call(this),this.status=1}S(Pv,Ah);function Jr(c){this.g=c}S(Jr,Dv),Jr.prototype.ua=function(){Nt(this.g,"a")},Jr.prototype.ta=function(c){Nt(this.g,new Mv(c))},Jr.prototype.sa=function(c){Nt(this.g,new Pv)},Jr.prototype.ra=function(){Nt(this.g,"b")},cl.prototype.createWebChannel=cl.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,Mf=Qi.createWebChannelTransport=function(){return new cl},Df=Qi.getStatEventTarget=function(){return Yc()},Rf=Qi.Event=Yn,ld=Qi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xc.NO_ERROR=0,Xc.TIMEOUT=8,Xc.HTTP_ERROR=6,Ba=Qi.ErrorCode=Xc,Q_.COMPLETE="complete",kf=Qi.EventType=Q_,$_.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,Oo=Qi.WebChannel=$_,Sf=Qi.FetchXmlHttpFactory=Gs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,Af=Qi.XhrIo=Ye}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});var uw="@firebase/firestore";var ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");var us="10.12.1";var Dn=new Al("@firebase/firestore");function jo(){return Dn.logLevel}function ux(n){Dn.setLogLevel(n)}function F(n,...e){if(Dn.logLevel<=Ri.DEBUG){let i=e.map(Ng);Dn.debug(`Firestore (${us}): ${n}`,...i)}}function ot(n,...e){if(Dn.logLevel<=Ri.ERROR){let i=e.map(Ng);Dn.error(`Firestore (${us}): ${n}`,...i)}}function li(n,...e){if(Dn.logLevel<=Ri.WARN){let i=e.map(Ng);Dn.warn(`Firestore (${us}): ${n}`,...i)}}function Ng(n){if(typeof n=="string")return n;try{return function(i){return JSON.stringify(i)}(n)}catch{return n}}function K(n="Unexpected state"){let e=`FIRESTORE (${us}) INTERNAL ASSERTION FAILED: `+n;throw ot(e),new Error(e)}function ee(n,e){n||K()}function hx(n,e){n||K()}function H(n,e){return n}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},N=class extends Dy{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ht=class{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}};var yd=class{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Vf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(ut.UNAUTHENTICATED))}shutdown(){}},Lf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}},jf=class{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){let t=this.i,r=l=>this.i!==t?(t=this.i,i(l)):Promise.resolve(),o=new ht;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ht,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>M(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ht)}},0),s()}getToken(){let e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(t=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ee(typeof t.accessToken=="string"),new yd(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ee(e===null||typeof e=="string"),new ut(e)}},Bf=class{constructor(e,i,t){this.l=e,this.h=i,this.P=t,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Uf=class{constructor(e,i,t){this.l=e,this.h=i,this.P=t}getToken(){return Promise.resolve(new Bf(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},zf=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},qf=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){let t=o=>{o.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?i(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>t(o))};let r=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ee(typeof i.token=="string"),this.R=i.token,new zf(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function YR(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let t=0;t<n;t++)i[t]=Math.floor(256*Math.random());return i}var wd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length,t="";for(;t.length<20;){let r=YR(40);for(let o=0;o<r.length;++o)t.length<20&&r[o]<i&&(t+=e.charAt(r[o]%e.length))}return t}};function de(n,e){return n<e?-1:n>e?1:0}function Ko(n,e,i){return n.length===e.length&&n.every((t,r)=>i(t,e[r]))}function mx(n){return n+"\0"}var Qe=class n{constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new N(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new N(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new N(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new N(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let i=Math.floor(e/1e3),t=Math.floor(1e6*(e-1e3*i));return new n(i,t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?de(this.nanoseconds,e.nanoseconds):de(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Qe(0,0))}static max(){return new n(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var xd=class n{constructor(e,i,t){i===void 0?i=0:i>e.length&&K(),t===void 0?t=e.length-i:t>e.length-i&&K(),this.segments=e,this.offset=i,this.len=t}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let i=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(t=>{i.push(t)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,t=this.limit();i<t;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){let t=Math.min(e.length,i.length);for(let r=0;r<t;r++){let o=e.get(r),s=i.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<i.length?-1:e.length>i.length?1:0}},we=class n extends xd{construct(e,i,t){return new n(e,i,t)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let i=[];for(let t of e){if(t.indexOf("//")>=0)throw new N(R.INVALID_ARGUMENT,`Invalid segment (${t}). Paths must not contain // in them.`);i.push(...t.split("/").filter(r=>r.length>0))}return new n(i)}static emptyPath(){return new n([])}},XR=/^[_a-zA-Z][_a-zA-Z0-9]*$/,st=class n extends xd{construct(e,i,t){return new n(e,i,t)}static isValidIdentifier(e){return XR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let i=[],t="",r=0,o=()=>{if(t.length===0)throw new N(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(t),t=""},s=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new N(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new N(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);t+=l,r+=2}else a==="`"?(s=!s,r++):a!=="."||s?(t+=a,r++):(o(),r++)}if(o(),s)throw new N(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(i)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(we.fromString(e))}static fromName(e){return new n(we.fromString(e).popFirst(5))}static empty(){return new n(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return we.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new we(e.slice()))}};var Qo=class{constructor(e,i,t,r){this.indexId=e,this.collectionGroup=i,this.fields=t,this.indexState=r}};function $f(n){return n.fields.find(e=>e.kind===2)}function _r(n){return n.fields.filter(e=>e.kind!==2)}Qo.UNKNOWN_ID=-1;var Go=class{constructor(e,i){this.fieldPath=e,this.kind=i}};var Za=class n{constructor(e,i){this.sequenceNumber=e,this.offset=i}static empty(){return new n(0,di.min())}};function fx(n,e){let i=n.toTimestamp().seconds,t=n.toTimestamp().nanoseconds+1,r=ne.fromTimestamp(t===1e9?new Qe(i+1,0):new Qe(i,t));return new di(r,G.empty(),e)}function px(n){return new di(n.readTime,n.key,-1)}var di=class n{constructor(e,i,t){this.readTime=e,this.documentKey=i,this.largestBatchId=t}static min(){return new n(ne.min(),G.empty(),-1)}static max(){return new n(ne.max(),G.empty(),-1)}};function Fg(n,e){let i=n.readTime.compareTo(e.readTime);return i!==0?i:(i=G.comparator(n.documentKey,e.documentKey),i!==0?i:de(n.largestBatchId,e.largestBatchId))}var gx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ed=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Un(n){return M(this,null,function*(){if(n.code!==R.FAILED_PRECONDITION||n.message!==gx)throw n;F("LocalStore","Unexpectedly lost primary lease")})}var A=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new n((t,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(t,r)},this.catchCallback=o=>{this.wrapFailure(i,o).next(t,r)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{let i=e();return i instanceof n?i:n.resolve(i)}catch(i){return n.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):n.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):n.reject(i)}static resolve(e){return new n((i,t)=>{i(e)})}static reject(e){return new n((i,t)=>{t(e)})}static waitFor(e){return new n((i,t)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&i()},l=>t(l))}),s=!0,o===r&&i()})}static or(e){let i=n.resolve(!1);for(let t of e)i=i.next(r=>r?n.resolve(r):t());return i}static forEach(e,i){let t=[];return e.forEach((r,o)=>{t.push(i.call(this,r,o))}),this.waitFor(t)}static mapArray(e,i){return new n((t,r)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let d=l;i(e[d]).next(h=>{s[d]=h,++a,a===o&&t(s)},h=>r(h))}})}static doWhile(e,i){return new n((t,r)=>{let o=()=>{e()===!0?i().next(()=>{o()},r):t()};o()})}};var Id=class n{constructor(e,i){this.action=e,this.transaction=i,this.aborted=!1,this.V=new ht,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Ir(e,i.error)):this.V.resolve()},this.transaction.onerror=t=>{let r=Vg(t.target.error);this.V.reject(new Ir(e,r))}}static open(e,i,t,r){try{return new n(i,e.transaction(r,t))}catch(o){throw new Ir(i,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(F("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let i=this.transaction.objectStore(e);return new Hf(i)}},Mn=class n{constructor(e,i,t){this.name=e,this.version=i,this.p=t,n.S(sa())===12.2&&ot("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return F("SimpleDb","Removing database:",e),vr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Tl())return!1;if(n.C())return!0;let e=sa(),i=n.S(e),t=0<i&&i<10,r=bx(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||t||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,i){return e.store(i)}static S(e){let i=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),t=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(t)}M(e){return M(this,null,function*(){return this.db||(F("SimpleDb","Opening database:",this.name),this.db=yield new Promise((i,t)=>{let r=indexedDB.open(this.name,this.version);r.onsuccess=o=>{let s=o.target.result;i(s)},r.onblocked=()=>{t(new Ir(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=o=>{let s=o.target.error;s.name==="VersionError"?t(new N(R.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?t(new N(R.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):t(new Ir(e,s))},r.onupgradeneeded=o=>{F("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);let s=o.target.result;this.p.O(s,r.transaction,o.oldVersion,this.version).next(()=>{F("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=i=>this.N(i)),this.db})}L(e){this.N=e,this.db&&(this.db.onversionchange=i=>e(i))}runTransaction(e,i,t,r){return M(this,null,function*(){let o=i==="readonly",s=0;for(;;){++s;try{this.db=yield this.M(e);let a=Id.open(this.db,e,o?"readonly":"readwrite",t),l=r(a).next(d=>(a.g(),d)).catch(d=>(a.abort(d),A.reject(d))).toPromise();return l.catch(()=>{}),yield a.m,l}catch(a){let l=a,d=l.name!=="FirebaseError"&&s<3;if(F("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),this.close(),!d)return Promise.reject(l)}}})}close(){this.db&&this.db.close(),this.db=void 0}};function bx(n){let e=n.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}var Gf=class{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return vr(this.B.delete())}},Ir=class extends N{constructor(e,i){super(R.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${i}`),this.name="IndexedDbTransactionError"}};function zn(n){return n.name==="IndexedDbTransactionError"}var Hf=class{constructor(e){this.store=e}put(e,i){let t;return i!==void 0?(F("SimpleDb","PUT",this.store.name,e,i),t=this.store.put(i,e)):(F("SimpleDb","PUT",this.store.name,"<auto-key>",e),t=this.store.put(e)),vr(t)}add(e){return F("SimpleDb","ADD",this.store.name,e,e),vr(this.store.add(e))}get(e){return vr(this.store.get(e)).next(i=>(i===void 0&&(i=null),F("SimpleDb","GET",this.store.name,e,i),i))}delete(e){return F("SimpleDb","DELETE",this.store.name,e),vr(this.store.delete(e))}count(){return F("SimpleDb","COUNT",this.store.name),vr(this.store.count())}U(e,i){let t=this.options(e,i),r=t.index?this.store.index(t.index):this.store;if(typeof r.getAll=="function"){let o=r.getAll(t.range);return new A((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{let o=this.cursor(t),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,i){let t=this.store.getAll(e,i===null?void 0:i);return new A((r,o)=>{t.onerror=s=>{o(s.target.error)},t.onsuccess=s=>{r(s.target.result)}})}j(e,i){F("SimpleDb","DELETE ALL",this.store.name);let t=this.options(e,i);t.H=!1;let r=this.cursor(t);return this.W(r,(o,s,a)=>a.delete())}J(e,i){let t;i?t=e:(t={},i=e);let r=this.cursor(t);return this.W(r,i)}Y(e){let i=this.cursor({});return new A((t,r)=>{i.onerror=o=>{let s=Vg(o.target.error);r(s)},i.onsuccess=o=>{let s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():t()}):t()}})}W(e,i){let t=[];return new A((r,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{let a=s.target.result;if(!a)return void r();let l=new Gf(a),d=i(a.primaryKey,a.value,l);if(d instanceof A){let h=d.catch(f=>(l.done(),A.reject(f)));t.push(h)}l.isDone?r():l.K===null?a.continue():a.continue(l.K)}}).next(()=>A.waitFor(t))}options(e,i){let t;return e!==void 0&&(typeof e=="string"?t=e:i=e),{index:t,range:i}}cursor(e){let i="next";if(e.reverse&&(i="prev"),e.index){let t=this.store.index(e.index);return e.H?t.openKeyCursor(e.range,i):t.openCursor(e.range,i)}return this.store.openCursor(e.range,i)}};function vr(n){return new A((e,i)=>{n.onsuccess=t=>{let r=t.target.result;e(r)},n.onerror=t=>{let r=Vg(t.target.error);i(r)}})}var hw=!1;function Vg(n){let e=Mn.S(sa());if(e>=12.2&&e<13){let i="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(i)>=0){let t=new N("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hw||(hw=!0,setTimeout(()=>{throw t},0)),t}}return n}var Wf=class{constructor(e,i){this.asyncQueue=e,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){F("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,()=>M(this,null,function*(){this.task=null;try{F("IndexBackfiller",`Documents written: ${yield this.Z.ee()}`)}catch(i){zn(i)?F("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",i):yield Un(i)}yield this.X(6e4)}))}},Kf=class{constructor(e,i){this.localStore=e,this.persistence=i}ee(e=50){return M(this,null,function*(){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>this.te(i,e))})}te(e,i){let t=new Set,r=i,o=!0;return A.doWhile(()=>o===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!t.has(s))return F("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,r).next(a=>{r-=a,t.add(s)});o=!1})).next(()=>i-r)}ne(e,i,t){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,i).next(r=>this.localStore.localDocuments.getNextDocuments(e,i,r,t).next(o=>{let s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(r,o)).next(a=>(F("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,i,a))).next(()=>s.size)}))}re(e,i){let t=e;return i.changes.forEach((r,o)=>{let s=px(o);Fg(s,t)>0&&(t=s)}),new di(t.readTime,t.documentKey,Math.max(i.batchId,e.largestBatchId))}};var ii=(()=>{class n{constructor(i,t){this.previousValue=i,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){let i=++this.previousValue;return this.se&&this.se(i),i}}return n.oe=-1,n})();function yc(n){return n==null}function Ja(n){return n===0&&1/n==-1/0}function _x(n){return typeof n=="number"&&Number.isInteger(n)&&!Ja(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function jt(n){let e="";for(let i=0;i<n.length;i++)e.length>0&&(e=mw(e)),e=ZR(n.get(i),e);return mw(e)}function ZR(n,e){let i=e,t=n.length;for(let r=0;r<t;r++){let o=n.charAt(r);switch(o){case"\0":i+="";break;case"":i+="";break;default:i+=o}}return i}function mw(n){return n+""}function Pi(n){let e=n.length;if(ee(e>=2),e===2)return ee(n.charAt(0)===""&&n.charAt(1)===""),we.emptyPath();let i=e-2,t=[],r="";for(let o=0;o<e;){let s=n.indexOf("",o);switch((s<0||s>i)&&K(),n.charAt(s+1)){case"":let a=n.substring(o,s),l;r.length===0?l=a:(r+=a,l=r,r=""),t.push(l);break;case"":r+=n.substring(o,s),r+="\0";break;case"":r+=n.substring(o,s+1);break;default:K()}o=s+2}return new we(t)}var fw=["userId","batchId"];function fd(n,e){return[n,jt(e)]}function vx(n,e,i){return[n,jt(e),i]}var JR={},eD=["prefixPath","collectionGroup","readTime","documentId"],tD=["prefixPath","collectionGroup","documentId"],iD=["collectionGroup","readTime","prefixPath","documentId"],nD=["canonicalId","targetId"],rD=["targetId","path"],oD=["path","targetId"],sD=["collectionId","parent"],aD=["indexId","uid"],cD=["uid","sequenceNumber"],lD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dD=["indexId","uid","orderedDocumentKey"],uD=["userId","collectionPath","documentId"],hD=["userId","collectionPath","largestBatchId"],mD=["userId","collectionGroup","largestBatchId"],yx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fD=[...yx,"documentOverlays"],wx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xx=wx,Ex=[...xx,"indexConfiguration","indexState","indexEntries"],pD=Ex;var ec=class extends Ed{constructor(e,i){super(),this._e=e,this.currentSequenceNumber=i}};function wt(n,e){let i=H(n);return Mn.F(i._e,e)}function pw(n){let e=0;for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&e++;return e}function Fr(n,e){for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&e(i,n[i])}function Ix(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var $e=class n{constructor(e,i){this.comparator=e,this.root=i||Ni.EMPTY}insert(e,i){return new n(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){let t=this.comparator(e,i.key);if(t===0)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}indexOf(e){let i=0,t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return i+t.left.size;r<0?t=t.left:(i+=t.left.size+1,t=t.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,t)=>(e(i,t),!1))}toString(){let e=[];return this.inorderTraversal((i,t)=>(e.push(`${i}:${t}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $o(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $o(this.root,e,this.comparator,!1)}getReverseIterator(){return new $o(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $o(this.root,e,this.comparator,!0)}},$o=class{constructor(e,i,t,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=i?t(e.key,i):1,i&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ni=class n{constructor(e,i,t,r,o){this.key=e,this.value=i,this.color=t??n.RED,this.left=r??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,t,r,o){return new n(e??this.key,i??this.value,t??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,t){let r=this,o=t(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,i,t),null):o===0?r.copy(null,i,null,null,null):r.copy(null,null,null,null,r.right.insert(e,i,t)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let t,r=this;if(i(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),i(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;t=r.right.min(),r=r.copy(t.key,t.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();let e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}};Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,i,t,r,o){return this}insert(e,i,t){return new Ni(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Le=class n{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,t)=>(e(i),!1))}forEachInRange(e,i){let t=this.data.getIteratorFrom(e[0]);for(;t.hasNext();){let r=t.getNext();if(this.comparator(r.key,e[1])>=0)return;i(r.key)}}forEachWhile(e,i){let t;for(t=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();t.hasNext();)if(!e(t.getNext().key))return}firstAfterOrEqual(e){let i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Cd(this.data.getIterator())}getIteratorFrom(e){return new Cd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(t=>{i=i.add(t)}),i}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let i=this.data.getIterator(),t=e.data.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=t.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(i=>{e.push(i)}),e}toString(){let e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){let i=new n(this.comparator);return i.data=e,i}},Cd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function No(n){return n.hasNext()?n.getNext():void 0}var ni=class n{constructor(e){this.fields=e,e.sort(st.comparator)}static empty(){return new n([])}unionWith(e){let i=new Le(st.comparator);for(let t of this.fields)i=i.add(t);for(let t of e)i=i.add(t);return new n(i.toArray())}covers(e){for(let i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ko(this.fields,e.fields,(i,t)=>i.isEqual(t))}};var Td=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function Cx(){return typeof atob<"u"}var yt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let i=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Td("Invalid base64 string: "+o):o}}(e);return new n(i)}static fromUint8Array(e){let i=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new n(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){let t=new Uint8Array(i.length);for(let r=0;r<i.length;r++)t[r]=i.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return de(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};yt.EMPTY_BYTE_STRING=new yt("");var gD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(n){if(ee(!!n),typeof n=="string"){let e=0,i=gD.exec(n);if(ee(!!i),i[1]){let r=i[1];r=(r+"000000000").substr(0,9),e=Number(r)}let t=new Date(n);return{seconds:Math.floor(t.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Pn(n){return typeof n=="string"?yt.fromBase64String(n):yt.fromUint8Array(n)}function gu(n){var e,i;return((i=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Lg(n){let e=n.mapValue.fields.__previous_value__;return gu(e)?Lg(e):e}function tc(n){let e=Zi(n.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}var Qf=class{constructor(e,i,t,r,o,s,a,l,d){this.databaseId=e,this.appId=i,this.persistenceKey=t,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}},On=class n{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var kn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},pd={nullValue:"NULL_VALUE"};function Cr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gu(n)?4:Tx(n)?9007199254740991:10:K()}function Li(n,e){if(n===e)return!0;let i=Cr(n);if(i!==Cr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tc(n).isEqual(tc(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Zi(r.timestampValue),a=Zi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,o){return Pn(r.bytesValue).isEqual(Pn(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return et(r.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(r.geoPointValue.longitude)===et(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return et(r.integerValue)===et(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=et(r.doubleValue),a=et(o.doubleValue);return s===a?Ja(s)===Ja(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ko(n.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:return function(r,o){let s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(pw(s)!==pw(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Li(s[l],a[l])))return!1;return!0}(n,e);default:return K()}}function ic(n,e){return(n.values||[]).find(i=>Li(i,e))!==void 0}function Nn(n,e){if(n===e)return 0;let i=Cr(n),t=Cr(e);if(i!==t)return de(i,t);switch(i){case 0:case 9007199254740991:return 0;case 1:return de(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=et(o.integerValue||o.doubleValue),l=et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return gw(n.timestampValue,e.timestampValue);case 4:return gw(tc(n),tc(e));case 5:return de(n.stringValue,e.stringValue);case 6:return function(o,s){let a=Pn(o),l=Pn(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let d=0;d<a.length&&d<l.length;d++){let h=de(a[d],l[d]);if(h!==0)return h}return de(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=de(et(o.latitude),et(s.latitude));return a!==0?a:de(et(o.longitude),et(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){let a=o.values||[],l=s.values||[];for(let d=0;d<a.length&&d<l.length;++d){let h=Nn(a[d],l[d]);if(h)return h}return de(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===kn.mapValue&&s===kn.mapValue)return 0;if(o===kn.mapValue)return 1;if(s===kn.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),d=s.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){let g=de(l[f],h[f]);if(g!==0)return g;let _=Nn(a[l[f]],d[h[f]]);if(_!==0)return _}return de(l.length,h.length)}(n.mapValue,e.mapValue);default:throw K()}}function gw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return de(n,e);let i=Zi(n),t=Zi(e),r=de(i.seconds,t.seconds);return r!==0?r:de(i.nanos,t.nanos)}function Yo(n){return Yf(n)}function Yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){let t=Zi(i);return`time(${t.seconds},${t.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(i){return Pn(i).toBase64()}(n.bytesValue):"referenceValue"in n?function(i){return G.fromName(i).toString()}(n.referenceValue):"geoPointValue"in n?function(i){return`geo(${i.latitude},${i.longitude})`}(n.geoPointValue):"arrayValue"in n?function(i){let t="[",r=!0;for(let o of i.values||[])r?r=!1:t+=",",t+=Yf(o);return t+"]"}(n.arrayValue):"mapValue"in n?function(i){let t=Object.keys(i.fields||{}).sort(),r="{",o=!0;for(let s of t)o?o=!1:r+=",",r+=`${s}:${Yf(i.fields[s])}`;return r+"}"}(n.mapValue):K()}function Tr(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Xf(n){return!!n&&"integerValue"in n}function nc(n){return!!n&&"arrayValue"in n}function bw(n){return!!n&&"nullValue"in n}function _w(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gd(n){return!!n&&"mapValue"in n}function Wa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Fr(n.mapValue.fields,(i,t)=>e.mapValue.fields[i]=Wa(t)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let i=0;i<(n.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wa(n.arrayValue.values[i]);return e}return Object.assign({},n)}function Tx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function bD(n){return"nullValue"in n?pd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Tr(On.empty(),G.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:K()}function _D(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Tr(On.empty(),G.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?kn:K()}function vw(n,e){let i=Nn(n.value,e.value);return i!==0?i:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function yw(n,e){let i=Nn(n.value,e.value);return i!==0?i:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Pt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let t=0;t<e.length-1;++t)if(i=(i.mapValue.fields||{})[e.get(t)],!gd(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wa(i)}setAll(e){let i=st.emptyPath(),t={},r=[];e.forEach((s,a)=>{if(!i.isImmediateParentOf(a)){let l=this.getFieldsMap(i);this.applyChanges(l,t,r),t={},r=[],i=a.popLast()}s?t[a.lastSegment()]=Wa(s):r.push(a.lastSegment())});let o=this.getFieldsMap(i);this.applyChanges(o,t,r)}delete(e){let i=this.field(e.popLast());gd(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let t=0;t<e.length;++t){let r=i.mapValue.fields[e.get(t)];gd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},i.mapValue.fields[e.get(t)]=r),i=r}return i.mapValue.fields}applyChanges(e,i,t){Fr(i,(r,o)=>e[r]=o);for(let r of t)delete e[r]}clone(){return new n(Wa(this.value))}};function Ax(n){let e=[];return Fr(n.fields,(i,t)=>{let r=new st([i]);if(gd(t)){let o=Ax(t.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new ni(e)}var mt=class n{constructor(e,i,t,r,o,s,a){this.key=e,this.documentType=i,this.version=t,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),Pt.empty(),0)}static newFoundDocument(e,i,t,r){return new n(e,1,i,ne.min(),t,r,0)}static newNoDocument(e,i){return new n(e,2,i,ne.min(),ne.min(),Pt.empty(),0)}static newUnknownDocument(e,i){return new n(e,3,i,ne.min(),ne.min(),Pt.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ji=class{constructor(e,i){this.position=e,this.inclusive=i}};function ww(n,e,i){let t=0;for(let r=0;r<n.position.length;r++){let o=e[r],s=n.position[r];if(o.field.isKeyField()?t=G.comparator(G.fromName(s.referenceValue),i.key):t=Nn(s,i.data.field(o.field)),o.dir==="desc"&&(t*=-1),t!==0)break}return t}function xw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let i=0;i<n.position.length;i++)if(!Li(n.position[i],e.position[i]))return!1;return!0}var Ar=class{constructor(e,i="asc"){this.field=e,this.dir=i}};function vD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Ad=class{},be=class n extends Ad{constructor(e,i,t){super(),this.field=e,this.op=i,this.value=t}static create(e,i,t){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,t):new ep(e,i,t):i==="array-contains"?new np(e,t):i==="in"?new Sd(e,t):i==="not-in"?new rp(e,t):i==="array-contains-any"?new op(e,t):new n(e,i,t)}static createKeyFieldInFilter(e,i,t){return i==="in"?new tp(e,t):new ip(e,t)}matches(e){let i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Nn(i,this.value)):i!==null&&Cr(this.value)===Cr(i)&&this.matchesComparison(Nn(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Me=class n extends Ad{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new n(e,i)}matches(e){return Xo(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Xo(n){return n.op==="and"}function Zf(n){return n.op==="or"}function jg(n){return Sx(n)&&Xo(n)}function Sx(n){for(let e of n.filters)if(e instanceof Me)return!1;return!0}function Jf(n){if(n instanceof be)return n.field.canonicalString()+n.op.toString()+Yo(n.value);if(jg(n))return n.filters.map(e=>Jf(e)).join(",");{let e=n.filters.map(i=>Jf(i)).join(",");return`${n.op}(${e})`}}function kx(n,e){return n instanceof be?function(t,r){return r instanceof be&&t.op===r.op&&t.field.isEqual(r.field)&&Li(t.value,r.value)}(n,e):n instanceof Me?function(t,r){return r instanceof Me&&t.op===r.op&&t.filters.length===r.filters.length?t.filters.reduce((o,s,a)=>o&&kx(s,r.filters[a]),!0):!1}(n,e):void K()}function Rx(n,e){let i=n.filters.concat(e);return Me.create(i,n.op)}function Dx(n){return n instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Yo(i.value)}`}(n):n instanceof Me?function(i){return i.op.toString()+" {"+i.getFilters().map(Dx).join(" ,")+"}"}(n):"Filter"}var ep=class extends be{constructor(e,i,t){super(e,i,t),this.key=G.fromName(t.referenceValue)}matches(e){let i=G.comparator(e.key,this.key);return this.matchesComparison(i)}},tp=class extends be{constructor(e,i){super(e,"in",i),this.keys=Mx("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}},ip=class extends be{constructor(e,i){super(e,"not-in",i),this.keys=Mx("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}};function Mx(n,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(t=>G.fromName(t.referenceValue))}var np=class extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){let i=e.data.field(this.field);return nc(i)&&ic(i.arrayValue,this.value)}},Sd=class extends be{constructor(e,i){super(e,"in",i)}matches(e){let i=e.data.field(this.field);return i!==null&&ic(this.value.arrayValue,i)}},rp=class extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let i=e.data.field(this.field);return i!==null&&!ic(this.value.arrayValue,i)}},op=class extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){let i=e.data.field(this.field);return!(!nc(i)||!i.arrayValue.values)&&i.arrayValue.values.some(t=>ic(this.value.arrayValue,t))}};var sp=class{constructor(e,i=null,t=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=i,this.orderBy=t,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function ap(n,e=null,i=[],t=[],r=null,o=null,s=null){return new sp(n,e,i,t,r,o,s)}function Sr(n){let e=H(n);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(t=>Jf(t)).join(","),i+="|ob:",i+=e.orderBy.map(t=>function(o){return o.field.canonicalString()+o.dir}(t)).join(","),yc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(t=>Yo(t)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(t=>Yo(t)).join(",")),e.ue=i}return e.ue}function wc(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!vD(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if(!kx(n.filters[i],e.filters[i]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xw(n.startAt,e.startAt)&&xw(n.endAt,e.endAt)}function kd(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Rd(n,e){return n.filters.filter(i=>i instanceof be&&i.field.isEqual(e))}function Ew(n,e,i){let t=pd,r=!0;for(let o of Rd(n,e)){let s=pd,a=!0;switch(o.op){case"<":case"<=":s=bD(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=pd}vw({value:t,inclusive:r},{value:s,inclusive:a})<0&&(t=s,r=a)}if(i!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=i.position[o];vw({value:t,inclusive:r},{value:s,inclusive:i.inclusive})<0&&(t=s,r=i.inclusive);break}}return{value:t,inclusive:r}}function Iw(n,e,i){let t=kn,r=!0;for(let o of Rd(n,e)){let s=kn,a=!0;switch(o.op){case">=":case">":s=_D(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=kn}yw({value:t,inclusive:r},{value:s,inclusive:a})>0&&(t=s,r=a)}if(i!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){let s=i.position[o];yw({value:t,inclusive:r},{value:s,inclusive:i.inclusive})>0&&(t=s,r=i.inclusive);break}}return{value:t,inclusive:r}}var vi=class{constructor(e,i=null,t=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=t,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Px(n,e,i,t,r,o,s,a){return new vi(n,e,i,t,r,o,s,a)}function hs(n){return new vi(n)}function Cw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Bg(n){return n.collectionGroup!==null}function Ho(n){let e=H(n);if(e.ce===null){e.ce=[];let i=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),i.add(o.field.canonicalString());let t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Le(st.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{i.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ar(o,t))}),i.has(st.keyField().canonicalString())||e.ce.push(new Ar(st.keyField(),t))}return e.ce}function Bt(n){let e=H(n);return e.le||(e.le=yD(e,Ho(n))),e.le}function yD(n,e){if(n.limitType==="F")return ap(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new Ar(r.field,o)});let i=n.endAt?new ji(n.endAt.position,n.endAt.inclusive):null,t=n.startAt?new ji(n.startAt.position,n.startAt.inclusive):null;return ap(n.path,n.collectionGroup,e,n.filters,n.limit,i,t)}}function cp(n,e){let i=n.filters.concat([e]);return new vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),i,n.limit,n.limitType,n.startAt,n.endAt)}function Dd(n,e,i){return new vi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,i,n.startAt,n.endAt)}function xc(n,e){return wc(Bt(n),Bt(e))&&n.limitType===e.limitType}function Ox(n){return`${Sr(Bt(n))}|lt:${n.limitType}`}function Bo(n){return`Query(target=${function(i){let t=i.path.canonicalString();return i.collectionGroup!==null&&(t+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(t+=`, filters: [${i.filters.map(r=>Dx(r)).join(", ")}]`),yc(i.limit)||(t+=", limit: "+i.limit),i.orderBy.length>0&&(t+=`, orderBy: [${i.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),i.startAt&&(t+=", startAt: ",t+=i.startAt.inclusive?"b:":"a:",t+=i.startAt.position.map(r=>Yo(r)).join(",")),i.endAt&&(t+=", endAt: ",t+=i.endAt.inclusive?"a:":"b:",t+=i.endAt.position.map(r=>Yo(r)).join(",")),`Target(${t})`}(Bt(n))}; limitType=${n.limitType})`}function Ec(n,e){return e.isFoundDocument()&&function(t,r){let o=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):G.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(let o of Ho(t))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,e)&&function(t,r){for(let o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!function(s,a,l){let d=ww(s,a,l);return s.inclusive?d<=0:d<0}(t.startAt,Ho(t),r)||t.endAt&&!function(s,a,l){let d=ww(s,a,l);return s.inclusive?d>=0:d>0}(t.endAt,Ho(t),r))}(n,e)}function Nx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Fx(n){return(e,i)=>{let t=!1;for(let r of Ho(n)){let o=wD(r,e,i);if(o!==0)return o;t=t||r.field.isKeyField()}return 0}}function wD(n,e,i){let t=n.field.isKeyField()?G.comparator(e.key,i.key):function(o,s,a){let l=s.data.field(o),d=a.data.field(o);return l!==null&&d!==null?Nn(l,d):K()}(n.field,e,i);switch(n.dir){case"asc":return t;case"desc":return-1*t;default:return K()}}var Bi=class{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){let i=this.mapKeyFn(e),t=this.inner[i];if(t!==void 0){for(let[r,o]of t)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,i){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return this.inner[t]=[[e,i]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,i]);r.push([e,i]),this.innerSize++}delete(e){let i=this.mapKeyFn(e),t=this.inner[i];if(t===void 0)return!1;for(let r=0;r<t.length;r++)if(this.equalsFn(t[r][0],e))return t.length===1?delete this.inner[i]:t.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,(i,t)=>{for(let[r,o]of t)e(r,o)})}isEmpty(){return Ix(this.inner)}size(){return this.innerSize}};var xD=new $e(G.comparator);function Gt(){return xD}var Vx=new $e(G.comparator);function Ga(...n){let e=Vx;for(let i of n)e=e.insert(i.key,i);return e}function Lx(n){let e=Vx;return n.forEach((i,t)=>e=e.insert(i,t.overlayedDocument)),e}function Oi(){return Ka()}function jx(){return Ka()}function Ka(){return new Bi(n=>n.toString(),(n,e)=>n.isEqual(e))}var ED=new $e(G.comparator),ID=new Le(G.comparator);function me(...n){let e=ID;for(let i of n)e=e.add(i);return e}var CD=new Le(de);function Ug(){return CD}function Bx(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ja(e)?"-0":e}}function Ux(n){return{integerValue:""+n}}function zx(n,e){return _x(e)?Ux(e):Bx(n,e)}var Zo=class{constructor(){this._=void 0}};function TD(n,e,i){return n instanceof Fn?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&gu(o)&&(o=Lg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(i,e):n instanceof Ji?$x(n,e):n instanceof en?Gx(n,e):function(r,o){let s=qx(r,o),a=Tw(s)+Tw(r.Pe);return Xf(s)&&Xf(r.Pe)?Ux(a):Bx(r.serializer,a)}(n,e)}function AD(n,e,i){return n instanceof Ji?$x(n,e):n instanceof en?Gx(n,e):i}function qx(n,e){return n instanceof Vn?function(t){return Xf(t)||function(o){return!!o&&"doubleValue"in o}(t)}(e)?e:{integerValue:0}:null}var Fn=class extends Zo{},Ji=class extends Zo{constructor(e){super(),this.elements=e}};function $x(n,e){let i=Hx(e);for(let t of n.elements)i.some(r=>Li(r,t))||i.push(t);return{arrayValue:{values:i}}}var en=class extends Zo{constructor(e){super(),this.elements=e}};function Gx(n,e){let i=Hx(e);for(let t of n.elements)i=i.filter(r=>!Li(r,t));return{arrayValue:{values:i}}}var Vn=class extends Zo{constructor(e,i){super(),this.serializer=e,this.Pe=i}};function Tw(n){return et(n.integerValue||n.doubleValue)}function Hx(n){return nc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var kr=class{constructor(e,i){this.field=e,this.transform=i}};function SD(n,e){return n.field.isEqual(e.field)&&function(t,r){return t instanceof Ji&&r instanceof Ji||t instanceof en&&r instanceof en?Ko(t.elements,r.elements,Li):t instanceof Vn&&r instanceof Vn?Li(t.Pe,r.Pe):t instanceof Fn&&r instanceof Fn}(n.transform,e.transform)}var lp=class{constructor(e,i){this.version=e,this.transformResults=i}},tt=class n{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Jo=class{};function Wx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new jn(n.key,tt.none()):new Ln(n.key,n.data,tt.none());{let i=n.data,t=Pt.empty(),r=new Le(st.comparator);for(let o of e.fields)if(!r.has(o)){let s=i.field(o);s===null&&o.length>1&&(o=o.popLast(),s=i.field(o)),s===null?t.delete(o):t.set(o,s),r=r.add(o)}return new yi(n.key,t,new ni(r.toArray()),tt.none())}}function kD(n,e,i){n instanceof Ln?function(r,o,s){let a=r.value.clone(),l=Sw(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,i):n instanceof yi?function(r,o,s){if(!bd(r.precondition,o))return void o.convertToUnknownDocument(s.version);let a=Sw(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(Kx(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,i):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,i)}function Qa(n,e,i,t){return n instanceof Ln?function(o,s,a,l){if(!bd(o.precondition,s))return a;let d=o.value.clone(),h=kw(o.fieldTransforms,l,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,i,t):n instanceof yi?function(o,s,a,l){if(!bd(o.precondition,s))return a;let d=kw(o.fieldTransforms,l,s),h=s.data;return h.setAll(Kx(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(n,e,i,t):function(o,s,a){return bd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,i)}function RD(n,e){let i=null;for(let t of n.fieldTransforms){let r=e.data.field(t.field),o=qx(t.transform,r||null);o!=null&&(i===null&&(i=Pt.empty()),i.set(t.field,o))}return i||null}function Aw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&Ko(t,r,(o,s)=>SD(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ln=class extends Jo{constructor(e,i,t,r=[]){super(),this.key=e,this.value=i,this.precondition=t,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},yi=class extends Jo{constructor(e,i,t,r,o=[]){super(),this.key=e,this.data=i,this.fieldMask=t,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function Kx(n){let e=new Map;return n.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){let t=n.data.field(i);e.set(i,t)}}),e}function Sw(n,e,i){let t=new Map;ee(n.length===i.length);for(let r=0;r<i.length;r++){let o=n[r],s=o.transform,a=e.data.field(o.field);t.set(o.field,AD(s,a,i[r]))}return t}function kw(n,e,i){let t=new Map;for(let r of n){let o=r.transform,s=i.data.field(r.field);t.set(r.field,TD(o,s,e))}return t}var jn=class extends Jo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},rc=class extends Jo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var oc=class{constructor(e,i,t,r){this.batchId=e,this.localWriteTime=i,this.baseMutations=t,this.mutations=r}applyToRemoteDocument(e,i){let t=i.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&kD(o,e,t[r])}}applyToLocalView(e,i){for(let t of this.baseMutations)t.key.isEqual(e.key)&&(i=Qa(t,e,i,this.localWriteTime));for(let t of this.mutations)t.key.isEqual(e.key)&&(i=Qa(t,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){let t=jx();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=i.has(r.key)?null:a;let l=Wx(s,a);l!==null&&t.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ne.min())}),t}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),me())}isEqual(e){return this.batchId===e.batchId&&Ko(this.mutations,e.mutations,(i,t)=>Aw(i,t))&&Ko(this.baseMutations,e.baseMutations,(i,t)=>Aw(i,t))}},dp=class n{constructor(e,i,t,r){this.batch=e,this.commitVersion=i,this.mutationResults=t,this.docVersions=r}static from(e,i,t){ee(e.mutations.length===t.length);let r=function(){return ED}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,t[s].version);return new n(e,i,t,r)}};var sc=class{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var up=class{constructor(e,i){this.count=e,this.unchangedNames=i}};var lt,ye;function Qx(n){switch(n){default:return K();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function Yx(n){if(n===void 0)return ot("GRPC error has no .code"),R.UNKNOWN;switch(n){case lt.OK:return R.OK;case lt.CANCELLED:return R.CANCELLED;case lt.UNKNOWN:return R.UNKNOWN;case lt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case lt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case lt.INTERNAL:return R.INTERNAL;case lt.UNAVAILABLE:return R.UNAVAILABLE;case lt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case lt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case lt.NOT_FOUND:return R.NOT_FOUND;case lt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case lt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case lt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case lt.ABORTED:return R.ABORTED;case lt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case lt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case lt.DATA_LOSS:return R.DATA_LOSS;default:return K()}}(ye=lt||(lt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var Rw=null;function Xx(){return new TextEncoder}var DD=new In([4294967295,4294967295],0);function Dw(n){let e=Xx().encode(n),i=new Tf;return i.update(e),new Uint8Array(i.digest())}function Mw(n){let e=new DataView(n.buffer),i=e.getUint32(0,!0),t=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new In([i,t],0),new In([r,o],0)]}var hp=class n{constructor(e,i,t){if(this.bitmap=e,this.padding=i,this.hashCount=t,i<0||i>=8)throw new Er(`Invalid padding: ${i}`);if(t<0)throw new Er(`Invalid hash count: ${t}`);if(e.length>0&&this.hashCount===0)throw new Er(`Invalid hash count: ${t}`);if(e.length===0&&i!==0)throw new Er(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*e.length-i,this.Te=In.fromNumber(this.Ie)}Ee(e,i,t){let r=e.add(i.multiply(In.fromNumber(t)));return r.compare(DD)===1&&(r=new In([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let i=Dw(e),[t,r]=Mw(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(t,r,o);if(!this.de(s))return!1}return!0}static create(e,i,t){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,r,i);return t.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let i=Dw(e),[t,r]=Mw(i);for(let o=0;o<this.hashCount;o++){let s=this.Ee(t,r,o);this.Ae(s)}}Ae(e){let i=Math.floor(e/8),t=e%8;this.bitmap[i]|=1<<t}},Er=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ac=class n{constructor(e,i,t,r,o){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=t,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,i,t){let r=new Map;return r.set(e,cc.createSynthesizedTargetChangeForCurrentChange(e,i,t)),new n(ne.min(),r,new $e(de),Gt(),me())}},cc=class n{constructor(e,i,t,r,o){this.resumeToken=e,this.current=i,this.addedDocuments=t,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,i,t){return new n(t,i,me(),me(),me())}};var Wo=class{constructor(e,i,t,r){this.Re=e,this.removedTargetIds=i,this.key=t,this.Ve=r}},Md=class{constructor(e,i){this.targetId=e,this.me=i}},Pd=class{constructor(e,i,t=yt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=i,this.resumeToken=t,this.cause=r}},Od=class{constructor(){this.fe=0,this.ge=Ow(),this.pe=yt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=me(),i=me(),t=me();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:i=i.add(r);break;case 1:t=t.add(r);break;default:K()}}),new cc(this.pe,this.ye,e,i,t)}ve(){this.we=!1,this.ge=Ow()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},mp=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Gt(),this.qe=Pw(),this.Qe=new $e(de)}Ke(e){for(let i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(i,e.Ve):this.Ue(i,e.key,e.Ve);for(let i of e.removedTargetIds)this.Ue(i,e.key,e.Ve)}We(e){this.forEachTarget(e,i=>{let t=this.Ge(i);switch(e.state){case 0:this.ze(i)&&t.De(e.resumeToken);break;case 1:t.Oe(),t.Se||t.ve(),t.De(e.resumeToken);break;case 2:t.Oe(),t.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(t.Ne(),t.De(e.resumeToken));break;case 4:this.ze(i)&&(this.je(i),t.De(e.resumeToken));break;default:K()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Be.forEach((t,r)=>{this.ze(r)&&i(r)})}He(e){let i=e.targetId,t=e.me.count,r=this.Je(i);if(r){let o=r.target;if(kd(o))if(t===0){let s=new G(o.path);this.Ue(i,s,mt.newNoDocument(s,ne.min()))}else ee(t===1);else{let s=this.Ye(i);if(s!==t){let a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(i);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(i,d)}Rw?.et(function(h,f,g,_,S){var P,D,$,Y,B,oe;let ce={localCacheCount:h,existenceFilterCount:f.count,databaseId:g.database,projectId:g.projectId},le=f.unchangedNames;return le&&(ce.bloomFilter={applied:S===0,hashCount:(P=le?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(Y=($=(D=le?.bits)===null||D===void 0?void 0:D.bitmap)===null||$===void 0?void 0:$.length)!==null&&Y!==void 0?Y:0,padding:(oe=(B=le?.bits)===null||B===void 0?void 0:B.padding)!==null&&oe!==void 0?oe:0,mightContain:w=>{var b;return(b=_?.mightContain(w))!==null&&b!==void 0&&b}}),ce}(s,e.me,this.Le.tt(),a,l))}}}}Ze(e){let i=e.me.unchangedNames;if(!i||!i.bits)return null;let{bits:{bitmap:t="",padding:r=0},hashCount:o=0}=i,s,a;try{s=Pn(t).toUint8Array()}catch(l){if(l instanceof Td)return li("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hp(s,r,o)}catch(l){return li(l instanceof Er?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,i,t){return i.me.count===t-this.nt(e,i.targetId)?0:2}nt(e,i){let t=this.Le.getRemoteKeysForTarget(i),r=0;return t.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(i,o,null),r++)}),r}rt(e){let i=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&kd(a.target)){let l=new G(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,mt.newNoDocument(l,e))}o.be&&(i.set(s,o.Ce()),o.ve())}});let t=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(t=t.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new ac(e,i,this.Qe,this.ke,t);return this.ke=Gt(),this.qe=Pw(),this.Qe=new $e(de),r}$e(e,i){if(!this.ze(e))return;let t=this.it(e,i.key)?2:0;this.Ge(e).Fe(i.key,t),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e))}Ue(e,i,t){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,i)?r.Fe(i,1):r.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(e)),t&&(this.ke=this.ke.insert(i,t))}removeTarget(e){this.Be.delete(e)}Ye(e){let i=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let i=this.Be.get(e);return i||(i=new Od,this.Be.set(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Le(de),this.qe=this.qe.insert(e,i)),i}ze(e){let i=this.Je(e)!==null;return i||F("WatchChangeAggregator","Detected inactive target",e),i}Je(e){let i=this.Be.get(e);return i&&i.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Od),this.Le.getRemoteKeysForTarget(e).forEach(i=>{this.Ue(e,i,null)})}it(e,i){return this.Le.getRemoteKeysForTarget(e).has(i)}};function Pw(){return new $e(G.comparator)}function Ow(){return new $e(G.comparator)}var MD={asc:"ASCENDING",desc:"DESCENDING"},PD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OD={and:"AND",or:"OR"},fp=class{constructor(e,i){this.databaseId=e,this.useProto3Json=i}};function pp(n,e){return n.useProto3Json||yc(e)?e:{value:e}}function es(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ND(n,e){return es(n,e.toTimestamp())}function at(n){return ee(!!n),ne.fromTimestamp(function(i){let t=Zi(i);return new Qe(t.seconds,t.nanos)}(n))}function zg(n,e){return gp(n,e).canonicalString()}function gp(n,e){let i=function(r){return new we(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?i:i.child(e)}function Jx(n){let e=we.fromString(n);return ee(lE(e)),e}function lc(n,e){return zg(n.databaseId,e.path)}function Fi(n,e){let i=Jx(e);if(i.get(1)!==n.databaseId.projectId)throw new N(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+n.databaseId.projectId);if(i.get(3)!==n.databaseId.database)throw new N(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+n.databaseId.database);return new G(iE(i))}function eE(n,e){return zg(n.databaseId,e)}function tE(n){let e=Jx(n);return e.length===4?we.emptyPath():iE(e)}function bp(n){return new we(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function iE(n){return ee(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Nw(n,e,i){return{name:lc(n,e),fields:i.value.mapValue.fields}}function nE(n,e,i){let t=Fi(n,e.name),r=at(e.updateTime),o=e.createTime?at(e.createTime):ne.min(),s=new Pt({mapValue:{fields:e.fields}}),a=mt.newFoundDocument(t,r,o,s);return i&&a.setHasCommittedMutations(),i?a.setHasCommittedMutations():a}function FD(n,e){return"found"in e?function(t,r){ee(!!r.found),r.found.name,r.found.updateTime;let o=Fi(t,r.found.name),s=at(r.found.updateTime),a=r.found.createTime?at(r.found.createTime):ne.min(),l=new Pt({mapValue:{fields:r.found.fields}});return mt.newFoundDocument(o,s,a,l)}(n,e):"missing"in e?function(t,r){ee(!!r.missing),ee(!!r.readTime);let o=Fi(t,r.missing),s=at(r.readTime);return mt.newNoDocument(o,s)}(n,e):K()}function VD(n,e){let i;if("targetChange"in e){e.targetChange;let t=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:K()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,h){return d.useProto3Json?(ee(h===void 0||typeof h=="string"),yt.fromBase64String(h||"")):(ee(h===void 0||h instanceof Buffer||h instanceof Uint8Array),yt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let h=d.code===void 0?R.UNKNOWN:Yx(d.code);return new N(h,d.message||"")}(s);i=new Pd(t,r,o,a||null)}else if("documentChange"in e){e.documentChange;let t=e.documentChange;t.document,t.document.name,t.document.updateTime;let r=Fi(n,t.document.name),o=at(t.document.updateTime),s=t.document.createTime?at(t.document.createTime):ne.min(),a=new Pt({mapValue:{fields:t.document.fields}}),l=mt.newFoundDocument(r,o,s,a),d=t.targetIds||[],h=t.removedTargetIds||[];i=new Wo(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let t=e.documentDelete;t.document;let r=Fi(n,t.document),o=t.readTime?at(t.readTime):ne.min(),s=mt.newNoDocument(r,o),a=t.removedTargetIds||[];i=new Wo([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let t=e.documentRemove;t.document;let r=Fi(n,t.document),o=t.removedTargetIds||[];i=new Wo([],o,r,null)}else{if(!("filter"in e))return K();{e.filter;let t=e.filter;t.targetId;let{count:r=0,unchangedNames:o}=t,s=new up(r,o),a=t.targetId;i=new Md(a,s)}}return i}function dc(n,e){let i;if(e instanceof Ln)i={update:Nw(n,e.key,e.value)};else if(e instanceof jn)i={delete:lc(n,e.key)};else if(e instanceof yi)i={update:Nw(n,e.key,e.data),updateMask:qD(e.fieldMask)};else{if(!(e instanceof rc))return K();i={verify:lc(n,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(t=>function(o,s){let a=s.transform;if(a instanceof Fn)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof en)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vn)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw K()}(0,t))),e.precondition.isNone||(i.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:ND(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:K()}(n,e.precondition)),i}function _p(n,e){let i=e.currentDocument?function(o){return o.updateTime!==void 0?tt.updateTime(at(o.updateTime)):o.exists!==void 0?tt.exists(o.exists):tt.none()}(e.currentDocument):tt.none(),t=e.updateTransforms?e.updateTransforms.map(r=>function(s,a){let l=null;if("setToServerValue"in a)ee(a.setToServerValue==="REQUEST_TIME"),l=new Fn;else if("appendMissingElements"in a){let h=a.appendMissingElements.values||[];l=new Ji(h)}else if("removeAllFromArray"in a){let h=a.removeAllFromArray.values||[];l=new en(h)}else"increment"in a?l=new Vn(s,a.increment):K();let d=st.fromServerFormat(a.fieldPath);return new kr(d,l)}(n,r)):[];if(e.update){e.update.name;let r=Fi(n,e.update.name),o=new Pt({mapValue:{fields:e.update.fields}});if(e.updateMask){let s=function(l){let d=l.fieldPaths||[];return new ni(d.map(h=>st.fromServerFormat(h)))}(e.updateMask);return new yi(r,o,s,i,t)}return new Ln(r,o,i,t)}if(e.delete){let r=Fi(n,e.delete);return new jn(r,i)}if(e.verify){let r=Fi(n,e.verify);return new rc(r,i)}return K()}function LD(n,e){return n&&n.length>0?(ee(e!==void 0),n.map(i=>function(r,o){let s=r.updateTime?at(r.updateTime):at(o);return s.isEqual(ne.min())&&(s=at(o)),new lp(s,r.transformResults||[])}(i,e))):[]}function rE(n,e){return{documents:[eE(n,e.path)]}}function oE(n,e){let i={structuredQuery:{}},t=e.path,r;e.collectionGroup!==null?(r=t,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=t.popLast(),i.structuredQuery.from=[{collectionId:t.lastSegment()}]),i.parent=eE(n,r);let o=function(d){if(d.length!==0)return cE(Me.create(d,"and"))}(e.filters);o&&(i.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(h=>function(g){return{field:Uo(g.field),direction:BD(g.dir)}}(h))}(e.orderBy);s&&(i.structuredQuery.orderBy=s);let a=pp(n,e.limit);return a!==null&&(i.structuredQuery.limit=a),e.startAt&&(i.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:i,parent:r}}function sE(n){let e=tE(n.parent),i=n.structuredQuery,t=i.from?i.from.length:0,r=null;if(t>0){ee(t===1);let h=i.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let o=[];i.where&&(o=function(f){let g=aE(f);return g instanceof Me&&jg(g)?g.getFilters():[g]}(i.where));let s=[];i.orderBy&&(s=function(f){return f.map(g=>function(S){return new Ar(zo(S.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(i.orderBy));let a=null;i.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,yc(g)?null:g}(i.limit));let l=null;i.startAt&&(l=function(f){let g=!!f.before,_=f.values||[];return new ji(_,g)}(i.startAt));let d=null;return i.endAt&&(d=function(f){let g=!f.before,_=f.values||[];return new ji(_,g)}(i.endAt)),Px(e,r,s,o,a,"F",l,d)}function jD(n,e){let i=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function aE(n){return n.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":let t=zo(i.unaryFilter.field);return be.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=zo(i.unaryFilter.field);return be.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=zo(i.unaryFilter.field);return be.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=zo(i.unaryFilter.field);return be.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(n):n.fieldFilter!==void 0?function(i){return be.create(zo(i.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(i.fieldFilter.op),i.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(i){return Me.create(i.compositeFilter.filters.map(t=>aE(t)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return K()}}(i.compositeFilter.op))}(n):K()}function BD(n){return MD[n]}function UD(n){return PD[n]}function zD(n){return OD[n]}function Uo(n){return{fieldPath:n.canonicalString()}}function zo(n){return st.fromServerFormat(n.fieldPath)}function cE(n){return n instanceof be?function(i){if(i.op==="=="){if(_w(i.value))return{unaryFilter:{field:Uo(i.field),op:"IS_NAN"}};if(bw(i.value))return{unaryFilter:{field:Uo(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(_w(i.value))return{unaryFilter:{field:Uo(i.field),op:"IS_NOT_NAN"}};if(bw(i.value))return{unaryFilter:{field:Uo(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(i.field),op:UD(i.op),value:i.value}}}(n):n instanceof Me?function(i){let t=i.getFilters().map(r=>cE(r));return t.length===1?t[0]:{compositeFilter:{op:zD(i.op),filters:t}}}(n):K()}function qD(n){let e=[];return n.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function lE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var ts=class n{constructor(e,i,t,r,o=ne.min(),s=ne.min(),a=yt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=i,this.purpose=t,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Nd=class{constructor(e){this.ct=e}};function $D(n,e){let i;if(e.document)i=nE(n.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let t=G.fromSegments(e.noDocument.path),r=Dr(e.noDocument.readTime);i=mt.newNoDocument(t,r),e.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!e.unknownDocument)return K();{let t=G.fromSegments(e.unknownDocument.path),r=Dr(e.unknownDocument.version);i=mt.newUnknownDocument(t,r)}}return e.readTime&&i.setReadTime(function(r){let o=new Qe(r[0],r[1]);return ne.fromTimestamp(o)}(e.readTime)),i}function Fw(n,e){let i=e.key,t={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:Fd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())t.document=function(o,s){return{name:lc(o,s.key),fields:s.data.value.mapValue.fields,updateTime:es(o,s.version.toTimestamp()),createTime:es(o,s.createTime.toTimestamp())}}(n.ct,e);else if(e.isNoDocument())t.noDocument={path:i.path.toArray(),readTime:Rr(e.version)};else{if(!e.isUnknownDocument())return K();t.unknownDocument={path:i.path.toArray(),version:Rr(e.version)}}return t}function Fd(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rr(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Dr(n){let e=new Qe(n.seconds,n.nanoseconds);return ne.fromTimestamp(e)}function yr(n,e){let i=(e.baseMutations||[]).map(o=>_p(n.ct,o));for(let o=0;o<e.mutations.length-1;++o){let s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){let a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}let t=e.mutations.map(o=>_p(n.ct,o)),r=Qe.fromMillis(e.localWriteTimeMs);return new oc(e.batchId,r,i,t)}function Ha(n){let e=Dr(n.readTime),i=n.lastLimboFreeSnapshotVersion!==void 0?Dr(n.lastLimboFreeSnapshotVersion):ne.min(),t;return t=function(o){return o.documents!==void 0}(n.query)?function(o){return ee(o.documents.length===1),Bt(hs(tE(o.documents[0])))}(n.query):function(o){return Bt(sE(o))}(n.query),new ts(t,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,i,yt.fromBase64String(n.resumeToken))}function dE(n,e){let i=Rr(e.snapshotVersion),t=Rr(e.lastLimboFreeSnapshotVersion),r;r=kd(e.target)?rE(n.ct,e.target):oE(n.ct,e.target)._t;let o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Sr(e.target),readTime:i,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:t,query:r}}function qg(n){let e=sE({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dd(e,e.limit,"L"):e}function Pf(n,e){return new sc(e.largestBatchId,_p(n.ct,e.overlayMutation))}function Vw(n,e){let i=e.path.lastSegment();return[n,jt(e.path.popLast()),i]}function Lw(n,e,i,t){return{indexId:n,uid:e,sequenceNumber:i,readTime:Rr(t.readTime),documentKey:jt(t.documentKey.path),largestBatchId:t.largestBatchId}}var vp=class{getBundleMetadata(e,i){return jw(e).get(i).next(t=>{if(t)return function(o){return{id:o.bundleId,createTime:Dr(o.createTime),version:o.version}}(t)})}saveBundleMetadata(e,i){return jw(e).put(function(r){return{bundleId:r.id,createTime:Rr(at(r.createTime)),version:r.version}}(i))}getNamedQuery(e,i){return Bw(e).get(i).next(t=>{if(t)return function(o){return{name:o.name,query:qg(o.bundledQuery),readTime:Dr(o.readTime)}}(t)})}saveNamedQuery(e,i){return Bw(e).put(function(r){return{name:r.name,readTime:Rr(at(r.readTime)),bundledQuery:r.bundledQuery}}(i))}};function jw(n){return wt(n,"bundles")}function Bw(n){return wt(n,"namedQueries")}var Vd=class n{constructor(e,i){this.serializer=e,this.userId=i}static lt(e,i){let t=i.uid||"";return new n(e,t)}getOverlay(e,i){return Ua(e).get(Vw(this.userId,i)).next(t=>t?Pf(this.serializer,t):null)}getOverlays(e,i){let t=Oi();return A.forEach(i,r=>this.getOverlay(e,r).next(o=>{o!==null&&t.set(r,o)})).next(()=>t)}saveOverlays(e,i,t){let r=[];return t.forEach((o,s)=>{let a=new sc(i,s);r.push(this.ht(e,a))}),A.waitFor(r)}removeOverlaysForBatchId(e,i,t){let r=new Set;i.forEach(s=>r.add(jt(s.getCollectionPath())));let o=[];return r.forEach(s=>{let a=IDBKeyRange.bound([this.userId,s,t],[this.userId,s,t+1],!1,!0);o.push(Ua(e).j("collectionPathOverlayIndex",a))}),A.waitFor(o)}getOverlaysForCollection(e,i,t){let r=Oi(),o=jt(i),s=IDBKeyRange.bound([this.userId,o,t],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Ua(e).U("collectionPathOverlayIndex",s).next(a=>{for(let l of a){let d=Pf(this.serializer,l);r.set(d.getKey(),d)}return r})}getOverlaysForCollectionGroup(e,i,t,r){let o=Oi(),s,a=IDBKeyRange.bound([this.userId,i,t],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Ua(e).J({index:"collectionGroupOverlayIndex",range:a},(l,d,h)=>{let f=Pf(this.serializer,d);o.size()<r||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):h.done()}).next(()=>o)}ht(e,i){return Ua(e).put(function(r,o,s){let[a,l,d]=Vw(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:dc(r.ct,s.mutation)}}(this.serializer,this.userId,i))}};function Ua(n){return wt(n,"documentOverlays")}var Yi=class{constructor(){}Pt(e,i){this.It(e,i),i.Tt()}It(e,i){if("nullValue"in e)this.Et(i,5);else if("booleanValue"in e)this.Et(i,10),i.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(i,15),i.dt(et(e.integerValue));else if("doubleValue"in e){let t=et(e.doubleValue);isNaN(t)?this.Et(i,13):(this.Et(i,15),Ja(t)?i.dt(0):i.dt(t))}else if("timestampValue"in e){let t=e.timestampValue;this.Et(i,20),typeof t=="string"&&(t=Zi(t)),i.At(`${t.seconds||""}`),i.dt(t.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,i),this.Vt(i);else if("bytesValue"in e)this.Et(i,30),i.ft(Pn(e.bytesValue)),this.Vt(i);else if("referenceValue"in e)this.gt(e.referenceValue,i);else if("geoPointValue"in e){let t=e.geoPointValue;this.Et(i,45),i.dt(t.latitude||0),i.dt(t.longitude||0)}else"mapValue"in e?Tx(e)?this.Et(i,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,i),this.Vt(i)):"arrayValue"in e?(this.wt(e.arrayValue,i),this.Vt(i)):K()}Rt(e,i){this.Et(i,25),this.St(e,i)}St(e,i){i.At(e)}yt(e,i){let t=e.fields||{};this.Et(i,55);for(let r of Object.keys(t))this.Rt(r,i),this.It(t[r],i)}wt(e,i){let t=e.values||[];this.Et(i,50);for(let r of t)this.It(r,i)}gt(e,i){this.Et(i,37),G.fromName(e).path.forEach(t=>{this.Et(i,60),this.St(t,i)})}Et(e,i){e.dt(i)}Vt(e){e.dt(2)}};Yi.bt=new Yi;function GD(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function Uw(n){let e=64-function(t){let r=0;for(let o=0;o<8;++o){let s=GD(255&t[o]);if(r+=s,s!==8)break}return r}(n);return Math.ceil(e/8)}var yp=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){let i=e[Symbol.iterator](),t=i.next();for(;!t.done;)this.Ct(t.value),t=i.next();this.vt()}Ft(e){let i=e[Symbol.iterator](),t=i.next();for(;!t.done;)this.Mt(t.value),t=i.next();this.xt()}Ot(e){for(let i of e){let t=i.charCodeAt(0);if(t<128)this.Ct(t);else if(t<2048)this.Ct(960|t>>>6),this.Ct(128|63&t);else if(i<"\uD800"||"\uDBFF"<i)this.Ct(480|t>>>12),this.Ct(128|63&t>>>6),this.Ct(128|63&t);else{let r=i.codePointAt(0);this.Ct(240|r>>>18),this.Ct(128|63&r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r)}}this.vt()}Nt(e){for(let i of e){let t=i.charCodeAt(0);if(t<128)this.Mt(t);else if(t<2048)this.Mt(960|t>>>6),this.Mt(128|63&t);else if(i<"\uD800"||"\uDBFF"<i)this.Mt(480|t>>>12),this.Mt(128|63&t>>>6),this.Mt(128|63&t);else{let r=i.codePointAt(0);this.Mt(240|r>>>18),this.Mt(128|63&r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r)}}this.xt()}Lt(e){let i=this.Bt(e),t=Uw(i);this.kt(1+t),this.buffer[this.position++]=255&t;for(let r=i.length-t;r<i.length;++r)this.buffer[this.position++]=255&i[r]}qt(e){let i=this.Bt(e),t=Uw(i);this.kt(1+t),this.buffer[this.position++]=~(255&t);for(let r=i.length-t;r<i.length;++r)this.buffer[this.position++]=~(255&i[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){let i=function(o){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),t=(128&i[0])!=0;i[0]^=t?255:128;for(let r=1;r<i.length;++r)i[r]^=t?255:0;return i}Ct(e){let i=255&e;i===0?(this.Kt(0),this.Kt(255)):i===255?(this.Kt(255),this.Kt(0)):this.Kt(i)}Mt(e){let i=255&e;i===0?(this.Ut(0),this.Ut(255)):i===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){let i=e+this.position;if(i<=this.buffer.length)return;let t=2*this.buffer.length;t<i&&(t=i);let r=new Uint8Array(t);r.set(this.buffer),this.buffer=r}},wp=class{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}},xp=class{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}},wr=class{constructor(){this.Gt=new yp,this.zt=new wp(this.Gt),this.jt=new xp(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}};var xr=class n{constructor(e,i,t,r){this.indexId=e,this.documentKey=i,this.arrayValue=t,this.directionalValue=r}Jt(){let e=this.directionalValue.length,i=e===0||this.directionalValue[e-1]===255?e+1:e,t=new Uint8Array(i);return t.set(this.directionalValue,0),i!==e?t.set([0],this.directionalValue.length):++t[t.length-1],new n(this.indexId,this.documentKey,this.arrayValue,t)}};function Cn(n,e){let i=n.indexId-e.indexId;return i!==0?i:(i=zw(n.arrayValue,e.arrayValue),i!==0?i:(i=zw(n.directionalValue,e.directionalValue),i!==0?i:G.comparator(n.documentKey,e.documentKey)))}function zw(n,e){for(let i=0;i<n.length&&i<e.length;++i){let t=n[i]-e[i];if(t!==0)return t}return n.length-e.length}var Ld=class{constructor(e){this.Yt=new Le((i,t)=>st.comparator(i.field,t.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(let i of e.filters){let t=i;t.isInequality()?this.Yt=this.Yt.add(t):this.Xt.push(t)}}get en(){return this.Yt.size>1}tn(e){if(ee(e.collectionGroup===this.collectionId),this.en)return!1;let i=$f(e);if(i!==void 0&&!this.nn(i))return!1;let t=_r(e),r=new Set,o=0,s=0;for(;o<t.length&&this.nn(t[o]);++o)r=r.add(t[o].fieldPath.canonicalString());if(o===t.length)return!0;if(this.Yt.size>0){let a=this.Yt.getIterator().getNext();if(!r.has(a.field.canonicalString())){let l=t[o];if(!this.rn(a,l)||!this.sn(this.Zt[s++],l))return!1}++o}for(;o<t.length;++o){let a=t[o];if(s>=this.Zt.length||!this.sn(this.Zt[s++],a))return!1}return!0}on(){if(this.en)return null;let e=new Le(st.comparator),i=[];for(let t of this.Xt)if(!t.field.isKeyField())if(t.op==="array-contains"||t.op==="array-contains-any")i.push(new Go(t.field,2));else{if(e.has(t.field))continue;e=e.add(t.field),i.push(new Go(t.field,0))}for(let t of this.Zt)t.field.isKeyField()||e.has(t.field)||(e=e.add(t.field),i.push(new Go(t.field,t.dir==="asc"?0:1)));return new Qo(Qo.UNKNOWN_ID,this.collectionId,i,Za.empty())}nn(e){for(let i of this.Xt)if(this.rn(i,e))return!0;return!1}rn(e,i){if(e===void 0||!e.field.isEqual(i.fieldPath))return!1;let t=e.op==="array-contains"||e.op==="array-contains-any";return i.kind===2===t}sn(e,i){return!!e.field.isEqual(i.fieldPath)&&(i.kind===0&&e.dir==="asc"||i.kind===1&&e.dir==="desc")}};function uE(n){var e,i;if(ee(n instanceof be||n instanceof Me),n instanceof be){if(n instanceof Sd){let r=((i=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||i===void 0?void 0:i.map(o=>be.create(n.field,"==",o)))||[];return Me.create(r,"or")}return n}let t=n.filters.map(r=>uE(r));return Me.create(t,n.op)}function HD(n){if(n.getFilters().length===0)return[];let e=Cp(uE(n));return ee(hE(e)),Ep(e)||Ip(e)?[e]:e.getFilters()}function Ep(n){return n instanceof be}function Ip(n){return n instanceof Me&&jg(n)}function hE(n){return Ep(n)||Ip(n)||function(i){if(i instanceof Me&&Zf(i)){for(let t of i.getFilters())if(!Ep(t)&&!Ip(t))return!1;return!0}return!1}(n)}function Cp(n){if(ee(n instanceof be||n instanceof Me),n instanceof be)return n;if(n.filters.length===1)return Cp(n.filters[0]);let e=n.filters.map(t=>Cp(t)),i=Me.create(e,n.op);return i=jd(i),hE(i)?i:(ee(i instanceof Me),ee(Xo(i)),ee(i.filters.length>1),i.filters.reduce((t,r)=>$g(t,r)))}function $g(n,e){let i;return ee(n instanceof be||n instanceof Me),ee(e instanceof be||e instanceof Me),i=n instanceof be?e instanceof be?function(r,o){return Me.create([r,o],"and")}(n,e):qw(n,e):e instanceof be?qw(e,n):function(r,o){if(ee(r.filters.length>0&&o.filters.length>0),Xo(r)&&Xo(o))return Rx(r,o.getFilters());let s=Zf(r)?r:o,a=Zf(r)?o:r,l=s.filters.map(d=>$g(d,a));return Me.create(l,"or")}(n,e),jd(i)}function qw(n,e){if(Xo(e))return Rx(e,n.getFilters());{let i=e.filters.map(t=>$g(n,t));return Me.create(i,"or")}}function jd(n){if(ee(n instanceof be||n instanceof Me),n instanceof be)return n;let e=n.getFilters();if(e.length===1)return jd(e[0]);if(Sx(n))return n;let i=e.map(r=>jd(r)),t=[];return i.forEach(r=>{r instanceof be?t.push(r):r instanceof Me&&(r.op===n.op?t.push(...r.filters):t.push(r))}),t.length===1?t[0]:Me.create(t,n.op)}var Tp=class{constructor(){this._n=new uc}addToCollectionParentIndex(e,i){return this._n.add(i),A.resolve()}getCollectionParents(e,i){return A.resolve(this._n.getEntries(i))}addFieldIndex(e,i){return A.resolve()}deleteFieldIndex(e,i){return A.resolve()}deleteAllFieldIndexes(e){return A.resolve()}createTargetIndexes(e,i){return A.resolve()}getDocumentsMatchingTarget(e,i){return A.resolve(null)}getIndexType(e,i){return A.resolve(0)}getFieldIndexes(e,i){return A.resolve([])}getNextCollectionGroupToUpdate(e){return A.resolve(null)}getMinOffset(e,i){return A.resolve(di.min())}getMinOffsetFromCollectionGroup(e,i){return A.resolve(di.min())}updateCollectionGroup(e,i,t){return A.resolve()}updateIndexEntries(e,i){return A.resolve()}},uc=class{constructor(){this.index={}}add(e){let i=e.lastSegment(),t=e.popLast(),r=this.index[i]||new Le(we.comparator),o=!r.has(t);return this.index[i]=r.add(t),o}has(e){let i=e.lastSegment(),t=e.popLast(),r=this.index[i];return r&&r.has(t)}getEntries(e){return(this.index[e]||new Le(we.comparator)).toArray()}};var dd=new Uint8Array(0),Ap=class{constructor(e,i){this.databaseId=i,this.an=new uc,this.un=new Bi(t=>Sr(t),(t,r)=>wc(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,i){if(!this.an.has(i)){let t=i.lastSegment(),r=i.popLast();e.addOnCommittedListener(()=>{this.an.add(i)});let o={collectionId:t,parent:jt(r)};return $w(e).put(o)}return A.resolve()}getCollectionParents(e,i){let t=[],r=IDBKeyRange.bound([i,""],[mx(i),""],!1,!0);return $w(e).U(r).next(o=>{for(let s of o){if(s.collectionId!==i)break;t.push(Pi(s.parent))}return t})}addFieldIndex(e,i){let t=za(e),r=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(i);delete r.indexId;let o=t.add(r);if(i.indexState){let s=Vo(e);return o.next(a=>{s.put(Lw(a,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return o.next()}deleteFieldIndex(e,i){let t=za(e),r=Vo(e),o=Fo(e);return t.delete(i.indexId).next(()=>r.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){let i=za(e),t=Fo(e),r=Vo(e);return i.j().next(()=>t.j()).next(()=>r.j())}createTargetIndexes(e,i){return A.forEach(this.cn(i),t=>this.getIndexType(e,t).next(r=>{if(r===0||r===1){let o=new Ld(t).on();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,i){let t=Fo(e),r=!0,o=new Map;return A.forEach(this.cn(i),s=>this.ln(e,s).next(a=>{r&&(r=!!a),o.set(s,a)})).next(()=>{if(r){let s=me(),a=[];return A.forEach(o,(l,d)=>{F("IndexedDbIndexManager",`Using index ${function(B){return`id=${B.indexId}|cg=${B.collectionGroup}|f=${B.fields.map(oe=>`${oe.fieldPath}:${oe.kind}`).join(",")}`}(l)} to execute ${Sr(i)}`);let h=function(B,oe){let ce=$f(oe);if(ce===void 0)return null;for(let le of Rd(B,ce.fieldPath))switch(le.op){case"array-contains-any":return le.value.arrayValue.values||[];case"array-contains":return[le.value]}return null}(d,l),f=function(B,oe){let ce=new Map;for(let le of _r(oe))for(let w of Rd(B,le.fieldPath))switch(w.op){case"==":case"in":ce.set(le.fieldPath.canonicalString(),w.value);break;case"not-in":case"!=":return ce.set(le.fieldPath.canonicalString(),w.value),Array.from(ce.values())}return null}(d,l),g=function(B,oe){let ce=[],le=!0;for(let w of _r(oe)){let b=w.kind===0?Ew(B,w.fieldPath,B.startAt):Iw(B,w.fieldPath,B.startAt);ce.push(b.value),le&&(le=b.inclusive)}return new ji(ce,le)}(d,l),_=function(B,oe){let ce=[],le=!0;for(let w of _r(oe)){let b=w.kind===0?Iw(B,w.fieldPath,B.endAt):Ew(B,w.fieldPath,B.endAt);ce.push(b.value),le&&(le=b.inclusive)}return new ji(ce,le)}(d,l),S=this.hn(l,d,g),P=this.hn(l,d,_),D=this.Pn(l,d,f),$=this.In(l.indexId,h,S,g.inclusive,P,_.inclusive,D);return A.forEach($,Y=>t.G(Y,i.limit).next(B=>{B.forEach(oe=>{let ce=G.fromSegments(oe.documentKey);s.has(ce)||(s=s.add(ce),a.push(ce))})}))}).next(()=>a)}return A.resolve(null)})}cn(e){let i=this.un.get(e);return i||(e.filters.length===0?i=[e]:i=HD(Me.create(e.filters,"and")).map(t=>ap(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,i),i)}In(e,i,t,r,o,s,a){let l=(i!=null?i.length:1)*Math.max(t.length,o.length),d=l/(i!=null?i.length:1),h=[];for(let f=0;f<l;++f){let g=i?this.Tn(i[f/d]):dd,_=this.En(e,g,t[f%d],r),S=this.dn(e,g,o[f%d],s),P=a.map(D=>this.En(e,g,D,!0));h.push(...this.createRange(_,S,P))}return h}En(e,i,t,r){let o=new xr(e,G.empty(),i,t);return r?o:o.Jt()}dn(e,i,t,r){let o=new xr(e,G.empty(),i,t);return r?o.Jt():o}ln(e,i){let t=new Ld(i),r=i.collectionGroup!=null?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let s=null;for(let a of o)t.tn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,i){let t=2,r=this.cn(i);return A.forEach(r,o=>this.ln(e,o).next(s=>{s?t!==0&&s.fields.length<function(l){let d=new Le(st.comparator),h=!1;for(let f of l.filters)for(let g of f.getFlattenedFilters())g.field.isKeyField()||(g.op==="array-contains"||g.op==="array-contains-any"?h=!0:d=d.add(g.field));for(let f of l.orderBy)f.field.isKeyField()||(d=d.add(f.field));return d.size+(h?1:0)}(o)&&(t=1):t=0})).next(()=>function(s){return s.limit!==null}(i)&&r.length>1&&t===2?1:t)}An(e,i){let t=new wr;for(let r of _r(e)){let o=i.data.field(r.fieldPath);if(o==null)return null;let s=t.Ht(r.kind);Yi.bt.Pt(o,s)}return t.Wt()}Tn(e){let i=new wr;return Yi.bt.Pt(e,i.Ht(0)),i.Wt()}Rn(e,i){let t=new wr;return Yi.bt.Pt(Tr(this.databaseId,i),t.Ht(function(o){let s=_r(o);return s.length===0?0:s[s.length-1].kind}(e))),t.Wt()}Pn(e,i,t){if(t===null)return[];let r=[];r.push(new wr);let o=0;for(let s of _r(e)){let a=t[o++];for(let l of r)if(this.Vn(i,s.fieldPath)&&nc(a))r=this.mn(r,s,a);else{let d=l.Ht(s.kind);Yi.bt.Pt(a,d)}}return this.fn(r)}hn(e,i,t){return this.Pn(e,i,t.position)}fn(e){let i=[];for(let t=0;t<e.length;++t)i[t]=e[t].Wt();return i}mn(e,i,t){let r=[...e],o=[];for(let s of t.arrayValue.values||[])for(let a of r){let l=new wr;l.seed(a.Wt()),Yi.bt.Pt(s,l.Ht(i.kind)),o.push(l)}return o}Vn(e,i){return!!e.filters.find(t=>t instanceof be&&t.field.isEqual(i)&&(t.op==="in"||t.op==="not-in"))}getFieldIndexes(e,i){let t=za(e),r=Vo(e);return(i?t.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):t.U()).next(o=>{let s=[];return A.forEach(o,a=>r.get([a.indexId,this.uid]).next(l=>{s.push(function(h,f){let g=f?new Za(f.sequenceNumber,new di(Dr(f.readTime),new G(Pi(f.documentKey)),f.largestBatchId)):Za.empty(),_=h.fields.map(([S,P])=>new Go(st.fromServerFormat(S),P));return new Qo(h.indexId,h.collectionGroup,_,g)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(i=>i.length===0?null:(i.sort((t,r)=>{let o=t.indexState.sequenceNumber-r.indexState.sequenceNumber;return o!==0?o:de(t.collectionGroup,r.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(e,i,t){let r=za(e),o=Vo(e);return this.gn(e).next(s=>r.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(a=>A.forEach(a,l=>o.put(Lw(l.indexId,this.uid,s,t)))))}updateIndexEntries(e,i){let t=new Map;return A.forEach(i,(r,o)=>{let s=t.get(r.collectionGroup);return(s?A.resolve(s):this.getFieldIndexes(e,r.collectionGroup)).next(a=>(t.set(r.collectionGroup,a),A.forEach(a,l=>this.pn(e,r,l).next(d=>{let h=this.yn(o,l);return d.isEqual(h)?A.resolve():this.wn(e,o,l,d,h)}))))})}Sn(e,i,t,r){return Fo(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(t,i.key),documentKey:i.key.path.toArray()})}bn(e,i,t,r){return Fo(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(t,i.key),i.key.path.toArray()])}pn(e,i,t){let r=Fo(e),o=new Le(Cn);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([t.indexId,this.uid,this.Rn(t,i)])},(s,a)=>{o=o.add(new xr(t.indexId,i,a.arrayValue,a.directionalValue))}).next(()=>o)}yn(e,i){let t=new Le(Cn),r=this.An(i,e);if(r==null)return t;let o=$f(i);if(o!=null){let s=e.data.field(o.fieldPath);if(nc(s))for(let a of s.arrayValue.values||[])t=t.add(new xr(i.indexId,e.key,this.Tn(a),r))}else t=t.add(new xr(i.indexId,e.key,dd,r));return t}wn(e,i,t,r,o){F("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);let s=[];return function(l,d,h,f,g){let _=l.getIterator(),S=d.getIterator(),P=No(_),D=No(S);for(;P||D;){let $=!1,Y=!1;if(P&&D){let B=h(P,D);B<0?Y=!0:B>0&&($=!0)}else P!=null?Y=!0:$=!0;$?(f(D),D=No(S)):Y?(g(P),P=No(_)):(P=No(_),D=No(S))}}(r,o,Cn,a=>{s.push(this.Sn(e,i,t,a))},a=>{s.push(this.bn(e,i,t,a))}),A.waitFor(s)}gn(e){let i=1;return Vo(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(t,r,o)=>{o.done(),i=r.sequenceNumber+1}).next(()=>i)}createRange(e,i,t){t=t.sort((s,a)=>Cn(s,a)).filter((s,a,l)=>!a||Cn(s,l[a-1])!==0);let r=[];r.push(e);for(let s of t){let a=Cn(s,e),l=Cn(s,i);if(a===0)r[0]=e.Jt();else if(a>0&&l<0)r.push(s),r.push(s.Jt());else if(l>0)break}r.push(i);let o=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];let a=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,dd,[]],l=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,dd,[]];o.push(IDBKeyRange.bound(a,l))}return o}Dn(e,i){return Cn(e,i)>0}getMinOffsetFromCollectionGroup(e,i){return this.getFieldIndexes(e,i).next(Gw)}getMinOffset(e,i){return A.mapArray(this.cn(i),t=>this.ln(e,t).next(r=>r||K())).next(Gw)}};function $w(n){return wt(n,"collectionParents")}function Fo(n){return wt(n,"indexEntries")}function za(n){return wt(n,"indexConfiguration")}function Vo(n){return wt(n,"indexState")}function Gw(n){ee(n.length!==0);let e=n[0].indexState.offset,i=e.largestBatchId;for(let t=1;t<n.length;t++){let r=n[t].indexState.offset;Fg(r,e)<0&&(e=r),i<r.largestBatchId&&(i=r.largestBatchId)}return new di(e.readTime,e.documentKey,i)}var Hw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ci=class n{constructor(e,i,t){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=t}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function mE(n,e,i){let t=n.store("mutations"),r=n.store("documentMutations"),o=[],s=IDBKeyRange.only(i.batchId),a=0,l=t.J({range:s},(h,f,g)=>(a++,g.delete()));o.push(l.next(()=>{ee(a===1)}));let d=[];for(let h of i.mutations){let f=vx(e,h.key.path,i.batchId);o.push(r.delete(f)),d.push(h.key)}return A.waitFor(o).next(()=>d)}function Bd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw K();e=n.noDocument}return JSON.stringify(e).length}ci.DEFAULT_COLLECTION_PERCENTILE=10,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ci.DEFAULT=new ci(41943040,ci.DEFAULT_COLLECTION_PERCENTILE,ci.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ci.DISABLED=new ci(-1,0,0);var Ud=class n{constructor(e,i,t,r){this.userId=e,this.serializer=i,this.indexManager=t,this.referenceDelegate=r,this.Cn={}}static lt(e,i,t,r){ee(e.uid!=="");let o=e.isAuthenticated()?e.uid:"";return new n(o,i,t,r)}checkEmpty(e){let i=!0,t=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Tn(e).J({index:"userMutationsIndex",range:t},(r,o,s)=>{i=!1,s.done()}).next(()=>i)}addMutationBatch(e,i,t,r){let o=qo(e),s=Tn(e);return s.add({}).next(a=>{ee(typeof a=="number");let l=new oc(a,i,t,r),d=function(_,S,P){let D=P.baseMutations.map(Y=>dc(_.ct,Y)),$=P.mutations.map(Y=>dc(_.ct,Y));return{userId:S,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:D,mutations:$}}(this.serializer,this.userId,l),h=[],f=new Le((g,_)=>de(g.canonicalString(),_.canonicalString()));for(let g of r){let _=vx(this.userId,g.key.path,a);f=f.add(g.key.path.popLast()),h.push(s.put(d)),h.push(o.put(_,JR))}return f.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),A.waitFor(h).next(()=>l)})}lookupMutationBatch(e,i){return Tn(e).get(i).next(t=>t?(ee(t.userId===this.userId),yr(this.serializer,t)):null)}vn(e,i){return this.Cn[i]?A.resolve(this.Cn[i]):this.lookupMutationBatch(e,i).next(t=>{if(t){let r=t.keys();return this.Cn[i]=r,r}return null})}getNextMutationBatchAfterBatchId(e,i){let t=i+1,r=IDBKeyRange.lowerBound([this.userId,t]),o=null;return Tn(e).J({index:"userMutationsIndex",range:r},(s,a,l)=>{a.userId===this.userId&&(ee(a.batchId>=t),o=yr(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){let i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),t=-1;return Tn(e).J({index:"userMutationsIndex",range:i,reverse:!0},(r,o,s)=>{t=o.batchId,s.done()}).next(()=>t)}getAllMutationBatches(e){let i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Tn(e).U("userMutationsIndex",i).next(t=>t.map(r=>yr(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,i){let t=fd(this.userId,i.path),r=IDBKeyRange.lowerBound(t),o=[];return qo(e).J({range:r},(s,a,l)=>{let[d,h,f]=s,g=Pi(h);if(d===this.userId&&i.path.isEqual(g))return Tn(e).get(f).next(_=>{if(!_)throw K();ee(_.userId===this.userId),o.push(yr(this.serializer,_))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let t=new Le(de),r=[];return i.forEach(o=>{let s=fd(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=qo(e).J({range:a},(d,h,f)=>{let[g,_,S]=d,P=Pi(_);g===this.userId&&o.path.isEqual(P)?t=t.add(S):f.done()});r.push(l)}),A.waitFor(r).next(()=>this.Fn(e,t))}getAllMutationBatchesAffectingQuery(e,i){let t=i.path,r=t.length+1,o=fd(this.userId,t),s=IDBKeyRange.lowerBound(o),a=new Le(de);return qo(e).J({range:s},(l,d,h)=>{let[f,g,_]=l,S=Pi(g);f===this.userId&&t.isPrefixOf(S)?S.length===r&&(a=a.add(_)):h.done()}).next(()=>this.Fn(e,a))}Fn(e,i){let t=[],r=[];return i.forEach(o=>{r.push(Tn(e).get(o).next(s=>{if(s===null)throw K();ee(s.userId===this.userId),t.push(yr(this.serializer,s))}))}),A.waitFor(r).next(()=>t)}removeMutationBatch(e,i){return mE(e._e,this.userId,i).next(t=>(e.addOnCommittedListener(()=>{this.Mn(i.batchId)}),A.forEach(t,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(i=>{if(!i)return A.resolve();let t=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),r=[];return qo(e).J({range:t},(o,s,a)=>{if(o[0]===this.userId){let l=Pi(o[1]);r.push(l)}else a.done()}).next(()=>{ee(r.length===0)})})}containsKey(e,i){return fE(e,this.userId,i)}xn(e){return pE(e).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function fE(n,e,i){let t=fd(e,i.path),r=t[1],o=IDBKeyRange.lowerBound(t),s=!1;return qo(n).J({range:o,H:!0},(a,l,d)=>{let[h,f,g]=a;h===e&&f===r&&(s=!0),d.done()}).next(()=>s)}function Tn(n){return wt(n,"mutations")}function qo(n){return wt(n,"documentMutations")}function pE(n){return wt(n,"mutationQueues")}var is=class n{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new n(0)}static Ln(){return new n(-1)}};var Sp=class{constructor(e,i){this.referenceDelegate=e,this.serializer=i}allocateTargetId(e){return this.Bn(e).next(i=>{let t=new is(i.highestTargetId);return i.highestTargetId=t.next(),this.kn(e,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(i=>ne.fromTimestamp(new Qe(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(e,i,t){return this.Bn(e).next(r=>(r.highestListenSequenceNumber=i,t&&(r.lastRemoteSnapshotVersion=t.toTimestamp()),i>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=i),this.kn(e,r)))}addTargetData(e,i){return this.qn(e,i).next(()=>this.Bn(e).next(t=>(t.targetCount+=1,this.Qn(i,t),this.kn(e,t))))}updateTargetData(e,i){return this.qn(e,i)}removeTargetData(e,i){return this.removeMatchingKeysForTargetId(e,i.targetId).next(()=>Lo(e).delete(i.targetId)).next(()=>this.Bn(e)).next(t=>(ee(t.targetCount>0),t.targetCount-=1,this.kn(e,t)))}removeTargets(e,i,t){let r=0,o=[];return Lo(e).J((s,a)=>{let l=Ha(a);l.sequenceNumber<=i&&t.get(l.targetId)===null&&(r++,o.push(this.removeTargetData(e,l)))}).next(()=>A.waitFor(o)).next(()=>r)}forEachTarget(e,i){return Lo(e).J((t,r)=>{let o=Ha(r);i(o)})}Bn(e){return Ww(e).get("targetGlobalKey").next(i=>(ee(i!==null),i))}kn(e,i){return Ww(e).put("targetGlobalKey",i)}qn(e,i){return Lo(e).put(dE(this.serializer,i))}Qn(e,i){let t=!1;return e.targetId>i.highestTargetId&&(i.highestTargetId=e.targetId,t=!0),e.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e.sequenceNumber,t=!0),t}getTargetCount(e){return this.Bn(e).next(i=>i.targetCount)}getTargetData(e,i){let t=Sr(i),r=IDBKeyRange.bound([t,Number.NEGATIVE_INFINITY],[t,Number.POSITIVE_INFINITY]),o=null;return Lo(e).J({range:r,index:"queryTargetsIndex"},(s,a,l)=>{let d=Ha(a);wc(i,d.target)&&(o=d,l.done())}).next(()=>o)}addMatchingKeys(e,i,t){let r=[],o=An(e);return i.forEach(s=>{let a=jt(s.path);r.push(o.put({targetId:t,path:a})),r.push(this.referenceDelegate.addReference(e,t,s))}),A.waitFor(r)}removeMatchingKeys(e,i,t){let r=An(e);return A.forEach(i,o=>{let s=jt(o.path);return A.waitFor([r.delete([t,s]),this.referenceDelegate.removeReference(e,t,o)])})}removeMatchingKeysForTargetId(e,i){let t=An(e),r=IDBKeyRange.bound([i],[i+1],!1,!0);return t.delete(r)}getMatchingKeysForTargetId(e,i){let t=IDBKeyRange.bound([i],[i+1],!1,!0),r=An(e),o=me();return r.J({range:t,H:!0},(s,a,l)=>{let d=Pi(s[1]),h=new G(d);o=o.add(h)}).next(()=>o)}containsKey(e,i){let t=jt(i.path),r=IDBKeyRange.bound([t],[mx(t)],!1,!0),o=0;return An(e).J({index:"documentTargetsIndex",H:!0,range:r},([s,a],l,d)=>{s!==0&&(o++,d.done())}).next(()=>o>0)}ot(e,i){return Lo(e).get(i).next(t=>t?Ha(t):null)}};function Lo(n){return wt(n,"targets")}function Ww(n){return wt(n,"targetGlobal")}function An(n){return wt(n,"targetDocuments")}function Kw([n,e],[i,t]){let r=de(n,i);return r===0?de(e,t):r}var kp=class{constructor(e){this.Kn=e,this.buffer=new Le(Kw),this.$n=0}Un(){return++this.$n}Wn(e){let i=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(i);else{let t=this.buffer.last();Kw(i,t)<0&&(this.buffer=this.buffer.delete(t).add(i))}}get maxValue(){return this.buffer.last()[0]}},Rp=class{constructor(e,i,t){this.garbageCollector=e,this.asyncQueue=i,this.localStore=t,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){F("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>M(this,null,function*(){this.Gn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(i){zn(i)?F("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Un(i)}yield this.zn(3e5)}))}},Dp=class{constructor(e,i){this.jn=e,this.params=i}calculateTargetCount(e,i){return this.jn.Hn(e).next(t=>Math.floor(i/100*t))}nthSequenceNumber(e,i){if(i===0)return A.resolve(ii.oe);let t=new kp(i);return this.jn.forEachTarget(e,r=>t.Wn(r.sequenceNumber)).next(()=>this.jn.Jn(e,r=>t.Wn(r))).next(()=>t.maxValue)}removeTargets(e,i,t){return this.jn.removeTargets(e,i,t)}removeOrphanedDocuments(e,i){return this.jn.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),A.resolve(Hw)):this.getCacheSize(e).next(t=>t<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${t} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hw):this.Yn(e,i))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,i){let t,r,o,s,a,l,d,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),r=this.params.maximumSequenceNumbersToCollect):r=f,s=Date.now(),this.nthSequenceNumber(e,r))).next(f=>(t=f,a=Date.now(),this.removeTargets(e,t,i))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,t))).next(f=>(d=Date.now(),jo()<=Ri.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${r} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),A.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:f})))}};function WD(n,e){return new Dp(n,e)}var Mp=class{constructor(e,i){this.db=e,this.garbageCollector=WD(this,i)}Hn(e){let i=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(t=>i.next(r=>t+r))}Zn(e){let i=0;return this.Jn(e,t=>{i++}).next(()=>i)}forEachTarget(e,i){return this.db.getTargetCache().forEachTarget(e,i)}Jn(e,i){return this.Xn(e,(t,r)=>i(r))}addReference(e,i,t){return ud(e,t)}removeReference(e,i,t){return ud(e,t)}removeTargets(e,i,t){return this.db.getTargetCache().removeTargets(e,i,t)}markPotentiallyOrphaned(e,i){return ud(e,i)}er(e,i){return function(r,o){let s=!1;return pE(r).Y(a=>fE(r,a,o).next(l=>(l&&(s=!0),A.resolve(!l)))).next(()=>s)}(e,i)}removeOrphanedDocuments(e,i){let t=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[],o=0;return this.Xn(e,(s,a)=>{if(a<=i){let l=this.er(e,s).next(d=>{if(!d)return o++,t.getEntry(e,s).next(()=>(t.removeEntry(s,ne.min()),An(e).delete(function(f){return[0,jt(f.path)]}(s))))});r.push(l)}}).next(()=>A.waitFor(r)).next(()=>t.apply(e)).next(()=>o)}removeTarget(e,i){let t=i.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,t)}updateLimboDocument(e,i){return ud(e,i)}Xn(e,i){let t=An(e),r,o=ii.oe;return t.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:d})=>{s===0?(o!==ii.oe&&i(new G(Pi(r)),o),o=d,r=l):o=ii.oe}).next(()=>{o!==ii.oe&&i(new G(Pi(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function ud(n,e){return An(n).put(function(t,r){return{targetId:0,path:jt(t.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var zd=class{constructor(){this.changes=new Bi(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();let t=this.changes.get(i);return t!==void 0?A.resolve(t):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Pp=class{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,i,t){return br(e).put(t)}removeEntry(e,i,t){return br(e).delete(function(o,s){let a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],Fd(s),a[a.length-1]]}(i,t))}updateMetadata(e,i){return this.getMetadata(e).next(t=>(t.byteSize+=i,this.tr(e,t)))}getEntry(e,i){let t=mt.newInvalidDocument(i);return br(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qa(i))},(r,o)=>{t=this.nr(i,o)}).next(()=>t)}rr(e,i){let t={size:0,document:mt.newInvalidDocument(i)};return br(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(qa(i))},(r,o)=>{t={document:this.nr(i,o),size:Bd(o)}}).next(()=>t)}getEntries(e,i){let t=Gt();return this.ir(e,i,(r,o)=>{let s=this.nr(r,o);t=t.insert(r,s)}).next(()=>t)}sr(e,i){let t=Gt(),r=new $e(G.comparator);return this.ir(e,i,(o,s)=>{let a=this.nr(o,s);t=t.insert(o,a),r=r.insert(o,Bd(s))}).next(()=>({documents:t,_r:r}))}ir(e,i,t){if(i.isEmpty())return A.resolve();let r=new Le(Xw);i.forEach(l=>r=r.add(l));let o=IDBKeyRange.bound(qa(r.first()),qa(r.last())),s=r.getIterator(),a=s.getNext();return br(e).J({index:"documentKeyIndex",range:o},(l,d,h)=>{let f=G.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;a&&Xw(a,f)<0;)t(a,null),a=s.getNext();a&&a.isEqual(f)&&(t(a,d),a=s.hasNext()?s.getNext():null),a?h.$(qa(a)):h.done()}).next(()=>{for(;a;)t(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,i,t,r,o){let s=i.path,a=[s.popLast().toArray(),s.lastSegment(),Fd(t.readTime),t.documentKey.path.isEmpty()?"":t.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return br(e).U(IDBKeyRange.bound(a,l,!0)).next(d=>{o?.incrementDocumentReadCount(d.length);let h=Gt();for(let f of d){let g=this.nr(G.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);g.isFoundDocument()&&(Ec(i,g)||r.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,i,t,r){let o=Gt(),s=Yw(i,t),a=Yw(i,di.max());return br(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,d,h)=>{let f=this.nr(G.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(f.key,f),o.size===r&&h.done()}).next(()=>o)}newChangeBuffer(e){return new Op(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(i=>i.byteSize)}getMetadata(e){return Qw(e).get("remoteDocumentGlobalKey").next(i=>(ee(!!i),i))}tr(e,i){return Qw(e).put("remoteDocumentGlobalKey",i)}nr(e,i){if(i){let t=$D(this.serializer,i);if(!(t.isNoDocument()&&t.version.isEqual(ne.min())))return t}return mt.newInvalidDocument(e)}};function gE(n){return new Pp(n)}var Op=class extends zd{constructor(e,i){super(),this.ar=e,this.trackRemovals=i,this.ur=new Bi(t=>t.toString(),(t,r)=>t.isEqual(r))}applyChanges(e){let i=[],t=0,r=new Le((o,s)=>de(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{let a=this.ur.get(o);if(i.push(this.ar.removeEntry(e,o,a.readTime)),s.isValidDocument()){let l=Fw(this.ar.serializer,s);r=r.add(o.path.popLast());let d=Bd(l);t+=d-a.size,i.push(this.ar.addEntry(e,o,l))}else if(t-=a.size,this.trackRemovals){let l=Fw(this.ar.serializer,s.convertToNoDocument(ne.min()));i.push(this.ar.addEntry(e,o,l))}}),r.forEach(o=>{i.push(this.ar.indexManager.addToCollectionParentIndex(e,o))}),i.push(this.ar.updateMetadata(e,t)),A.waitFor(i)}getFromCache(e,i){return this.ar.rr(e,i).next(t=>(this.ur.set(i,{size:t.size,readTime:t.document.readTime}),t.document))}getAllFromCache(e,i){return this.ar.sr(e,i).next(({documents:t,_r:r})=>(r.forEach((o,s)=>{this.ur.set(o,{size:s,readTime:t.get(o).readTime})}),t))}};function Qw(n){return wt(n,"remoteDocumentGlobal")}function br(n){return wt(n,"remoteDocumentsV14")}function qa(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yw(n,e){let i=e.documentKey.path.toArray();return[n,Fd(e.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function Xw(n,e){let i=n.path.toArray(),t=e.path.toArray(),r=0;for(let o=0;o<i.length-2&&o<t.length-2;++o)if(r=de(i[o],t[o]),r)return r;return r=de(i.length,t.length),r||(r=de(i[i.length-2],t[t.length-2]),r||de(i[i.length-1],t[t.length-1]))}var Np=class{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}};var qd=class{constructor(e,i,t,r){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=t,this.indexManager=r}getDocument(e,i){let t=null;return this.documentOverlayCache.getOverlay(e,i).next(r=>(t=r,this.remoteDocumentCache.getEntry(e,i))).next(r=>(t!==null&&Qa(t.mutation,r,ni.empty(),Qe.now()),r))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(t=>this.getLocalViewOfDocuments(e,t,me()).next(()=>t))}getLocalViewOfDocuments(e,i,t=me()){let r=Oi();return this.populateOverlays(e,r,i).next(()=>this.computeViews(e,i,r,t).next(o=>{let s=Ga();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,i){let t=Oi();return this.populateOverlays(e,t,i).next(()=>this.computeViews(e,i,t,me()))}populateOverlays(e,i,t){let r=[];return t.forEach(o=>{i.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{i.set(s,a)})})}computeViews(e,i,t,r){let o=Gt(),s=Ka(),a=function(){return Ka()}();return i.forEach((l,d)=>{let h=t.get(d.key);r.has(d.key)&&(h===void 0||h.mutation instanceof yi)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),Qa(h.mutation,d,h.mutation.getFieldMask(),Qe.now())):s.set(d.key,ni.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,h)=>s.set(d,h)),i.forEach((d,h)=>{var f;return a.set(d,new Np(h,(f=s.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,i){let t=Ka(),r=new $e((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(s=>{for(let a of s)a.keys().forEach(l=>{let d=i.get(l);if(d===null)return;let h=t.get(l)||ni.empty();h=a.applyToLocalView(d,h),t.set(l,h);let f=(r.get(a.batchId)||me()).add(l);r=r.insert(a.batchId,f)})}).next(()=>{let s=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),d=l.key,h=l.value,f=jx();h.forEach(g=>{if(!o.has(g)){let _=Wx(i.get(g),t.get(g));_!==null&&f.set(g,_),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,f))}return A.waitFor(s)}).next(()=>t)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,i,t,r){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Bg(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,t,r):this.getDocumentsMatchingCollectionQuery(e,i,t,r)}getNextDocuments(e,i,t,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,t,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,t.largestBatchId,r-o.size):A.resolve(Oi()),a=-1,l=o;return s.next(d=>A.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?A.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{l=l.insert(h,g)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,me())).next(h=>({batchId:a,changes:Lx(h)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new G(i)).next(t=>{let r=Ga();return t.isFoundDocument()&&(r=r.insert(t.key,t)),r})}getDocumentsMatchingCollectionGroupQuery(e,i,t,r){let o=i.collectionGroup,s=Ga();return this.indexManager.getCollectionParents(e,o).next(a=>A.forEach(a,l=>{let d=function(f,g){return new vi(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(i,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,t,r).next(h=>{h.forEach((f,g)=>{s=s.insert(f,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,i,t,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,t.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,t,o,r))).next(s=>{o.forEach((l,d)=>{let h=d.getKey();s.get(h)===null&&(s=s.insert(h,mt.newInvalidDocument(h)))});let a=Ga();return s.forEach((l,d)=>{let h=o.get(l);h!==void 0&&Qa(h.mutation,d,ni.empty(),Qe.now()),Ec(i,d)&&(a=a.insert(l,d))}),a})}};var Fp=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,i){return A.resolve(this.cr.get(i))}saveBundleMetadata(e,i){return this.cr.set(i.id,function(r){return{id:r.id,version:r.version,createTime:at(r.createTime)}}(i)),A.resolve()}getNamedQuery(e,i){return A.resolve(this.lr.get(i))}saveNamedQuery(e,i){return this.lr.set(i.name,function(r){return{name:r.name,query:qg(r.bundledQuery),readTime:at(r.readTime)}}(i)),A.resolve()}};var Vp=class{constructor(){this.overlays=new $e(G.comparator),this.hr=new Map}getOverlay(e,i){return A.resolve(this.overlays.get(i))}getOverlays(e,i){let t=Oi();return A.forEach(i,r=>this.getOverlay(e,r).next(o=>{o!==null&&t.set(r,o)})).next(()=>t)}saveOverlays(e,i,t){return t.forEach((r,o)=>{this.ht(e,i,o)}),A.resolve()}removeOverlaysForBatchId(e,i,t){let r=this.hr.get(t);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(t)),A.resolve()}getOverlaysForCollection(e,i,t){let r=Oi(),o=i.length+1,s=new G(i.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,d=l.getKey();if(!i.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>t&&r.set(l.getKey(),l)}return A.resolve(r)}getOverlaysForCollectionGroup(e,i,t,r){let o=new $e((d,h)=>d-h),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===i&&d.largestBatchId>t){let h=o.get(d.largestBatchId);h===null&&(h=Oi(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}let a=Oi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=r)););return A.resolve(a)}ht(e,i,t){let r=this.overlays.get(t.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(t.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(t.key,new sc(i,t));let o=this.hr.get(i);o===void 0&&(o=me(),this.hr.set(i,o)),this.hr.set(i,o.add(t.key))}};var hc=class{constructor(){this.Pr=new Le(dt.Ir),this.Tr=new Le(dt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,i){let t=new dt(e,i);this.Pr=this.Pr.add(t),this.Tr=this.Tr.add(t)}dr(e,i){e.forEach(t=>this.addReference(t,i))}removeReference(e,i){this.Ar(new dt(e,i))}Rr(e,i){e.forEach(t=>this.removeReference(t,i))}Vr(e){let i=new G(new we([])),t=new dt(i,e),r=new dt(i,e+1),o=[];return this.Tr.forEachInRange([t,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let i=new G(new we([])),t=new dt(i,e),r=new dt(i,e+1),o=me();return this.Tr.forEachInRange([t,r],s=>{o=o.add(s.key)}),o}containsKey(e){let i=new dt(e,0),t=this.Pr.firstAfterOrEqual(i);return t!==null&&e.isEqual(t.key)}},dt=class{constructor(e,i){this.key=e,this.pr=i}static Ir(e,i){return G.comparator(e.key,i.key)||de(e.pr,i.pr)}static Er(e,i){return de(e.pr,i.pr)||G.comparator(e.key,i.key)}};var Lp=class{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.yr=1,this.wr=new Le(dt.Ir)}checkEmpty(e){return A.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,t,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new oc(o,i,t,r);this.mutationQueue.push(s);for(let a of r)this.wr=this.wr.add(new dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return A.resolve(s)}lookupMutationBatch(e,i){return A.resolve(this.Sr(i))}getNextMutationBatchAfterBatchId(e,i){let t=i+1,r=this.br(t),o=r<0?0:r;return A.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return A.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return A.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){let t=new dt(i,0),r=new dt(i,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([t,r],s=>{let a=this.Sr(s.pr);o.push(a)}),A.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,i){let t=new Le(de);return i.forEach(r=>{let o=new dt(r,0),s=new dt(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{t=t.add(a.pr)})}),A.resolve(this.Dr(t))}getAllMutationBatchesAffectingQuery(e,i){let t=i.path,r=t.length+1,o=t;G.isDocumentKey(o)||(o=o.child(""));let s=new dt(new G(o),0),a=new Le(de);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!t.isPrefixOf(d)&&(d.length===r&&(a=a.add(l.pr)),!0)},s),A.resolve(this.Dr(a))}Dr(e){let i=[];return e.forEach(t=>{let r=this.Sr(t);r!==null&&i.push(r)}),i}removeMutationBatch(e,i){ee(this.Cr(i.batchId,"removed")===0),this.mutationQueue.shift();let t=this.wr;return A.forEach(i.mutations,r=>{let o=new dt(r.key,i.batchId);return t=t.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=t})}Mn(e){}containsKey(e,i){let t=new dt(i,0),r=this.wr.firstAfterOrEqual(t);return A.resolve(i.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,A.resolve()}Cr(e,i){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let i=this.br(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}};var jp=class{constructor(e){this.vr=e,this.docs=function(){return new $e(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){let t=i.key,r=this.docs.get(t),o=r?r.size:0,s=this.vr(i);return this.docs=this.docs.insert(t,{document:i.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,t.path.popLast())}removeEntry(e){let i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){let t=this.docs.get(i);return A.resolve(t?t.document.mutableCopy():mt.newInvalidDocument(i))}getEntries(e,i){let t=Gt();return i.forEach(r=>{let o=this.docs.get(r);t=t.insert(r,o?o.document.mutableCopy():mt.newInvalidDocument(r))}),A.resolve(t)}getDocumentsMatchingQuery(e,i,t,r){let o=Gt(),s=i.path,a=new G(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:d,value:{document:h}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||Fg(px(h),t)<=0||(r.has(h.key)||Ec(i,h))&&(o=o.insert(h.key,h.mutableCopy()))}return A.resolve(o)}getAllFromCollectionGroup(e,i,t,r){K()}Fr(e,i){return A.forEach(this.docs,t=>i(t))}newChangeBuffer(e){return new Bp(this)}getSize(e){return A.resolve(this.size)}},Bp=class extends zd{constructor(e){super(),this.ar=e}applyChanges(e){let i=[];return this.changes.forEach((t,r)=>{r.isValidDocument()?i.push(this.ar.addEntry(e,r)):this.ar.removeEntry(t)}),A.waitFor(i)}getFromCache(e,i){return this.ar.getEntry(e,i)}getAllFromCache(e,i){return this.ar.getEntries(e,i)}};var Up=class{constructor(e){this.persistence=e,this.Mr=new Bi(i=>Sr(i),wc),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new hc,this.targetCount=0,this.Lr=is.Nn()}forEachTarget(e,i){return this.Mr.forEach((t,r)=>i(r)),A.resolve()}getLastRemoteSnapshotVersion(e){return A.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return A.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),A.resolve(this.highestTargetId)}setTargetsMetadata(e,i,t){return t&&(this.lastRemoteSnapshotVersion=t),i>this.Or&&(this.Or=i),A.resolve()}qn(e){this.Mr.set(e.target,e);let i=e.targetId;i>this.highestTargetId&&(this.Lr=new is(i),this.highestTargetId=i),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,i){return this.qn(i),this.targetCount+=1,A.resolve()}updateTargetData(e,i){return this.qn(i),A.resolve()}removeTargetData(e,i){return this.Mr.delete(i.target),this.Nr.Vr(i.targetId),this.targetCount-=1,A.resolve()}removeTargets(e,i,t){let r=0,o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=i&&t.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),A.waitFor(o).next(()=>r)}getTargetCount(e){return A.resolve(this.targetCount)}getTargetData(e,i){let t=this.Mr.get(i)||null;return A.resolve(t)}addMatchingKeys(e,i,t){return this.Nr.dr(i,t),A.resolve()}removeMatchingKeys(e,i,t){this.Nr.Rr(i,t);let r=this.persistence.referenceDelegate,o=[];return r&&i.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),A.waitFor(o)}removeMatchingKeysForTargetId(e,i){return this.Nr.Vr(i),A.resolve()}getMatchingKeysForTargetId(e,i){let t=this.Nr.gr(i);return A.resolve(t)}containsKey(e,i){return A.resolve(this.Nr.containsKey(i))}};var $d=class{constructor(e,i){this.Br={},this.overlays={},this.kr=new ii(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Up(this),this.indexManager=new Tp,this.remoteDocumentCache=function(r){return new jp(r)}(t=>this.referenceDelegate.Kr(t)),this.serializer=new Nd(i),this.$r=new Fp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Vp,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let t=this.Br[e.toKey()];return t||(t=new Lp(i,this.referenceDelegate),this.Br[e.toKey()]=t),t}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,i,t){F("MemoryPersistence","Starting transaction:",e);let r=new zp(this.kr.next());return this.referenceDelegate.Ur(),t(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,i){return A.or(Object.values(this.Br).map(t=>()=>t.containsKey(e,i)))}},zp=class extends Ed{constructor(e){super(),this.currentSequenceNumber=e}},Gd=class n{constructor(e){this.persistence=e,this.zr=new hc,this.jr=null}static Hr(e){return new n(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,i,t){return this.zr.addReference(t,i),this.Jr.delete(t.toString()),A.resolve()}removeReference(e,i,t){return this.zr.removeReference(t,i),this.Jr.add(t.toString()),A.resolve()}markPotentiallyOrphaned(e,i){return this.Jr.add(i.toString()),A.resolve()}removeTarget(e,i){this.zr.Vr(i.targetId).forEach(r=>this.Jr.add(r.toString()));let t=this.persistence.getTargetCache();return t.getMatchingKeysForTargetId(e,i.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>t.removeTargetData(e,i))}Ur(){this.jr=new Set}Wr(e){let i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A.forEach(this.Jr,t=>{let r=G.fromPath(t);return this.Yr(e,r).next(o=>{o||i.removeEntry(r,ne.min())})}).next(()=>(this.jr=null,i.apply(e)))}updateLimboDocument(e,i){return this.Yr(e,i).next(t=>{t?this.Jr.delete(i.toString()):this.Jr.add(i.toString())})}Kr(e){return 0}Yr(e,i){return A.or([()=>A.resolve(this.zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Gr(e,i)])}};var qp=class{constructor(e){this.serializer=e}O(e,i,t,r){let o=new Id("createOrUpgrade",i);t<1&&r>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fw,{unique:!0}),l.createObjectStore("documentMutations")}(e),Zw(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=A.resolve();return t<3&&r>=3&&(t!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),Zw(e)),s=s.next(()=>function(l){let d=l.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ne.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",h)}(o))),t<4&&r>=4&&(t!==0&&(s=s.next(()=>function(l,d){return d.store("mutations").U().next(h=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",fw,{unique:!0});let f=d.store("mutations"),g=h.map(_=>f.put(_));return A.waitFor(g)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),t<5&&r>=5&&(s=s.next(()=>this.Xr(o))),t<6&&r>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(o)))),t<7&&r>=7&&(s=s.next(()=>this.ti(o))),t<8&&r>=8&&(s=s.next(()=>this.ni(e,o))),t<9&&r>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),t<10&&r>=10&&(s=s.next(()=>this.ri(o))),t<11&&r>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),t<12&&r>=12&&(s=s.next(()=>{(function(l){let d=l.createObjectStore("documentOverlays",{keyPath:uD});d.createIndex("collectionPathOverlayIndex",hD,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",mD,{unique:!1})})(e)})),t<13&&r>=13&&(s=s.next(()=>function(l){let d=l.createObjectStore("remoteDocumentsV14",{keyPath:eD});d.createIndex("documentKeyIndex",tD),d.createIndex("collectionGroupIndex",iD)}(e)).next(()=>this.ii(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),t<14&&r>=14&&(s=s.next(()=>this.si(e,o))),t<15&&r>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:aD}).createIndex("sequenceNumberIndex",cD,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:lD}).createIndex("documentKeyIndex",dD,{unique:!1})}(e))),t<16&&r>=16&&(s=s.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s}ei(e){let i=0;return e.store("remoteDocuments").J((t,r)=>{i+=Bd(r)}).next(()=>{let t={byteSize:i};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",t)})}Xr(e){let i=e.store("mutationQueues"),t=e.store("mutations");return i.U().next(r=>A.forEach(r,o=>{let s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return t.U("userMutationsIndex",s).next(a=>A.forEach(a,l=>{ee(l.userId===o.userId);let d=yr(this.serializer,l);return mE(e,o.userId,d).next(()=>{})}))}))}ti(e){let i=e.store("targetDocuments"),t=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{let o=[];return t.J((s,a)=>{let l=new we(s),d=function(f){return[0,jt(f)]}(l);o.push(i.get(d).next(h=>h?A.resolve():(f=>i.put({targetId:0,path:jt(f),sequenceNumber:r.highestListenSequenceNumber}))(l)))}).next(()=>A.waitFor(o))})}ni(e,i){e.createObjectStore("collectionParents",{keyPath:sD});let t=i.store("collectionParents"),r=new uc,o=s=>{if(r.add(s)){let a=s.lastSegment(),l=s.popLast();return t.put({collectionId:a,parent:jt(l)})}};return i.store("remoteDocuments").J({H:!0},(s,a)=>{let l=new we(s);return o(l.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([s,a,l],d)=>{let h=Pi(a);return o(h.popLast())}))}ri(e){let i=e.store("targets");return i.J((t,r)=>{let o=Ha(r),s=dE(this.serializer,o);return i.put(s)})}ii(e,i){let t=i.store("remoteDocuments"),r=[];return t.J((o,s)=>{let a=i.store("remoteDocumentsV14"),l=function(f){return f.document?new G(we.fromString(f.document.name).popFirst(5)):f.noDocument?G.fromSegments(f.noDocument.path):f.unknownDocument?G.fromSegments(f.unknownDocument.path):K()}(s).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};r.push(a.put(d))}).next(()=>A.waitFor(r))}si(e,i){let t=i.store("mutations"),r=gE(this.serializer),o=new $d(Gd.Hr,this.serializer.ct);return t.U().next(s=>{let a=new Map;return s.forEach(l=>{var d;let h=(d=a.get(l.userId))!==null&&d!==void 0?d:me();yr(this.serializer,l).keys().forEach(f=>h=h.add(f)),a.set(l.userId,h)}),A.forEach(a,(l,d)=>{let h=new ut(d),f=Vd.lt(this.serializer,h),g=o.getIndexManager(h),_=Ud.lt(h,this.serializer,g,o.referenceDelegate);return new qd(r,_,f,g).recalculateAndSaveOverlaysForDocumentKeys(new ec(i,ii.oe),l).next()})})}};function Zw(n){n.createObjectStore("targetDocuments",{keyPath:rD}).createIndex("documentTargetsIndex",oD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nD,{unique:!0}),n.createObjectStore("targetGlobal")}var Of="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",$p=class n{constructor(e,i,t,r,o,s,a,l,d,h,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=i,this.clientId=t,this.oi=o,this.window=s,this.document=a,this._i=d,this.ai=h,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=g=>Promise.resolve(),!n.D())throw new N(R.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Mp(this,r),this.Ti=i+"main",this.serializer=new Nd(l),this.Ei=new Mn(this.Ti,this.ui,new qp(this.serializer)),this.Qr=new Sp(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gE(this.serializer),this.$r=new vp,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,h===!1&&ot("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new N(R.FAILED_PRECONDITION,Of);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new ii(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=i=>M(this,null,function*(){if(this.started)return e(i)}),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(i=>M(this,null,function*(){i.newVersion===null&&(yield e())}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(()=>M(this,null,function*(){this.started&&(yield this.Ai())})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(i=>{i||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(i=>this.isPrimary&&!i?this.yi(e).next(()=>!1):!!i&&this.wi(e).next(()=>!0))).catch(e=>{if(zn(e))return F("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return F("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return $a(e).get("owner").next(i=>A.resolve(this.Si(i)))}bi(e){return hd(e).delete(this.clientId)}Di(){return M(this,null,function*(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();let e=yield this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{let t=wt(i,"clientMetadata");return t.U().next(r=>{let o=this.vi(r,18e5),s=r.filter(a=>o.indexOf(a)===-1);return A.forEach(s,a=>t.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.di)for(let i of e)this.di.removeItem(this.Fi(i.clientId))}})}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?A.resolve(!0):$a(e).get("owner").next(i=>{if(i!==null&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)){if(this.Si(i)&&this.networkEnabled)return!0;if(!this.Si(i)){if(!i.allowTabSynchronization)throw new N(R.FAILED_PRECONDITION,Of);return!1}}return!(!this.networkEnabled||!this.inForeground)||hd(e).U().next(t=>this.vi(t,5e3).find(r=>{if(this.clientId!==r.clientId){let o=!this.networkEnabled&&r.networkEnabled,s=!this.inForeground&&r.inForeground,a=this.networkEnabled===r.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(i=>(this.isPrimary!==i&&F("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){return M(this,null,function*(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),yield this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let i=new ec(e,ii.oe);return this.yi(i).next(()=>this.bi(i))}),this.Ei.close(),this.Li()})}vi(e,i){return e.filter(t=>this.Ci(t.updateTimeMs,i)&&!this.Mi(t.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>hd(e).U().next(i=>this.vi(i,18e5).map(t=>t.clientId)))}get started(){return this.qr}getMutationQueue(e,i){return Ud.lt(e,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ap(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Vd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,i,t){F("IndexedDbPersistence","Starting transaction:",e);let r=i==="readonly"?"readonly":"readwrite",o=function(l){return l===16?pD:l===15?Ex:l===14?xx:l===13?wx:l===12?fD:l===11?yx:void K()}(this.ui),s;return this.Ei.runTransaction(e,r,o,a=>(s=new ec(a,this.kr?this.kr.next():ii.oe),i==="readwrite-primary"?this.gi(s).next(l=>!!l||this.pi(s)).next(l=>{if(!l)throw ot(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new N(R.FAILED_PRECONDITION,gx);return t(s)}).next(l=>this.wi(s).next(()=>l)):this.ki(s).next(()=>t(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}ki(e){return $a(e).get("owner").next(i=>{if(i!==null&&this.Ci(i.leaseTimestampMs,5e3)&&!this.Mi(i.ownerId)&&!this.Si(i)&&!(this.ai||this.allowTabSynchronization&&i.allowTabSynchronization))throw new N(R.FAILED_PRECONDITION,Of)})}wi(e){let i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $a(e).put("owner",i)}static D(){return Mn.D()}yi(e){let i=$a(e);return i.get("owner").next(t=>this.Si(t)?(F("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):A.resolve())}Ci(e,i){let t=Date.now();return!(e<t-i)&&(!(e>t)||(ot(`Detected an update time that is in the future: ${e} > ${t}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();let i=/(?:Version|Mobile)\/1[456]/;am()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var i;try{let t=((i=this.di)===null||i===void 0?void 0:i.getItem(this.Fi(e)))!==null;return F("IndexedDbPersistence",`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return ot("IndexedDbPersistence","Failed to get zombied client id.",t),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){ot("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function $a(n){return wt(n,"owner")}function hd(n){return wt(n,"clientMetadata")}function Gg(n,e){let i=n.projectId;return n.isDefaultDatabase||(i+="."+n.database),"firestore/"+e+"/"+i+"/"}var Gp=class n{constructor(e,i,t,r){this.targetId=e,this.fromCache=i,this.qi=t,this.Qi=r}static Ki(e,i){let t=me(),r=me();for(let o of i.docChanges)switch(o.type){case 0:t=t.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new n(e,i.fromCache,t,r)}};var Hp=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Hd=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return am()?8:bx(sa())>0?6:4}()}initialize(e,i){this.zi=e,this.indexManager=i,this.$i=!0}getDocumentsMatchingQuery(e,i,t,r){let o={result:null};return this.ji(e,i).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,i,r,t).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Hp;return this.Ji(e,i,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,i,s,a.size)})}).next(()=>o.result)}Yi(e,i,t,r){return t.documentReadCount<this.Wi?(jo()<=Ri.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Bo(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),A.resolve()):(jo()<=Ri.DEBUG&&F("QueryEngine","Query:",Bo(i),"scans",t.documentReadCount,"local documents and returns",r,"documents as results."),t.documentReadCount>this.Gi*r?(jo()<=Ri.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Bo(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bt(i))):A.resolve())}ji(e,i){if(Cw(i))return A.resolve(null);let t=Bt(i);return this.indexManager.getIndexType(e,t).next(r=>r===0?null:(i.limit!==null&&r===1&&(i=Dd(i,null,"F"),t=Bt(i)),this.indexManager.getDocumentsMatchingTarget(e,t).next(o=>{let s=me(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,t).next(l=>{let d=this.Zi(i,a);return this.Xi(i,d,s,l.readTime)?this.ji(e,Dd(i,null,"F")):this.es(e,d,i,l)}))})))}Hi(e,i,t,r){return Cw(i)||r.isEqual(ne.min())?A.resolve(null):this.zi.getDocuments(e,t).next(o=>{let s=this.Zi(i,o);return this.Xi(i,s,t,r)?A.resolve(null):(jo()<=Ri.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Bo(i)),this.es(e,s,i,fx(r,-1)).next(a=>a))})}Zi(e,i){let t=new Le(Fx(e));return i.forEach((r,o)=>{Ec(e,o)&&(t=t.add(o))}),t}Xi(e,i,t,r){if(e.limit===null)return!1;if(t.size!==i.size)return!0;let o=e.limitType==="F"?i.last():i.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,i,t){return jo()<=Ri.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Bo(i)),this.zi.getDocumentsMatchingQuery(e,i,di.min(),t)}es(e,i,t,r){return this.zi.getDocumentsMatchingQuery(e,t,r).next(o=>(i.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Wp=class{constructor(e,i,t,r){this.persistence=e,this.ts=i,this.serializer=r,this.ns=new $e(de),this.rs=new Bi(o=>Sr(o),wc),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(t)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new qd(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.ns))}};function bE(n,e,i,t){return new Wp(n,e,i,t)}function _E(n,e){return M(this,null,function*(){let i=H(n);return yield i.persistence.runTransaction("Handle user change","readonly",t=>{let r;return i.mutationQueue.getAllMutationBatches(t).next(o=>(r=o,i._s(e),i.mutationQueue.getAllMutationBatches(t))).next(o=>{let s=[],a=[],l=me();for(let d of r){s.push(d.batchId);for(let h of d.mutations)l=l.add(h.key)}for(let d of o){a.push(d.batchId);for(let h of d.mutations)l=l.add(h.key)}return i.localDocuments.getDocuments(t,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:a}))})})})}function KD(n,e){let i=H(n);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{let r=e.batch.keys(),o=i.os.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){let f=d.batch,g=f.keys(),_=A.resolve();return g.forEach(S=>{_=_.next(()=>h.getEntry(l,S)).next(P=>{let D=d.docVersions.get(S);ee(D!==null),P.version.compareTo(D)<0&&(f.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),h.addEntry(P)))})}),_.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(i,t,e,o).next(()=>o.apply(t)).next(()=>i.mutationQueue.performConsistencyCheck(t)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(a){let l=me();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>i.localDocuments.getDocuments(t,r))})}function vE(n){let e=H(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Qr.getLastRemoteSnapshotVersion(i))}function QD(n,e){let i=H(n),t=e.snapshotVersion,r=i.ns;return i.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=i.os.newChangeBuffer({trackRemovals:!0});r=i.ns;let a=[];e.targetChanges.forEach((h,f)=>{let g=r.get(f);if(!g)return;a.push(i.Qr.removeMatchingKeys(o,h.removedDocuments,f).next(()=>i.Qr.addMatchingKeys(o,h.addedDocuments,f)));let _=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?_=_.withResumeToken(yt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,t)),r=r.insert(f,_),function(P,D,$){return P.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(g,_,h)&&a.push(i.Qr.updateTargetData(o,_))});let l=Gt(),d=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(i.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(yE(o,s,e.documentUpdates).next(h=>{l=h.cs,d=h.ls})),!t.isEqual(ne.min())){let h=i.Qr.getLastRemoteSnapshotVersion(o).next(f=>i.Qr.setTargetsMetadata(o,o.currentSequenceNumber,t));a.push(h)}return A.waitFor(a).next(()=>s.apply(o)).next(()=>i.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(i.ns=r,o))}function yE(n,e,i){let t=me(),r=me();return i.forEach(o=>t=t.add(o)),e.getEntries(n,t).next(o=>{let s=Gt();return i.forEach((a,l)=>{let d=o.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function YD(n,e){let i=H(n);return i.persistence.runTransaction("Get next mutation batch","readonly",t=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(t,e)))}function ns(n,e){let i=H(n);return i.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return i.Qr.getTargetData(t,e).next(o=>o?(r=o,A.resolve(r)):i.Qr.allocateTargetId(t).next(s=>(r=new ts(e,s,"TargetPurposeListen",t.currentSequenceNumber),i.Qr.addTargetData(t,r).next(()=>r))))}).then(t=>{let r=i.ns.get(t.targetId);return(r===null||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(i.ns=i.ns.insert(t.targetId,t),i.rs.set(e,t.targetId)),t})}function rs(n,e,i){return M(this,null,function*(){let t=H(n),r=t.ns.get(e),o=i?"readwrite":"readwrite-primary";try{i||(yield t.persistence.runTransaction("Release target",o,s=>t.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!zn(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}t.ns=t.ns.remove(e),t.rs.delete(r.target)})}function Wd(n,e,i){let t=H(n),r=ne.min(),o=me();return t.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,h){let f=H(l),g=f.rs.get(h);return g!==void 0?A.resolve(f.ns.get(g)):f.Qr.getTargetData(d,h)}(t,s,Bt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,t.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>t.ts.getDocumentsMatchingQuery(s,e,i?r:ne.min(),i?o:me())).next(a=>(EE(t,Nx(e),a),{documents:a,hs:o})))}function wE(n,e){let i=H(n),t=H(i.Qr),r=i.ns.get(e);return r?Promise.resolve(r.target):i.persistence.runTransaction("Get target data","readonly",o=>t.ot(o,e).next(s=>s?s.target:null))}function xE(n,e){let i=H(n),t=i.ss.get(e)||ne.min();return i.persistence.runTransaction("Get new document changes","readonly",r=>i.os.getAllFromCollectionGroup(r,e,fx(t,-1),Number.MAX_SAFE_INTEGER)).then(r=>(EE(i,e,r),r))}function EE(n,e,i){let t=n.ss.get(e)||ne.min();i.forEach((r,o)=>{o.readTime.compareTo(t)>0&&(t=o.readTime)}),n.ss.set(e,t)}function XD(n,e,i,t){return M(this,null,function*(){let r=H(n),o=me(),s=Gt();for(let d of i){let h=e.Ps(d.metadata.name);d.document&&(o=o.add(h));let f=e.Is(d);f.setReadTime(e.Ts(d.metadata.readTime)),s=s.insert(h,f)}let a=r.os.newChangeBuffer({trackRemovals:!0}),l=yield ns(r,function(h){return Bt(hs(we.fromString(`__bundle__/docs/${h}`)))}(t));return r.persistence.runTransaction("Apply bundle documents","readwrite",d=>yE(d,a,s).next(h=>(a.apply(d),h)).next(h=>r.Qr.removeMatchingKeysForTargetId(d,l.targetId).next(()=>r.Qr.addMatchingKeys(d,o,l.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(d,h.cs,h.ls)).next(()=>h.cs)))})}function ZD(t,r){return M(this,arguments,function*(n,e,i=me()){let o=yield ns(n,Bt(qg(e.bundledQuery))),s=H(n);return s.persistence.runTransaction("Save named query","readwrite",a=>{let l=at(e.readTime);if(o.snapshotVersion.compareTo(l)>=0)return s.$r.saveNamedQuery(a,e);let d=o.withResumeToken(yt.EMPTY_BYTE_STRING,l);return s.ns=s.ns.insert(d.targetId,d),s.Qr.updateTargetData(a,d).next(()=>s.Qr.removeMatchingKeysForTargetId(a,o.targetId)).next(()=>s.Qr.addMatchingKeys(a,i,o.targetId)).next(()=>s.$r.saveNamedQuery(a,e))})})}function Jw(n,e){return`firestore_clients_${n}_${e}`}function ex(n,e,i){let t=`firestore_mutations_${n}_${i}`;return e.isAuthenticated()&&(t+=`_${e.uid}`),t}function Nf(n,e){return`firestore_targets_${n}_${e}`}var Kd=class n{constructor(e,i,t,r){this.user=e,this.batchId=i,this.state=t,this.error=r}static Es(e,i,t){let r=JSON.parse(t),o,s=typeof r=="object"&&["pending","acknowledged","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(o=new N(r.error.code,r.error.message))),s?new n(e,i,r.state,o):(ot("SharedClientState",`Failed to parse mutation state for ID '${i}': ${t}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Ya=class n{constructor(e,i,t){this.targetId=e,this.state=i,this.error=t}static Es(e,i){let t=JSON.parse(i),r,o=typeof t=="object"&&["not-current","current","rejected"].indexOf(t.state)!==-1&&(t.error===void 0||typeof t.error=="object");return o&&t.error&&(o=typeof t.error.message=="string"&&typeof t.error.code=="string",o&&(r=new N(t.error.code,t.error.message))),o?new n(e,t.state,r):(ot("SharedClientState",`Failed to parse target state for ID '${e}': ${i}`),null)}ds(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Qd=class n{constructor(e,i){this.clientId=e,this.activeTargetIds=i}static Es(e,i){let t=JSON.parse(i),r=typeof t=="object"&&t.activeTargetIds instanceof Array,o=Ug();for(let s=0;r&&s<t.activeTargetIds.length;++s)r=_x(t.activeTargetIds[s]),o=o.add(t.activeTargetIds[s]);return r?new n(e,o):(ot("SharedClientState",`Failed to parse client data for instance '${e}': ${i}`),null)}},Kp=class n{constructor(e,i){this.clientId=e,this.onlineState=i}static Es(e){let i=JSON.parse(e);return typeof i=="object"&&["Unknown","Online","Offline"].indexOf(i.onlineState)!==-1&&typeof i.clientId=="string"?new n(i.clientId,i.onlineState):(ot("SharedClientState",`Failed to parse online state: ${e}`),null)}},mc=class{constructor(){this.activeTargetIds=Ug()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},Xa=class{constructor(e,i,t,r,o){this.window=e,this.oi=i,this.persistenceKey=t,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new $e(de),this.started=!1,this.ys=[];let s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.ws=Jw(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new mc),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}start(){return M(this,null,function*(){let e=yield this.syncEngine.Bi();for(let t of e){if(t===this.Vs)continue;let r=this.getItem(Jw(this.persistenceKey,t));if(r){let o=Qd.Es(t,r);o&&(this.ps=this.ps.insert(o.clientId,o))}}this.Ms();let i=this.storage.getItem(this.vs);if(i){let t=this.xs(i);t&&this.Os(t)}for(let t of this.ys)this.gs(t);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0})}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let i=!1;return this.ps.forEach((t,r)=>{r.activeTargetIds.has(e)&&(i=!0)}),i}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,i,t){this.Ls(e,i,t),this.Bs(e)}addLocalQueryTarget(e){let i="not-current";if(this.isActiveQueryTarget(e)){let t=this.storage.getItem(Nf(this.persistenceKey,e));if(t){let r=Ya.Es(e,t);r&&(i=r.state)}}return this.ks.As(e),this.Ms(),i}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Nf(this.persistenceKey,e))}updateQueryState(e,i,t){this.qs(e,i,t)}handleUserChange(e,i,t){i.forEach(r=>{this.Bs(r)}),this.currentUser=e,t.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){let i=this.storage.getItem(e);return F("SharedClientState","READ",e,i),i}setItem(e,i){F("SharedClientState","SET",e,i),this.storage.setItem(e,i)}removeItem(e){F("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){let i=e;if(i.storageArea===this.storage){if(F("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ws)return void ot("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(()=>M(this,null,function*(){if(this.started){if(i.key!==null){if(this.bs.test(i.key)){if(i.newValue==null){let t=this.$s(i.key);return this.Us(t,null)}{let t=this.Ws(i.key,i.newValue);if(t)return this.Us(t.clientId,t)}}else if(this.Ds.test(i.key)){if(i.newValue!==null){let t=this.Gs(i.key,i.newValue);if(t)return this.zs(t)}}else if(this.Cs.test(i.key)){if(i.newValue!==null){let t=this.js(i.key,i.newValue);if(t)return this.Hs(t)}}else if(i.key===this.vs){if(i.newValue!==null){let t=this.xs(i.newValue);if(t)return this.Os(t)}}else if(i.key===this.Ss){let t=function(o){let s=ii.oe;if(o!=null)try{let a=JSON.parse(o);ee(typeof a=="number"),s=a}catch(a){ot("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(i.newValue);t!==ii.oe&&this.sequenceNumberHandler(t)}else if(i.key===this.Fs){let t=this.Js(i.newValue);yield Promise.all(t.map(r=>this.syncEngine.Ys(r)))}}}else this.ys.push(i)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,i,t){let r=new Kd(this.currentUser,e,i,t),o=ex(this.persistenceKey,this.currentUser,e);this.setItem(o,r.ds())}Bs(e){let i=ex(this.persistenceKey,this.currentUser,e);this.removeItem(i)}Qs(e){let i={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(i))}qs(e,i,t){let r=Nf(this.persistenceKey,e),o=new Ya(e,i,t);this.setItem(r,o.ds())}Ks(e){let i=JSON.stringify(Array.from(e));this.setItem(this.Fs,i)}$s(e){let i=this.bs.exec(e);return i?i[1]:null}Ws(e,i){let t=this.$s(e);return Qd.Es(t,i)}Gs(e,i){let t=this.Ds.exec(e),r=Number(t[1]),o=t[2]!==void 0?t[2]:null;return Kd.Es(new ut(o),r,i)}js(e,i){let t=this.Cs.exec(e),r=Number(t[1]);return Ya.Es(r,i)}xs(e){return Kp.Es(e)}Js(e){return JSON.parse(e)}zs(e){return M(this,null,function*(){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);F("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,i){let t=i?this.ps.insert(e,i):this.ps.remove(e),r=this.Ns(this.ps),o=this.Ns(t),s=[],a=[];return o.forEach(l=>{r.has(l)||s.push(l)}),r.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.eo(s,a).then(()=>{this.ps=t})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let i=Ug();return e.forEach((t,r)=>{i=i.unionWith(r.activeTargetIds)}),i}},Yd=class{constructor(){this.no=new mc,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,t){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,i,t){this.ro[e]=i}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mc,Promise.resolve()}handleUserChange(e,i,t){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qp=class{io(e){}shutdown(){}};var Xd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var md=null;function Ff(){return md===null?md=function(){return 268435456+Math.round(2147483648*Math.random())}():md++,"0x"+md.toString(16)}var JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Yp=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var Mt="WebChannelConnection",Xp=class extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;let t=i.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+i.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(i,t,r,o,s){let a=Ff(),l=this.vo(i,t.toUriEncodedString());F("RestConnection",`Sending RPC '${i}' ${a}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(i,l,d,r).then(h=>(F("RestConnection",`Received RPC '${i}' ${a}: `,h),h),h=>{throw li("RestConnection",`RPC '${i}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}xo(i,t,r,o,s,a){return this.Co(i,t,r,o,s)}Fo(i,t,r){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+us}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,s)=>i[s]=o),r&&r.headers.forEach((o,s)=>i[s]=o)}vo(i,t){let r=JD[i];return`${this.wo}/v1/${t}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,i,t,r){let o=Ff();return new Promise((s,a)=>{let l=new Af;l.setWithCredentials(!0),l.listenOnce(kf.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ba.NO_ERROR:let h=l.getResponseJson();F(Mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case Ba.TIMEOUT:F(Mt,`RPC '${e}' ${o} timed out`),a(new N(R.DEADLINE_EXCEEDED,"Request time out"));break;case Ba.HTTP_ERROR:let f=l.getStatus();if(F(Mt,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);let _=g?.error;if(_&&_.status&&_.message){let S=function(D){let $=D.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf($)>=0?$:R.UNKNOWN}(_.status);a(new N(S,_.message))}else a(new N(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new N(R.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{F(Mt,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(r);F(Mt,`RPC '${e}' ${o} sending request:`,r),l.send(i,"POST",d,t,15)})}Oo(e,i,t){let r=Ff(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Mf(),a=Df(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new Sf({})),this.Fo(l.initMessageHeaders,i,t),l.encodeInitMessageHeaders=!0;let h=o.join("");F(Mt,`Creating RPC '${e}' stream ${r}: ${h}`,l);let f=s.createWebChannel(h,l),g=!1,_=!1,S=new Yp({lo:D=>{_?F(Mt,`Not sending because RPC '${e}' stream ${r} is closed:`,D):(g||(F(Mt,`Opening RPC '${e}' stream ${r} transport.`),f.open(),g=!0),F(Mt,`RPC '${e}' stream ${r} sending:`,D),f.send(D))},ho:()=>f.close()}),P=(D,$,Y)=>{D.listen($,B=>{try{Y(B)}catch(oe){setTimeout(()=>{throw oe},0)}})};return P(f,Oo.EventType.OPEN,()=>{_||(F(Mt,`RPC '${e}' stream ${r} transport opened.`),S.mo())}),P(f,Oo.EventType.CLOSE,()=>{_||(_=!0,F(Mt,`RPC '${e}' stream ${r} transport closed`),S.po())}),P(f,Oo.EventType.ERROR,D=>{_||(_=!0,li(Mt,`RPC '${e}' stream ${r} transport errored:`,D),S.po(new N(R.UNAVAILABLE,"The operation could not be completed")))}),P(f,Oo.EventType.MESSAGE,D=>{var $;if(!_){let Y=D.data[0];ee(!!Y);let B=Y,oe=B.error||(($=B[0])===null||$===void 0?void 0:$.error);if(oe){F(Mt,`RPC '${e}' stream ${r} received error:`,oe);let ce=oe.status,le=function(y){let x=lt[y];if(x!==void 0)return Yx(x)}(ce),w=oe.message;le===void 0&&(le=R.INTERNAL,w="Unknown error status: "+ce+" with message "+oe.message),_=!0,S.po(new N(le,w)),f.close()}else F(Mt,`RPC '${e}' stream ${r} received:`,Y),S.yo(Y)}}),P(a,Rf.STAT_EVENT,D=>{D.stat===ld.PROXY?F(Mt,`RPC '${e}' stream ${r} detected buffering proxy`):D.stat===ld.NOPROXY&&F(Mt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{S.fo()},0),S}};function IE(){return typeof window<"u"?window:null}function _d(){return typeof document<"u"?document:null}function Ic(n){return new fp(n,!0)}var fc=class{constructor(e,i,t=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=i,this.No=t,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let i=Math.floor(this.ko+this.Uo()),t=Math.max(0,Date.now()-this.Qo),r=Math.max(0,i-t);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${i} ms, last attempt: ${t} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Zd=class{constructor(e,i,t,r,o,s,a,l){this.oi=e,this.Go=t,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new fc(e,i)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return M(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return M(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,i){return M(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():i&&i.code===R.RESOURCE_EXHAUSTED?(ot(i.toString()),ot("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):i&&i.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(i)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),i=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([t,r])=>{this.jo===i&&this.u_(t,r)},t=>{e(()=>{let r=new N(R.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(r)})})}u_(e,i){let t=this.a_(this.jo);this.stream=this.l_(e,i),this.stream.Po(()=>{t(()=>this.listener.Po())}),this.stream.To(()=>{t(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{t(()=>this.c_(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>M(this,null,function*(){this.state=0,this.start()}))}c_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return i=>{this.oi.enqueueAndForget(()=>this.jo===e?i():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Zp=class extends Zd{constructor(e,i,t,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,t,r,s),this.serializer=o}l_(e,i){return this.connection.Oo("Listen",e,i)}onMessage(e){this.Yo.reset();let i=VD(this.serializer,e),t=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?at(s.readTime):ne.min()}(e);return this.listener.h_(i,t)}P_(e){let i={};i.database=bp(this.serializer),i.addTarget=function(o,s){let a,l=s.target;if(a=kd(l)?{documents:rE(o,l)}:{query:oE(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Zx(o,s.resumeToken);let d=pp(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=es(o,s.snapshotVersion.toTimestamp());let d=pp(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let t=jD(this.serializer,e);t&&(i.labels=t),this.i_(i)}I_(e){let i={};i.database=bp(this.serializer),i.removeTarget=e,this.i_(i)}},Jp=class extends Zd{constructor(e,i,t,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,t,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,i){return this.connection.Oo("Write",e,i)}onMessage(e){if(ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let i=LD(e.writeResults,e.commitTime),t=at(e.commitTime);return this.listener.A_(t,i)}return ee(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=bp(this.serializer),this.i_(e)}d_(e){let i={streamToken:this.lastStreamToken,writes:e.map(t=>dc(this.serializer,t))};this.i_(i)}};var eg=class extends class{}{constructor(e,i,t,r){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=t,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new N(R.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,i,t,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,gp(i,t),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new N(R.UNKNOWN,o.toString())})}xo(e,i,t,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,gp(i,t),r,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new N(R.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},tg=class{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ot(i),this.y_=!1):F("OnlineStateTracker",i)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var ig=class{constructor(e,i,t,r,o){this.localStore=e,this.datastore=i,this.asyncQueue=t,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{t.enqueueAndForget(()=>M(this,null,function*(){qn(this)&&(F("RemoteStore","Restarting streams for network reachability change."),yield function(l){return M(this,null,function*(){let d=H(l);d.M_.add(4),yield ms(d),d.N_.set("Unknown"),d.M_.delete(4),yield Cc(d)})}(this))}))}),this.N_=new tg(t,r)}};function Cc(n){return M(this,null,function*(){if(qn(n))for(let e of n.x_)yield e(!0)})}function ms(n){return M(this,null,function*(){for(let e of n.x_)yield e(!1)})}function bu(n,e){let i=H(n);i.F_.has(e.targetId)||(i.F_.set(e.targetId,e),Kg(i)?Wg(i):ps(i).Xo()&&Hg(i,e))}function os(n,e){let i=H(n),t=ps(i);i.F_.delete(e),t.Xo()&&CE(i,e),i.F_.size===0&&(t.Xo()?t.n_():qn(i)&&i.N_.set("Unknown"))}function Hg(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let i=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}ps(n).P_(e)}function CE(n,e){n.L_.xe(e),ps(n).I_(e)}function Wg(n){n.L_=new mp({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),ps(n).start(),n.N_.w_()}function Kg(n){return qn(n)&&!ps(n).Zo()&&n.F_.size>0}function qn(n){return H(n).M_.size===0}function TE(n){n.L_=void 0}function e1(n){return M(this,null,function*(){n.N_.set("Online")})}function t1(n){return M(this,null,function*(){n.F_.forEach((e,i)=>{Hg(n,e)})})}function i1(n,e){return M(this,null,function*(){TE(n),Kg(n)?(n.N_.D_(e),Wg(n)):n.N_.set("Unknown")})}function n1(n,e,i){return M(this,null,function*(){if(n.N_.set("Online"),e instanceof Pd&&e.state===2&&e.cause)try{yield function(r,o){return M(this,null,function*(){let s=o.cause;for(let a of o.targetIds)r.F_.has(a)&&(yield r.remoteSyncer.rejectListen(a,s),r.F_.delete(a),r.L_.removeTarget(a))})}(n,e)}catch(t){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),t),yield Jd(n,t)}else if(e instanceof Wo?n.L_.Ke(e):e instanceof Md?n.L_.He(e):n.L_.We(e),!i.isEqual(ne.min()))try{let t=yield vE(n.localStore);i.compareTo(t)>=0&&(yield function(o,s){let a=o.L_.rt(s);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.F_.get(d);h&&o.F_.set(d,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,d)=>{let h=o.F_.get(l);if(!h)return;o.F_.set(l,h.withResumeToken(yt.EMPTY_BYTE_STRING,h.snapshotVersion)),CE(o,l);let f=new ts(h.target,l,d,h.sequenceNumber);Hg(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(n,i))}catch(t){F("RemoteStore","Failed to raise snapshot:",t),yield Jd(n,t)}})}function Jd(n,e,i){return M(this,null,function*(){if(!zn(e))throw e;n.M_.add(1),yield ms(n),n.N_.set("Offline"),i||(i=()=>vE(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){F("RemoteStore","Retrying IndexedDB access"),yield i(),n.M_.delete(1),yield Cc(n)}))})}function AE(n,e){return e().catch(i=>Jd(n,i,e))}function fs(n){return M(this,null,function*(){let e=H(n),i=Bn(e),t=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;r1(e);)try{let r=yield YD(e.localStore,t);if(r===null){e.v_.length===0&&i.n_();break}t=r.batchId,o1(e,r)}catch(r){yield Jd(e,r)}SE(e)&&kE(e)})}function r1(n){return qn(n)&&n.v_.length<10}function o1(n,e){n.v_.push(e);let i=Bn(n);i.Xo()&&i.E_&&i.d_(e.mutations)}function SE(n){return qn(n)&&!Bn(n).Zo()&&n.v_.length>0}function kE(n){Bn(n).start()}function s1(n){return M(this,null,function*(){Bn(n).V_()})}function a1(n){return M(this,null,function*(){let e=Bn(n);for(let i of n.v_)e.d_(i.mutations)})}function c1(n,e,i){return M(this,null,function*(){let t=n.v_.shift(),r=dp.from(t,e,i);yield AE(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield fs(n)})}function l1(n,e){return M(this,null,function*(){e&&Bn(n).E_&&(yield function(t,r){return M(this,null,function*(){if(function(s){return Qx(s)&&s!==R.ABORTED}(r.code)){let o=t.v_.shift();Bn(t).t_(),yield AE(t,()=>t.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield fs(t)}})}(n,e)),SE(n)&&kE(n)})}function tx(n,e){return M(this,null,function*(){let i=H(n);i.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");let t=qn(i);i.M_.add(3),yield ms(i),t&&i.N_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(e),i.M_.delete(3),yield Cc(i)})}function ng(n,e){return M(this,null,function*(){let i=H(n);e?(i.M_.delete(2),yield Cc(i)):e||(i.M_.add(2),yield ms(i),i.N_.set("Unknown"))})}function ps(n){return n.B_||(n.B_=function(i,t,r){let o=H(i);return o.f_(),new Zp(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:e1.bind(null,n),To:t1.bind(null,n),Ao:i1.bind(null,n),h_:n1.bind(null,n)}),n.x_.push(e=>M(this,null,function*(){e?(n.B_.t_(),Kg(n)?Wg(n):n.N_.set("Unknown")):(yield n.B_.stop(),TE(n))}))),n.B_}function Bn(n){return n.k_||(n.k_=function(i,t,r){let o=H(i);return o.f_(),new Jp(t,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:s1.bind(null,n),Ao:l1.bind(null,n),R_:a1.bind(null,n),A_:c1.bind(null,n)}),n.x_.push(e=>M(this,null,function*(){e?(n.k_.t_(),yield fs(n)):(yield n.k_.stop(),n.v_.length>0&&(F("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))}))),n.k_}var rg=class n{constructor(e,i,t,r,o){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=t,this.op=r,this.removalCallback=o,this.deferred=new ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,t,r,o){let s=Date.now()+t,a=new n(e,i,s,r,o);return a.start(t),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new N(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function gs(n,e){if(ot("AsyncQueue",`${e}: ${n}`),zn(n))return new N(R.UNAVAILABLE,`${e}: ${n}`);throw n}var eu=class n{constructor(e){this.comparator=e?(i,t)=>e(i,t)||G.comparator(i.key,t.key):(i,t)=>G.comparator(i.key,t.key),this.keyedMap=Ga(),this.sortedSet=new $e(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,t)=>(e(i),!1))}add(e){let i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){let i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let i=this.sortedSet.getIterator(),t=e.sortedSet.getIterator();for(;i.hasNext();){let r=i.getNext().key,o=t.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){let t=new n;return t.comparator=this.comparator,t.keyedMap=e,t.sortedSet=i,t}};var tu=class{constructor(){this.q_=new $e(G.comparator)}track(e){let i=e.doc.key,t=this.q_.get(i);t?e.type!==0&&t.type===3?this.q_=this.q_.insert(i,e):e.type===3&&t.type!==1?this.q_=this.q_.insert(i,{type:t.type,doc:e.doc}):e.type===2&&t.type===2?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):e.type===2&&t.type===0?this.q_=this.q_.insert(i,{type:0,doc:e.doc}):e.type===1&&t.type===0?this.q_=this.q_.remove(i):e.type===1&&t.type===2?this.q_=this.q_.insert(i,{type:1,doc:t.doc}):e.type===0&&t.type===1?this.q_=this.q_.insert(i,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(i,e)}Q_(){let e=[];return this.q_.inorderTraversal((i,t)=>{e.push(t)}),e}},ss=class n{constructor(e,i,t,r,o,s,a,l,d){this.query=e,this.docs=i,this.oldDocs=t,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,i,t,r,o){let s=[];return i.forEach(a=>{s.push({type:0,doc:a})}),new n(e,i,eu.emptySet(i),s,t,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let i=this.docChanges,t=e.docChanges;if(i.length!==t.length)return!1;for(let r=0;r<i.length;r++)if(i[r].type!==t[r].type||!i[r].doc.isEqual(t[r].doc))return!1;return!0}};var og=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},sg=class{constructor(){this.queries=new Bi(e=>Ox(e),xc),this.onlineState="Unknown",this.z_=new Set}};function Qg(n,e){return M(this,null,function*(){let i=H(n),t=3,r=e.query,o=i.queries.get(r);o?!o.W_()&&e.G_()&&(t=2):(o=new og,t=e.G_()?0:1);try{switch(t){case 0:o.K_=yield i.onListen(r,!0);break;case 1:o.K_=yield i.onListen(r,!1);break;case 2:yield i.onFirstRemoteStoreListen(r)}}catch(s){let a=gs(s,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(a)}i.queries.set(r,o),o.U_.push(e),e.j_(i.onlineState),o.K_&&e.H_(o.K_)&&Xg(i)})}function Yg(n,e){return M(this,null,function*(){let i=H(n),t=e.query,r=3,o=i.queries.get(t);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return i.queries.delete(t),i.onUnlisten(t,!0);case 1:return i.queries.delete(t),i.onUnlisten(t,!1);case 2:return i.onLastRemoteStoreUnlisten(t);default:return}})}function d1(n,e){let i=H(n),t=!1;for(let r of e){let o=r.query,s=i.queries.get(o);if(s){for(let a of s.U_)a.H_(r)&&(t=!0);s.K_=r}}t&&Xg(i)}function u1(n,e,i){let t=H(n),r=t.queries.get(e);if(r)for(let o of r.U_)o.onError(i);t.queries.delete(e)}function Xg(n){n.z_.forEach(e=>{e.next()})}var ag,ix;(ix=ag||(ag={})).J_="default",ix.Cache="cache";var pc=class{constructor(e,i,t){this.query=e,this.Y_=i,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=t||{}}H_(e){if(!this.options.includeMetadataChanges){let t=[];for(let r of e.docChanges)r.type!==3&&t.push(r);e=new ss(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),i=!0):this.ta(e,this.onlineState)&&(this.na(e),i=!0),this.X_=e,i}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let i=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),i=!0),i}ta(e,i){if(!e.fromCache||!this.G_())return!0;let t=i!=="Offline";return(!this.options.ra||!t)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let i=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}na(e){e=ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ag.Cache}};var cg=class{constructor(e,i){this.ia=e,this.byteLength=i}sa(){return"metadata"in this.ia}};var iu=class{constructor(e){this.serializer=e}Ps(e){return Fi(this.serializer,e)}Is(e){return e.metadata.exists?nE(this.serializer,e.document,!1):mt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return at(e)}},lg=class{constructor(e,i,t){this.oa=e,this.localStore=i,this.serializer=t,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=RE(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let i=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++i;let t=we.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(t.get(t.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}aa(e){let i=new Map,t=new iu(this.serializer);for(let r of e)if(r.metadata.queries){let o=t.Ps(r.metadata.name);for(let s of r.metadata.queries){let a=(i.get(s)||me()).add(o);i.set(s,a)}}return i}complete(){return M(this,null,function*(){let e=yield XD(this.localStore,new iu(this.serializer),this.documents,this.oa.id),i=this.aa(this.documents);for(let t of this.queries)yield ZD(this.localStore,t,i.get(t.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}})}};function RE(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var nu=class{constructor(e){this.key=e}},ru=class{constructor(e){this.key=e}},ou=class{constructor(e,i){this.query=e,this.la=i,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=me(),this.mutatedKeys=me(),this.Ia=Fx(e),this.Ta=new eu(this.Ia)}get Ea(){return this.la}da(e,i){let t=i?i.Aa:new tu,r=i?i.Ta:this.Ta,o=i?i.mutatedKeys:this.mutatedKeys,s=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,f)=>{let g=r.get(h),_=Ec(this.query,f)?f:null,S=!!g&&this.mutatedKeys.has(g.key),P=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),D=!1;g&&_?g.data.isEqual(_.data)?S!==P&&(t.track({type:3,doc:_}),D=!0):this.Ra(g,_)||(t.track({type:2,doc:_}),D=!0,(l&&this.Ia(_,l)>0||d&&this.Ia(_,d)<0)&&(a=!0)):!g&&_?(t.track({type:0,doc:_}),D=!0):g&&!_&&(t.track({type:1,doc:g}),D=!0,(l||d)&&(a=!0)),D&&(_?(s=s.add(_),o=P?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),t.track({type:1,doc:h})}return{Ta:s,Aa:t,Xi:a,mutatedKeys:o}}Ra(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,t,r){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((h,f)=>function(_,S){let P=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return P(_)-P(S)}(h.type,f.type)||this.Ia(h.doc,f.doc)),this.Va(t),r=r!=null&&r;let a=i&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new ss(this.query,e.Ta,o,s,e.mutatedKeys,l===0,d,!1,!!t&&t.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new tu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(i=>this.la=this.la.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.la=this.la.delete(i)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=me(),this.Ta.forEach(t=>{this.ga(t.key)&&(this.Pa=this.Pa.add(t.key))});let i=[];return e.forEach(t=>{this.Pa.has(t)||i.push(new ru(t))}),this.Pa.forEach(t=>{e.has(t)||i.push(new nu(t))}),i}pa(e){this.la=e.hs,this.Pa=me();let i=this.da(e.documents);return this.applyChanges(i,!0)}ya(){return ss.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},dg=class{constructor(e,i,t){this.query=e,this.targetId=i,this.view=t}},ug=class{constructor(e){this.key=e,this.wa=!1}},hg=class{constructor(e,i,t,r,o,s){this.localStore=e,this.remoteStore=i,this.eventManager=t,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Bi(a=>Ox(a),xc),this.Da=new Map,this.Ca=new Set,this.va=new $e(G.comparator),this.Fa=new Map,this.Ma=new hc,this.xa={},this.Oa=new Map,this.Na=is.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function h1(n,e,i=!0){return M(this,null,function*(){let t=_u(n),r,o=t.ba.get(e);return o?(t.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield DE(t,e,i,!0),r})}function m1(n,e){return M(this,null,function*(){let i=_u(n);yield DE(i,e,!0,!1)})}function DE(n,e,i,t){return M(this,null,function*(){let r=yield ns(n.localStore,Bt(e)),o=r.targetId,s=i?n.sharedClientState.addLocalQueryTarget(o):"not-current",a;return t&&(a=yield Zg(n,e,o,s==="current",r.resumeToken)),n.isPrimaryClient&&i&&bu(n.remoteStore,r),a})}function Zg(n,e,i,t,r){return M(this,null,function*(){n.Ba=(f,g,_)=>function(P,D,$,Y){return M(this,null,function*(){let B=D.view.da($);B.Xi&&(B=yield Wd(P.localStore,D.query,!1).then(({documents:w})=>D.view.da(w,B)));let oe=Y&&Y.targetChanges.get(D.targetId),ce=Y&&Y.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(B,P.isPrimaryClient,oe,ce);return mg(P,D.targetId,le.fa),le.snapshot})}(n,f,g,_);let o=yield Wd(n.localStore,e,!0),s=new ou(e,o.hs),a=s.da(o.documents),l=cc.createSynthesizedTargetChangeForCurrentChange(i,t&&n.onlineState!=="Offline",r),d=s.applyChanges(a,n.isPrimaryClient,l);mg(n,i,d.fa);let h=new dg(e,i,s);return n.ba.set(e,h),n.Da.has(i)?n.Da.get(i).push(e):n.Da.set(i,[e]),d.snapshot})}function f1(n,e,i){return M(this,null,function*(){let t=H(n),r=t.ba.get(e),o=t.Da.get(r.targetId);if(o.length>1)return t.Da.set(r.targetId,o.filter(s=>!xc(s,e))),void t.ba.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield rs(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),i&&os(t.remoteStore,r.targetId),as(t,r.targetId)}).catch(Un))):(as(t,r.targetId),yield rs(t.localStore,r.targetId,!0))})}function p1(n,e){return M(this,null,function*(){let i=H(n),t=i.ba.get(e),r=i.Da.get(t.targetId);i.isPrimaryClient&&r.length===1&&(i.sharedClientState.removeLocalQueryTarget(t.targetId),os(i.remoteStore,t.targetId))})}function g1(n,e,i){return M(this,null,function*(){let t=ib(n);try{let r=yield function(s,a){let l=H(s),d=Qe.now(),h=a.reduce((_,S)=>_.add(S.key),me()),f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let S=Gt(),P=me();return l.os.getEntries(_,h).next(D=>{S=D,S.forEach(($,Y)=>{Y.isValidDocument()||(P=P.add($))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,S)).next(D=>{f=D;let $=[];for(let Y of a){let B=RD(Y,f.get(Y.key).overlayedDocument);B!=null&&$.push(new yi(Y.key,B,Ax(B.value.mapValue),tt.exists(!0)))}return l.mutationQueue.addMutationBatch(_,d,$,a)}).next(D=>{g=D;let $=D.applyToLocalDocumentSet(f,P);return l.documentOverlayCache.saveOverlays(_,D.batchId,$)})}).then(()=>({batchId:g.batchId,changes:Lx(f)}))}(t.localStore,e);t.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let d=s.xa[s.currentUser.toKey()];d||(d=new $e(de)),d=d.insert(a,l),s.xa[s.currentUser.toKey()]=d}(t,r.batchId,i),yield rn(t,r.changes),yield fs(t.remoteStore)}catch(r){let o=gs(r,"Failed to persist write");i.reject(o)}})}function ME(n,e){return M(this,null,function*(){let i=H(n);try{let t=yield QD(i.localStore,e);e.targetChanges.forEach((r,o)=>{let s=i.Fa.get(o);s&&(ee(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?ee(s.wa):r.removedDocuments.size>0&&(ee(s.wa),s.wa=!1))}),yield rn(i,t,e)}catch(t){yield Un(t)}})}function nx(n,e,i){let t=H(n);if(t.isPrimaryClient&&i===0||!t.isPrimaryClient&&i===1){let r=[];t.ba.forEach((o,s)=>{let a=s.view.j_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){let l=H(s);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(let g of f.U_)g.j_(a)&&(d=!0)}),d&&Xg(l)}(t.eventManager,e),r.length&&t.Sa.h_(r),t.onlineState=e,t.isPrimaryClient&&t.sharedClientState.setOnlineState(e)}}function b1(n,e,i){return M(this,null,function*(){let t=H(n);t.sharedClientState.updateQueryState(e,"rejected",i);let r=t.Fa.get(e),o=r&&r.key;if(o){let s=new $e(G.comparator);s=s.insert(o,mt.newNoDocument(o,ne.min()));let a=me().add(o),l=new ac(ne.min(),new Map,new $e(de),s,a);yield ME(t,l),t.va=t.va.remove(o),t.Fa.delete(e),tb(t)}else yield rs(t.localStore,e,!1).then(()=>as(t,e,i)).catch(Un)})}function _1(n,e){return M(this,null,function*(){let i=H(n),t=e.batch.batchId;try{let r=yield KD(i.localStore,e);eb(i,t,null),Jg(i,t),i.sharedClientState.updateMutationState(t,"acknowledged"),yield rn(i,r)}catch(r){yield Un(r)}})}function v1(n,e,i){return M(this,null,function*(){let t=H(n);try{let r=yield function(s,a){let l=H(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(ee(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(t.localStore,e);eb(t,e,i),Jg(t,e),t.sharedClientState.updateMutationState(e,"rejected",i),yield rn(t,r)}catch(r){yield Un(r)}})}function y1(n,e){return M(this,null,function*(){let i=H(n);qn(i.remoteStore)||F("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let t=yield function(s){let a=H(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(i.localStore);if(t===-1)return void e.resolve();let r=i.Oa.get(t)||[];r.push(e),i.Oa.set(t,r)}catch(t){let r=gs(t,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}})}function Jg(n,e){(n.Oa.get(e)||[]).forEach(i=>{i.resolve()}),n.Oa.delete(e)}function eb(n,e,i){let t=H(n),r=t.xa[t.currentUser.toKey()];if(r){let o=r.get(e);o&&(i?o.reject(i):o.resolve(),r=r.remove(e)),t.xa[t.currentUser.toKey()]=r}}function as(n,e,i=null){n.sharedClientState.removeLocalQueryTarget(e);for(let t of n.Da.get(e))n.ba.delete(t),i&&n.Sa.ka(t,i);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(t=>{n.Ma.containsKey(t)||PE(n,t)})}function PE(n,e){n.Ca.delete(e.path.canonicalString());let i=n.va.get(e);i!==null&&(os(n.remoteStore,i),n.va=n.va.remove(e),n.Fa.delete(i),tb(n))}function mg(n,e,i){for(let t of i)t instanceof nu?(n.Ma.addReference(t.key,e),w1(n,t)):t instanceof ru?(F("SyncEngine","Document no longer in limbo: "+t.key),n.Ma.removeReference(t.key,e),n.Ma.containsKey(t.key)||PE(n,t.key)):K()}function w1(n,e){let i=e.key,t=i.path.canonicalString();n.va.get(i)||n.Ca.has(t)||(F("SyncEngine","New document in limbo: "+i),n.Ca.add(t),tb(n))}function tb(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){let e=n.Ca.values().next().value;n.Ca.delete(e);let i=new G(we.fromString(e)),t=n.Na.next();n.Fa.set(t,new ug(i)),n.va=n.va.insert(i,t),bu(n.remoteStore,new ts(Bt(hs(i.path)),t,"TargetPurposeLimboResolution",ii.oe))}}function rn(n,e,i){return M(this,null,function*(){let t=H(n),r=[],o=[],s=[];t.ba.isEmpty()||(t.ba.forEach((a,l)=>{s.push(t.Ba(l,e,i).then(d=>{if((d||i)&&t.isPrimaryClient){let h=d&&!d.fromCache;t.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(d){r.push(d);let h=Gp.Ki(l.targetId,d);o.push(h)}}))}),yield Promise.all(s),t.Sa.h_(r),yield function(l,d){return M(this,null,function*(){let h=H(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>A.forEach(d,g=>A.forEach(g.qi,_=>h.persistence.referenceDelegate.addReference(f,g.targetId,_)).next(()=>A.forEach(g.Qi,_=>h.persistence.referenceDelegate.removeReference(f,g.targetId,_)))))}catch(f){if(!zn(f))throw f;F("LocalStore","Failed to update sequence numbers: "+f)}for(let f of d){let g=f.targetId;if(!f.fromCache){let _=h.ns.get(g),S=_.snapshotVersion,P=_.withLastLimboFreeSnapshotVersion(S);h.ns=h.ns.insert(g,P)}}})}(t.localStore,o))})}function x1(n,e){return M(this,null,function*(){let i=H(n);if(!i.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());let t=yield _E(i.localStore,e);i.currentUser=e,function(o,s){o.Oa.forEach(a=>{a.forEach(l=>{l.reject(new N(R.CANCELLED,s))})}),o.Oa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield rn(i,t.us)}})}function E1(n,e){let i=H(n),t=i.Fa.get(e);if(t&&t.wa)return me().add(t.key);{let r=me(),o=i.Da.get(e);if(!o)return r;for(let s of o){let a=i.ba.get(s);r=r.unionWith(a.view.Ea)}return r}}function I1(n,e){return M(this,null,function*(){let i=H(n),t=yield Wd(i.localStore,e.query,!0),r=e.view.pa(t);return i.isPrimaryClient&&mg(i,e.targetId,r.fa),r})}function C1(n,e){return M(this,null,function*(){let i=H(n);return xE(i.localStore,e).then(t=>rn(i,t))})}function T1(n,e,i,t){return M(this,null,function*(){let r=H(n),o=yield function(a,l){let d=H(a),h=H(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",f=>h.vn(f,l).next(g=>g?d.localDocuments.getDocuments(f,g):A.resolve(null)))}(r.localStore,e);o!==null?(i==="pending"?yield fs(r.remoteStore):i==="acknowledged"||i==="rejected"?(eb(r,e,t||null),Jg(r,e),function(a,l){H(H(a).mutationQueue).Mn(l)}(r.localStore,e)):K(),yield rn(r,o)):F("SyncEngine","Cannot apply mutation batch with id: "+e)})}function A1(n,e){return M(this,null,function*(){let i=H(n);if(_u(i),ib(i),e===!0&&i.La!==!0){let t=i.sharedClientState.getAllActiveQueryTargets(),r=yield rx(i,t.toArray());i.La=!0,yield ng(i.remoteStore,!0);for(let o of r)bu(i.remoteStore,o)}else if(e===!1&&i.La!==!1){let t=[],r=Promise.resolve();i.Da.forEach((o,s)=>{i.sharedClientState.isLocalQueryTarget(s)?t.push(s):r=r.then(()=>(as(i,s),rs(i.localStore,s,!0))),os(i.remoteStore,s)}),yield r,yield rx(i,t),function(s){let a=H(s);a.Fa.forEach((l,d)=>{os(a.remoteStore,d)}),a.Ma.mr(),a.Fa=new Map,a.va=new $e(G.comparator)}(i),i.La=!1,yield ng(i.remoteStore,!1)}})}function rx(n,e,i){return M(this,null,function*(){let t=H(n),r=[],o=[];for(let s of e){let a,l=t.Da.get(s);if(l&&l.length!==0){a=yield ns(t.localStore,Bt(l[0]));for(let d of l){let h=t.ba.get(d),f=yield I1(t,h);f.snapshot&&o.push(f.snapshot)}}else{let d=yield wE(t.localStore,s);a=yield ns(t.localStore,d),yield Zg(t,OE(d),s,!1,a.resumeToken)}r.push(a)}return t.Sa.h_(o),r})}function OE(n){return Px(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function S1(n){return function(i){return H(H(i).persistence).Bi()}(H(n).localStore)}function k1(n,e,i,t){return M(this,null,function*(){let r=H(n);if(r.La)return void F("SyncEngine","Ignoring unexpected query state notification.");let o=r.Da.get(e);if(o&&o.length>0)switch(i){case"current":case"not-current":{let s=yield xE(r.localStore,Nx(o[0])),a=ac.createSynthesizedRemoteEventForCurrentChange(e,i==="current",yt.EMPTY_BYTE_STRING);yield rn(r,s,a);break}case"rejected":yield rs(r.localStore,e,!0),as(r,e,t);break;default:K()}})}function R1(n,e,i){return M(this,null,function*(){let t=_u(n);if(t.La){for(let r of e){if(t.Da.has(r)&&t.sharedClientState.isActiveQueryTarget(r)){F("SyncEngine","Adding an already active target "+r);continue}let o=yield wE(t.localStore,r),s=yield ns(t.localStore,o);yield Zg(t,OE(o),s.targetId,!1,s.resumeToken),bu(t.remoteStore,s)}for(let r of i)t.Da.has(r)&&(yield rs(t.localStore,r,!1).then(()=>{os(t.remoteStore,r),as(t,r)}).catch(Un))}})}function _u(n){let e=H(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ME.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b1.bind(null,e),e.Sa.h_=d1.bind(null,e.eventManager),e.Sa.ka=u1.bind(null,e.eventManager),e}function ib(n){let e=H(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v1.bind(null,e),e}function D1(n,e,i){let t=H(n);(function(o,s,a){return M(this,null,function*(){try{let l=yield s.getMetadata();if(yield function(_,S){let P=H(_),D=at(S.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",$=>P.$r.getBundleMetadata($,S.id)).then($=>!!$&&$.createTime.compareTo(D)>=0)}(o.localStore,l))return yield s.close(),a._completeWith(function(_){return{taskState:"Success",documentsLoaded:_.totalDocuments,bytesLoaded:_.totalBytes,totalDocuments:_.totalDocuments,totalBytes:_.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(RE(l));let d=new lg(l,o.localStore,s.serializer),h=yield s.qa();for(;h;){let g=yield d._a(h);g&&a._updateProgress(g),h=yield s.qa()}let f=yield d.complete();return yield rn(o,f.ca,void 0),yield function(_,S){let P=H(_);return P.persistence.runTransaction("Save bundle","readwrite",D=>P.$r.saveBundleMetadata(D,S))}(o.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return li("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})})(t,e,i).then(r=>{t.sharedClientState.notifyBundleLoaded(r)})}var gc=class{constructor(){this.synchronizeTabs=!1}initialize(e){return M(this,null,function*(){this.serializer=Ic(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,i){return null}createIndexBackfillerScheduler(e,i){return null}createLocalStore(e){return bE(this.persistence,new Hd,e.initialUser,this.serializer)}createPersistence(e){return new $d(Gd.Hr,this.serializer)}createSharedClientState(e){return new Yd}terminate(){return M(this,null,function*(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var su=class n extends gc{constructor(e,i,t){super(),this.Qa=e,this.cacheSizeBytes=i,this.forceOwnership=t,this.synchronizeTabs=!1}initialize(e){return M(this,null,function*(){yield Bh(n.prototype,this,"initialize").call(this,e),yield this.Qa.initialize(this,e),yield ib(this.Qa.syncEngine),yield fs(this.Qa.remoteStore),yield this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))})}createLocalStore(e){return bE(this.persistence,new Hd,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,i){let t=this.persistence.referenceDelegate.garbageCollector;return new Rp(t,e.asyncQueue,i)}createIndexBackfillerScheduler(e,i){let t=new Kf(i,this.persistence);return new Wf(e.asyncQueue,t)}createPersistence(e){let i=Gg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),t=this.cacheSizeBytes!==void 0?ci.withCacheSize(this.cacheSizeBytes):ci.DEFAULT;return new $p(this.synchronizeTabs,i,e.clientId,t,e.asyncQueue,IE(),_d(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Yd}},fg=class n extends su{constructor(e,i){super(e,i,!1),this.Qa=e,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(e){return M(this,null,function*(){yield Bh(n.prototype,this,"initialize").call(this,e);let i=this.Qa.syncEngine;this.sharedClientState instanceof Xa&&(this.sharedClientState.syncEngine={Zs:T1.bind(null,i),Xs:k1.bind(null,i),eo:R1.bind(null,i),Bi:S1.bind(null,i),Ys:C1.bind(null,i)},yield this.sharedClientState.start()),yield this.persistence.fi(t=>M(this,null,function*(){yield A1(this.Qa.syncEngine,t),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start():t||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(t&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():t||this.indexBackfillerScheduler.stop())}))})}createSharedClientState(e){let i=IE();if(!Xa.D(i))throw new N(R.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let t=Gg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xa(i,e.asyncQueue,t,e.clientId,e.initialUser)}},bc=class{initialize(e,i){return M(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>nx(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=x1.bind(null,this.syncEngine),yield ng(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new sg}()}createDatastore(e){let i=Ic(e.databaseInfo.databaseId),t=function(o){return new Xp(o)}(e.databaseInfo);return function(o,s,a,l){return new eg(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,t,i)}createRemoteStore(e){return function(t,r,o,s,a){return new ig(t,r,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,i=>nx(this.syncEngine,i,0),function(){return Xd.D()?new Xd:new Qp}())}createSyncEngine(e,i){return function(r,o,s,a,l,d,h){let f=new hg(r,o,s,a,l,d);return h&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}terminate(){return M(this,null,function*(){var e;yield function(t){return M(this,null,function*(){let r=H(t);F("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield ms(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};function ox(n,e=10240){let i=0;return{read(){return M(this,null,function*(){if(i<n.byteLength){let r={value:n.slice(i,i+e),done:!1};return i+=e,r}return{done:!0}})},cancel(){return M(this,null,function*(){})},releaseLock(){},closed:Promise.resolve()}}var cs=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ot("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,i){this.muted||setTimeout(()=>{this.muted||e(i)},0)}};var pg=class{constructor(e,i){this.Ua=e,this.serializer=i,this.metadata=new ht,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(t=>{t&&t.sa()?this.metadata.resolve(t.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(t?.ia)}`))},t=>this.metadata.reject(t))}close(){return this.Ua.cancel()}getMetadata(){return M(this,null,function*(){return this.metadata.promise})}qa(){return M(this,null,function*(){return yield this.getMetadata(),this.Ga()})}Ga(){return M(this,null,function*(){let e=yield this.za();if(e===null)return null;let i=this.Wa.decode(e),t=Number(i);isNaN(t)&&this.ja(`length string (${i}) is not valid number`);let r=yield this.Ha(t);return new cg(JSON.parse(r),e.length+t)})}Ja(){return this.buffer.findIndex(e=>e===123)}za(){return M(this,null,function*(){for(;this.Ja()<0&&!(yield this.Ya()););if(this.buffer.length===0)return null;let e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");let i=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),i})}Ha(e){return M(this,null,function*(){for(;this.buffer.length<e;)(yield this.Ya())&&this.ja("Reached the end of bundle when more is expected.");let i=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),i})}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}Ya(){return M(this,null,function*(){let e=yield this.Ua.read();if(!e.done){let i=new Uint8Array(this.buffer.length+e.value.length);i.set(this.buffer),i.set(e.value,this.buffer.length),this.buffer=i}return e.done})}};var gg=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(e){return M(this,null,function*(){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new N(R.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;let i=yield function(r,o){return M(this,null,function*(){let s=H(r),a={documents:o.map(f=>lc(s.serializer,f))},l=yield s.xo("BatchGetDocuments",s.serializer.databaseId,we.emptyPath(),a,o.length),d=new Map;l.forEach(f=>{let g=FD(s.serializer,f);d.set(g.key.toString(),g)});let h=[];return o.forEach(f=>{let g=d.get(f.toString());ee(!!g),h.push(g)}),h})}(this.datastore,e);return i.forEach(t=>this.recordVersion(t)),i})}set(e,i){this.write(i.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,i){try{this.write(i.toMutation(e,this.preconditionForUpdate(e)))}catch(t){this.lastTransactionError=t}this.writtenDocs.add(e.toString())}delete(e){this.write(new jn(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){return M(this,null,function*(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;let e=this.readVersions;this.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,t)=>{let r=G.fromPath(t);this.mutations.push(new rc(r,this.precondition(r)))}),yield function(t,r){return M(this,null,function*(){let o=H(t),s={writes:r.map(a=>dc(o.serializer,a))};yield o.Co("Commit",o.serializer.databaseId,we.emptyPath(),s)})}(this.datastore,this.mutations),this.committed=!0})}recordVersion(e){let i;if(e.isFoundDocument())i=e.version;else{if(!e.isNoDocument())throw K();i=ne.min()}let t=this.readVersions.get(e.key.toString());if(t){if(!i.isEqual(t))throw new N(R.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),i)}precondition(e){let i=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&i?i.isEqual(ne.min())?tt.exists(!1):tt.updateTime(i):tt.none()}preconditionForUpdate(e){let i=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&i){if(i.isEqual(ne.min()))throw new N(R.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tt.updateTime(i)}return tt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var bg=class{constructor(e,i,t,r,o){this.asyncQueue=e,this.datastore=i,this.options=t,this.updateFunction=r,this.deferred=o,this.Za=t.maxAttempts,this.Yo=new fc(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(()=>M(this,null,function*(){let e=new gg(this.datastore),i=this.tu(e);i&&i.then(t=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(t)}).catch(r=>{this.nu(r)}))}).catch(t=>{this.nu(t)})}))}tu(e){try{let i=this.updateFunction(e);return!yc(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){let i=e.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!Qx(i)}return!1}};var _g=class{constructor(e,i,t,r){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=t,this.databaseInfo=r,this.user=ut.UNAUTHENTICATED,this.clientId=wd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(t,o=>M(this,null,function*(){F("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(t,o=>(F("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new N(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ht;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let t=gs(i,"Failed to shutdown persistence");e.reject(t)}})),e.promise}};function vd(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");let i=n.configuration;yield e.initialize(i);let t=i.initialUser;n.setCredentialChangeListener(r=>M(this,null,function*(){t.isEqual(r)||(yield _E(e.localStore,r),t=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function vg(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let i=yield nb(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(i,n.configuration),n.setCredentialChangeListener(t=>tx(e.remoteStore,t)),n.setAppCheckTokenChangeListener((t,r)=>tx(e.remoteStore,r)),n._onlineComponents=e})}function NE(n){return n.name==="FirebaseError"?n.code===R.FAILED_PRECONDITION||n.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function nb(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vd(n,n._uninitializedComponentsProvider._offline)}catch(e){let i=e;if(!NE(i))throw i;li("Error using user provided cache. Falling back to memory cache: "+i),yield vd(n,new gc)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield vd(n,new gc);return n._offlineComponents})}function vu(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield vg(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield vg(n,new bc))),n._onlineComponents})}function FE(n){return nb(n).then(e=>e.persistence)}function rb(n){return nb(n).then(e=>e.localStore)}function VE(n){return vu(n).then(e=>e.remoteStore)}function ob(n){return vu(n).then(e=>e.syncEngine)}function M1(n){return vu(n).then(e=>e.datastore)}function ls(n){return M(this,null,function*(){let e=yield vu(n),i=e.eventManager;return i.onListen=h1.bind(null,e.syncEngine),i.onUnlisten=f1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=m1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=p1.bind(null,e.syncEngine),i})}function P1(n){return n.asyncQueue.enqueue(()=>M(this,null,function*(){let e=yield FE(n),i=yield VE(n);return e.setNetworkEnabled(!0),function(r){let o=H(r);return o.M_.delete(0),Cc(o)}(i)}))}function O1(n){return n.asyncQueue.enqueue(()=>M(this,null,function*(){let e=yield FE(n),i=yield VE(n);return e.setNetworkEnabled(!1),function(r){return M(this,null,function*(){let o=H(r);o.M_.add(0),yield ms(o),o.N_.set("Offline")})}(i)}))}function N1(n,e){let i=new ht;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(r,o,s){return M(this,null,function*(){try{let a=yield function(d,h){let f=H(d);return f.persistence.runTransaction("read document","readonly",g=>f.localDocuments.getDocument(g,h))}(r,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new N(R.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){let l=gs(a,`Failed to get document '${o} from cache`);s.reject(l)}})}(yield rb(n),e,i)})),i.promise}function LE(n,e,i={}){let t=new ht;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(o,s,a,l,d){let h=new cs({next:g=>{s.enqueueAndForget(()=>Yg(o,f));let _=g.docs.has(a);!_&&g.fromCache?d.reject(new N(R.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&l&&l.source==="server"?d.reject(new N(R.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new pc(hs(a.path),h,{includeMetadataChanges:!0,ra:!0});return Qg(o,f)}(yield ls(n),n.asyncQueue,e,i,t)})),t.promise}function F1(n,e){let i=new ht;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(r,o,s){return M(this,null,function*(){try{let a=yield Wd(r,o,!0),l=new ou(o,a.hs),d=l.da(a.documents),h=l.applyChanges(d,!1);s.resolve(h.snapshot)}catch(a){let l=gs(a,`Failed to execute query '${o} against cache`);s.reject(l)}})}(yield rb(n),e,i)})),i.promise}function jE(n,e,i={}){let t=new ht;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(o,s,a,l,d){let h=new cs({next:g=>{s.enqueueAndForget(()=>Yg(o,f)),g.fromCache&&l.source==="server"?d.reject(new N(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(g)},error:g=>d.reject(g)}),f=new pc(a,h,{includeMetadataChanges:!0,ra:!0});return Qg(o,f)}(yield ls(n),n.asyncQueue,e,i,t)})),t.promise}function V1(n,e){let i=new cs(e);return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(r,o){H(r).z_.add(o),o.next()}(yield ls(n),i)})),()=>{i.$a(),n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(r,o){H(r).z_.delete(o)}(yield ls(n),i)}))}}function L1(n,e,i,t){let r=function(s,a){let l;return l=typeof s=="string"?Xx().encode(s):s,function(h,f){return new pg(h,f)}(function(h,f){if(h instanceof Uint8Array)return ox(h,f);if(h instanceof ArrayBuffer)return ox(new Uint8Array(h),f);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(i,Ic(e));n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){D1(yield ob(n),r,t)}))}function j1(n,e){return n.asyncQueue.enqueue(()=>M(this,null,function*(){return function(t,r){let o=H(t);return o.persistence.runTransaction("Get named query","readonly",s=>o.$r.getNamedQuery(s,r))}(yield rb(n),e)}))}function BE(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var sx=new Map;function sb(n,e,i){if(!i)throw new N(R.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ab(n,e,i,t){if(e===!0&&t===!0)throw new N(R.INVALID_ARGUMENT,`${n} and ${i} cannot be used together.`)}function ax(n){if(!G.isDocumentKey(n))throw new N(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cx(n){if(G.isDocumentKey(n))throw new N(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yu(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":K()}function xe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new N(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=yu(n);throw new N(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return n}function UE(n,e){if(e<=0)throw new N(R.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var au=class{constructor(e){var i,t;if(e.host===void 0){if(e.ssl!==void 0)throw new N(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new N(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ab("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BE((t=e.experimentalLongPollingOptions)!==null&&t!==void 0?t:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new N(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new N(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new N(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(t,r){return t.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Mr=class{constructor(e,i,t,r){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=t,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new au({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new N(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new N(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new au(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new Vf;switch(t.type){case"firstParty":return new Uf(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new N(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){let t=sx.get(i);t&&(F("ComponentProvider","Removing Datastore"),sx.delete(i),t.terminate())}(this),Promise.resolve()}};function zE(n,e,i,t={}){var r;let o=(n=xe(n,Mr))._getSettings(),s=`${e}:${i}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),t.mockUserToken){let a,l;if(typeof t.mockUserToken=="string")a=t.mockUserToken,l=ut.MOCK_USER;else{a=Ry(t.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let d=t.mockUserToken.sub||t.mockUserToken.user_id;if(!d)throw new N(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ut(d)}n._authCredentials=new Lf(new yd(a,l))}}var It=class n{constructor(e,i,t){this.converter=i,this._query=t,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},je=class n{constructor(e,i,t){this.converter=i,this._key=t,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Vi=class n extends It{constructor(e,i,t){super(e,i,hs(t)),this._path=t,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new je(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function cb(n,e,...i){if(n=Ke(n),sb("collection","path",e),n instanceof Mr){let t=we.fromString(e,...i);return cx(t),new Vi(n,null,t)}{if(!(n instanceof je||n instanceof Vi))throw new N(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let t=n._path.child(we.fromString(e,...i));return cx(t),new Vi(n.firestore,null,t)}}function qE(n,e){if(n=xe(n,Mr),sb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new N(R.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new It(n,null,function(t){return new vi(we.emptyPath(),t)}(e))}function Tc(n,e,...i){if(n=Ke(n),arguments.length===1&&(e=wd.newId()),sb("doc","path",e),n instanceof Mr){let t=we.fromString(e,...i);return ax(t),new je(n,null,new G(t))}{if(!(n instanceof je||n instanceof Vi))throw new N(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let t=n._path.child(we.fromString(e,...i));return ax(t),new je(n.firestore,n instanceof Vi?n.converter:null,new G(t))}}function lb(n,e){return n=Ke(n),e=Ke(e),(n instanceof je||n instanceof Vi)&&(e instanceof je||e instanceof Vi)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function db(n,e){return n=Ke(n),e=Ke(e),n instanceof It&&e instanceof It&&n.firestore===e.firestore&&xc(n._query,e._query)&&n.converter===e.converter}var yg=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new fc(this,"async_queue_retry"),this.hu=()=>{let i=_d();i&&F("AsyncQueue","Visibility state changed to "+i.visibilityState),this.Yo.Wo()};let e=_d();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let i=new ht;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return M(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!zn(e))throw e;F("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let i=this.iu.then(()=>(this.uu=!0,e().catch(t=>{this.au=t,this.uu=!1;let r=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(t);throw ot("INTERNAL UNHANDLED ERROR: ",r),t}).then(t=>(this.uu=!1,t))));return this.iu=i,i}enqueueAfterDelay(e,i,t){this.Pu(),this.lu.indexOf(e)>-1&&(i=0);let r=rg.createAndSchedule(this,e,i,t,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&K()}verifyOperationInProgress(){}du(){return M(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let i of this._u)if(i.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((i,t)=>i.targetTimeMs-t.targetTimeMs);for(let i of this._u)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let i=this._u.indexOf(e);this._u.splice(i,1)}};function wg(n){return function(i,t){if(typeof i!="object"||i===null)return!1;let r=i;for(let o of t)if(o in r&&typeof r[o]=="function")return!0;return!1}(n,["next","error","complete"])}var xg=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new ht,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,i,t){this._progressObserver={next:e,error:i,complete:t}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,i){return this._taskCompletionResolver.promise.then(e,i)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var $E=-1,He=class extends Mr{constructor(e,i,t,r){super(e,i,t,r),this.type="firestore",this._queue=function(){return new yg}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GE(this),this._firestoreClient.terminate()}};function pt(n){return n._firestoreClient||GE(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GE(n){var e,i,t;let r=n._freezeSettings(),o=function(a,l,d,h){return new Qf(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BE(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new _g(n._authCredentials,n._appCheckCredentials,n._queue,o),!((i=r.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((t=r.localCache)===null||t===void 0)&&t._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function HE(n,e){tI(n=xe(n,He));let i=pt(n);if(i._uninitializedComponentsProvider)throw new N(R.FAILED_PRECONDITION,"SDK cache is already specified.");li("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let t=n._freezeSettings(),r=new bc;return KE(i,r,new su(r,t.cacheSizeBytes,e?.forceOwnership))}function WE(n){tI(n=xe(n,He));let e=pt(n);if(e._uninitializedComponentsProvider)throw new N(R.FAILED_PRECONDITION,"SDK cache is already specified.");li("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");let i=n._freezeSettings(),t=new bc;return KE(e,t,new fg(t,i.cacheSizeBytes))}function KE(n,e,i){let t=new ht;return n.asyncQueue.enqueue(()=>M(this,null,function*(){try{yield vd(n,i),yield vg(n,e),t.resolve()}catch(r){let o=r;if(!NE(o))throw o;li("Error enabling indexeddb cache. Falling back to memory cache: "+o),t.reject(o)}})).then(()=>t.promise)}function QE(n){if(n._initialized&&!n._terminated)throw new N(R.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new ht;return n._queue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{yield function(t){return M(this,null,function*(){if(!Mn.D())return Promise.resolve();let r=t+"main";yield Mn.delete(r)})}(Gg(n._databaseId,n._persistenceKey)),e.resolve()}catch(i){e.reject(i)}})),e.promise}function YE(n){return function(i){let t=new ht;return i.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return y1(yield ob(i),t)})),t.promise}(pt(n=xe(n,He)))}function XE(n){return P1(pt(n=xe(n,He)))}function ZE(n){return O1(pt(n=xe(n,He)))}function JE(n,e){let i=pt(n=xe(n,He)),t=new xg;return L1(i,n._databaseId,e,t),t}function eI(n,e){return j1(pt(n=xe(n,He)),e).then(i=>i?new It(n,null,i.query):null)}function tI(n){if(n._initialized||n._terminated)throw new N(R.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Ui=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(yt.fromBase64String(e))}catch(i){throw new N(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new n(yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var wi=class{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new N(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new st(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var tn=class{constructor(e){this._methodName=e}};var Pr=class{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new N(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new N(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return de(this._lat,e._lat)||de(this._long,e._long)}};var B1=/^__.*__$/,Eg=class{constructor(e,i,t){this.data=e,this.fieldMask=i,this.fieldTransforms=t}toMutation(e,i){return this.fieldMask!==null?new yi(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ln(e,this.data,i,this.fieldTransforms)}},cu=class{constructor(e,i,t){this.data=e,this.fieldMask=i,this.fieldTransforms=t}toMutation(e,i){return new yi(e,this.data,this.fieldMask,i,this.fieldTransforms)}};function iI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}var lu=class n{constructor(e,i,t,r,o,s){this.settings=e,this.databaseId=i,this.serializer=t,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var i;let t=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:t,yu:!1});return r.wu(e),r}Su(e){var i;let t=(i=this.path)===null||i===void 0?void 0:i.child(e),r=this.gu({path:t,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return du(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(iI(this.fu)&&B1.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Ig=class{constructor(e,i,t){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=t||Ic(e)}Fu(e,i,t,r=!1){return new lu({fu:e,methodName:i,vu:t,path:st.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Vr(n){let e=n._freezeSettings(),i=Ic(n._databaseId);return new Ig(n._databaseId,!!e.ignoreUndefinedProperties,i)}function wu(n,e,i,t,r,o={}){let s=n.Fu(o.merge||o.mergeFields?2:0,e,i,r);mb("Data must be an object, but it was:",s,t);let a=oI(t,s),l,d;if(o.merge)l=new ni(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let g=kg(e,f,i);if(!s.contains(g))throw new N(R.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);aI(h,g)||h.push(g)}l=new ni(h),d=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=s.fieldTransforms;return new Eg(new Pt(a),l,d)}var _c=class n extends tn{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function nI(n,e,i){return new lu({fu:3,vu:e.settings.vu,methodName:n._methodName,yu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Cg=class n extends tn{_toFieldTransform(e){return new kr(e.path,new Fn)}isEqual(e){return e instanceof n}},Tg=class n extends tn{constructor(e,i){super(e),this.Mu=i}_toFieldTransform(e){let i=nI(this,e,!0),t=this.Mu.map(o=>Lr(o,i)),r=new Ji(t);return new kr(e.path,r)}isEqual(e){return e instanceof n&&cm(this.Mu,e.Mu)}},Ag=class n extends tn{constructor(e,i){super(e),this.Mu=i}_toFieldTransform(e){let i=nI(this,e,!0),t=this.Mu.map(o=>Lr(o,i)),r=new en(t);return new kr(e.path,r)}isEqual(e){return e instanceof n&&cm(this.Mu,e.Mu)}},Sg=class n extends tn{constructor(e,i){super(e),this.xu=i}_toFieldTransform(e){let i=new Vn(e.serializer,zx(e.serializer,this.xu));return new kr(e.path,i)}isEqual(e){return e instanceof n&&this.xu===e.xu}};function ub(n,e,i,t){let r=n.Fu(1,e,i);mb("Data must be an object, but it was:",r,t);let o=[],s=Pt.empty();Fr(t,(l,d)=>{let h=fb(e,l,i);d=Ke(d);let f=r.Su(h);if(d instanceof _c)o.push(h);else{let g=Lr(d,f);g!=null&&(o.push(h),s.set(h,g))}});let a=new ni(o);return new cu(s,a,r.fieldTransforms)}function hb(n,e,i,t,r,o){let s=n.Fu(1,e,i),a=[kg(e,t,i)],l=[r];if(o.length%2!=0)throw new N(R.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(kg(e,o[g])),l.push(o[g+1]);let d=[],h=Pt.empty();for(let g=a.length-1;g>=0;--g)if(!aI(d,a[g])){let _=a[g],S=l[g];S=Ke(S);let P=s.Su(_);if(S instanceof _c)d.push(_);else{let D=Lr(S,P);D!=null&&(d.push(_),h.set(_,D))}}let f=new ni(d);return new cu(h,f,s.fieldTransforms)}function rI(n,e,i,t=!1){return Lr(i,n.Fu(t?4:3,e))}function Lr(n,e){if(sI(n=Ke(n)))return mb("Unsupported field value:",e,n),oI(n,e);if(n instanceof tn)return function(t,r){if(!iI(r.fu))throw r.Du(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${t._methodName}() is not currently supported inside arrays`);let o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(t,r){let o=[],s=0;for(let a of t){let l=Lr(a,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if((t=Ke(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return zx(r.serializer,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){let o=Qe.fromDate(t);return{timestampValue:es(r.serializer,o)}}if(t instanceof Qe){let o=new Qe(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:es(r.serializer,o)}}if(t instanceof Pr)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ui)return{bytesValue:Zx(r.serializer,t._byteString)};if(t instanceof je){let o=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:zg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Du(`Unsupported field value: ${yu(t)}`)}(n,e)}function oI(n,e){let i={};return Ix(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(n,(t,r)=>{let o=Lr(r,e.pu(t));o!=null&&(i[t]=o)}),{mapValue:{fields:i}}}function sI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Qe||n instanceof Pr||n instanceof Ui||n instanceof je||n instanceof tn)}function mb(n,e,i){if(!sI(i)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(i)){let t=yu(i);throw t==="an object"?e.Du(n+" a custom object"):e.Du(n+" "+t)}}function kg(n,e,i){if((e=Ke(e))instanceof wi)return e._internalPath;if(typeof e=="string")return fb(n,e);throw du("Field path arguments must be of type string or ",n,!1,void 0,i)}var U1=new RegExp("[~\\*/\\[\\]]");function fb(n,e,i){if(e.search(U1)>=0)throw du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,i);try{return new wi(...e.split("."))._internalPath}catch{throw du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,i)}}function du(n,e,i,t,r){let o=t&&!t.isEmpty(),s=r!==void 0,a=`Function ${e}() called with invalid data`;i&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${t}`),s&&(l+=` in document ${r}`),l+=")"),new N(R.INVALID_ARGUMENT,a+n+l)}function aI(n,e){return n.some(i=>i.isEqual(e))}var Or=class{constructor(e,i,t,r,o){this._firestore=e,this._userDataWriter=i,this._key=t,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Rg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let i=this._document.data.field(xu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}},Rg=class extends Or{data(){return super.data()}};function xu(n,e){return typeof e=="string"?fb(n,e):e instanceof wi?e._internalPath:e._delegate._internalPath}function cI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new N(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vc=class{},Nr=class extends vc{};function on(n,e,...i){let t=[];e instanceof vc&&t.push(e),t=t.concat(i),function(o){let s=o.filter(l=>l instanceof Dg).length,a=o.filter(l=>l instanceof uu).length;if(s>1||s>0&&a>0)throw new N(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(t);for(let r of t)n=r._apply(n);return n}var uu=class n extends Nr{constructor(e,i,t){super(),this._field=e,this._op=i,this._value=t,this.type="where"}static _create(e,i,t){return new n(e,i,t)}_apply(e){let i=this._parse(e);return _I(e._query,i),new It(e.firestore,e.converter,cp(e._query,i))}_parse(e){let i=Vr(e.firestore);return function(o,s,a,l,d,h,f){let g;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new N(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){dx(f,h);let _=[];for(let S of f)_.push(lx(l,o,S));g={arrayValue:{values:_}}}else g=lx(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||dx(f,h),g=rI(a,s,f,h==="in"||h==="not-in");return be.create(d,h,g)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}};function lI(n,e,i){let t=e,r=xu("where",n);return uu._create(r,t,i)}var Dg=class n extends vc{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new n(e,i)}_parse(e){let i=this._queryConstraints.map(t=>t._parse(e)).filter(t=>t.getFilters().length>0);return i.length===1?i[0]:Me.create(i,this._getOperator())}_apply(e){let i=this._parse(e);return i.getFilters().length===0?e:(function(r,o){let s=r,a=o.getFlattenedFilters();for(let l of a)_I(s,l),s=cp(s,l)}(e._query,i),new It(e.firestore,e.converter,cp(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Mg=class n extends Nr{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new n(e,i)}_apply(e){let i=function(r,o,s){if(r.startAt!==null)throw new N(R.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new N(R.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ar(o,s)}(e._query,this._field,this._direction);return new It(e.firestore,e.converter,function(r,o){let s=r.explicitOrderBy.concat([o]);return new vi(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}};function dI(n,e="asc"){let i=e,t=xu("orderBy",n);return Mg._create(t,i)}var hu=class n extends Nr{constructor(e,i,t){super(),this.type=e,this._limit=i,this._limitType=t}static _create(e,i,t){return new n(e,i,t)}_apply(e){return new It(e.firestore,e.converter,Dd(e._query,this._limit,this._limitType))}};function uI(n){return UE("limit",n),hu._create("limit",n,"F")}function hI(n){return UE("limitToLast",n),hu._create("limitToLast",n,"L")}var mu=class n extends Nr{constructor(e,i,t){super(),this.type=e,this._docOrFields=i,this._inclusive=t}static _create(e,i,t){return new n(e,i,t)}_apply(e){let i=bI(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(r,o){return new vi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)}(e._query,i))}};function mI(...n){return mu._create("startAt",n,!0)}function fI(...n){return mu._create("startAfter",n,!1)}var fu=class n extends Nr{constructor(e,i,t){super(),this.type=e,this._docOrFields=i,this._inclusive=t}static _create(e,i,t){return new n(e,i,t)}_apply(e){let i=bI(e,this.type,this._docOrFields,this._inclusive);return new It(e.firestore,e.converter,function(r,o){return new vi(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)}(e._query,i))}};function pI(...n){return fu._create("endBefore",n,!1)}function gI(...n){return fu._create("endAt",n,!0)}function bI(n,e,i,t){if(i[0]=Ke(i[0]),i[0]instanceof Or)return function(o,s,a,l,d){if(!l)throw new N(R.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);let h=[];for(let f of Ho(o))if(f.field.isKeyField())h.push(Tr(s,l.key));else{let g=l.data.field(f.field);if(gu(g))throw new N(R.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){let _=f.field.canonicalString();throw new N(R.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${_}' (used as the orderBy) does not exist.`)}h.push(g)}return new ji(h,d)}(n._query,n.firestore._databaseId,e,i[0]._document,t);{let r=Vr(n.firestore);return function(s,a,l,d,h,f){let g=s.explicitOrderBy;if(h.length>g.length)throw new N(R.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let _=[];for(let S=0;S<h.length;S++){let P=h[S];if(g[S].field.isKeyField()){if(typeof P!="string")throw new N(R.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof P}`);if(!Bg(s)&&P.indexOf("/")!==-1)throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${P}' contains a slash.`);let D=s.path.child(we.fromString(P));if(!G.isDocumentKey(D))throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${D}' is not because it contains an odd number of segments.`);let $=new G(D);_.push(Tr(a,$))}else{let D=rI(l,d,P);_.push(D)}}return new ji(_,f)}(n._query,n.firestore._databaseId,r,e,i,t)}}function lx(n,e,i){if(typeof(i=Ke(i))=="string"){if(i==="")throw new N(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bg(e)&&i.indexOf("/")!==-1)throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);let t=e.path.child(we.fromString(i));if(!G.isDocumentKey(t))throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${t}' is not because it has an odd number of segments (${t.length}).`);return Tr(n,new G(t))}if(i instanceof je)return Tr(n,i._key);throw new N(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yu(i)}.`)}function dx(n,e){if(!Array.isArray(n)||n.length===0)throw new N(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _I(n,e){let i=function(r,o){for(let s of r)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new N(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new N(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}var ds=class{convertValue(e,i="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Pn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 10:return this.convertObject(e.mapValue,i);default:throw K()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){let t={};return Fr(e,(r,o)=>{t[r]=this.convertValue(o,i)}),t}convertGeoPoint(e){return new Pr(et(e.latitude),et(e.longitude))}convertArray(e,i){return(e.values||[]).map(t=>this.convertValue(t,i))}convertServerTimestamp(e,i){switch(i){case"previous":let t=Lg(e);return t==null?null:this.convertValue(t,i);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){let i=Zi(e);return new Qe(i.seconds,i.nanos)}convertDocumentKey(e,i){let t=we.fromString(e);ee(lE(t));let r=new On(t.get(1),t.get(3)),o=new G(t.popFirst(5));return r.isEqual(i)||ot(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),o}};function Eu(n,e,i){let t;return t=n?i&&(i.merge||i.mergeFields)?n.toFirestore(e,i):n.toFirestore(e):e,t}var Pg=class extends ds{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,i)}};var Xi=class{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ui=class extends Or{constructor(e,i,t,r,o,s){super(e,i,t,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let i=new Rn(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){let t=this._document.data.field(xu("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t,i.serverTimestamps)}}},Rn=class extends ui{data(e={}){return super.data(e)}},xi=class{constructor(e,i,t,r){this._firestore=e,this._userDataWriter=i,this._snapshot=r,this.metadata=new Xi(r.hasPendingWrites,r.fromCache),this.query=t}get docs(){let e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(t=>{e.call(i,new Rn(this._firestore,this._userDataWriter,t.key,t,new Xi(this._snapshot.mutatedKeys.has(t.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new N(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>{let l=new Rn(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new Rn(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Xi(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,h=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:z1(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}};function z1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}function pb(n,e){return n instanceof ui&&e instanceof ui?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof xi&&e instanceof xi&&n._firestore===e._firestore&&db(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function vI(n){n=xe(n,je);let e=xe(n.firestore,He);return LE(pt(e),n._key).then(i=>vb(e,n,i))}var nn=class extends ds{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ui(e)}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return new je(this.firestore,null,i)}};function yI(n){n=xe(n,je);let e=xe(n.firestore,He),i=pt(e),t=new nn(e);return N1(i,n._key).then(r=>new ui(e,t,n._key,r,new Xi(r!==null&&r.hasLocalMutations,!0),n.converter))}function wI(n){n=xe(n,je);let e=xe(n.firestore,He);return LE(pt(e),n._key,{source:"server"}).then(i=>vb(e,n,i))}function xI(n){n=xe(n,It);let e=xe(n.firestore,He),i=pt(e),t=new nn(e);return cI(n._query),jE(i,n._query).then(r=>new xi(e,t,n,r))}function EI(n){n=xe(n,It);let e=xe(n.firestore,He),i=pt(e),t=new nn(e);return F1(i,n._query).then(r=>new xi(e,t,n,r))}function II(n){n=xe(n,It);let e=xe(n.firestore,He),i=pt(e),t=new nn(e);return jE(i,n._query,{source:"server"}).then(r=>new xi(e,t,n,r))}function gb(n,e,i){n=xe(n,je);let t=xe(n.firestore,He),r=Eu(n.converter,e,i);return bs(t,[wu(Vr(t),"setDoc",n._key,r,n.converter!==null,i).toMutation(n._key,tt.none())])}function bb(n,e,i,...t){n=xe(n,je);let r=xe(n.firestore,He),o=Vr(r),s;return s=typeof(e=Ke(e))=="string"||e instanceof wi?hb(o,"updateDoc",n._key,e,i,t):ub(o,"updateDoc",n._key,e),bs(r,[s.toMutation(n._key,tt.exists(!0))])}function CI(n){return bs(xe(n.firestore,He),[new jn(n._key,tt.none())])}function TI(n,e){let i=xe(n.firestore,He),t=Tc(n),r=Eu(n.converter,e);return bs(i,[wu(Vr(n.firestore),"addDoc",t._key,r,n.converter!==null,{}).toMutation(t._key,tt.exists(!1))]).then(()=>t)}function _b(n,...e){var i,t,r;n=Ke(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wg(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wg(e[s])){let f=e[s];e[s]=(i=f.next)===null||i===void 0?void 0:i.bind(f),e[s+1]=(t=f.error)===null||t===void 0?void 0:t.bind(f),e[s+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,d,h;if(n instanceof je)d=xe(n.firestore,He),h=hs(n._key.path),l={next:f=>{e[s]&&e[s](vb(d,n,f))},error:e[s+1],complete:e[s+2]};else{let f=xe(n,It);d=xe(f.firestore,He),h=f._query;let g=new nn(d);l={next:_=>{e[s]&&e[s](new xi(d,g,f,_))},error:e[s+1],complete:e[s+2]},cI(n._query)}return function(g,_,S,P){let D=new cs(P),$=new pc(_,D,S);return g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return Qg(yield ls(g),$)})),()=>{D.$a(),g.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return Yg(yield ls(g),$)}))}}(pt(d),h,a,l)}function AI(n,e){return V1(pt(n=xe(n,He)),wg(e)?e:{next:e})}function bs(n,e){return function(t,r){let o=new ht;return t.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return g1(yield ob(t),r,o)})),o.promise}(pt(n),e)}function vb(n,e,i){let t=i.docs.get(e._key),r=new nn(n);return new ui(n,r,e._key,t,new Xi(i.hasPendingWrites,i.fromCache),e.converter)}var q1={maxAttempts:5};var pu=class{constructor(e,i){this._firestore=e,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=Vr(e)}set(e,i,t){this._verifyNotCommitted();let r=Sn(e,this._firestore),o=Eu(r.converter,i,t),s=wu(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,t);return this._mutations.push(s.toMutation(r._key,tt.none())),this}update(e,i,t,...r){this._verifyNotCommitted();let o=Sn(e,this._firestore),s;return s=typeof(i=Ke(i))=="string"||i instanceof wi?hb(this._dataReader,"WriteBatch.update",o._key,i,t,r):ub(this._dataReader,"WriteBatch.update",o._key,i),this._mutations.push(s.toMutation(o._key,tt.exists(!0))),this}delete(e){this._verifyNotCommitted();let i=Sn(e,this._firestore);return this._mutations=this._mutations.concat(new jn(i._key,tt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new N(R.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Sn(n,e){if((n=Ke(n)).firestore!==e)throw new N(R.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var Og=class extends class{constructor(i,t){this._firestore=i,this._transaction=t,this._dataReader=Vr(i)}get(i){let t=Sn(i,this._firestore),r=new Pg(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||o.length!==1)return K();let s=o[0];if(s.isFoundDocument())return new Or(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Or(this._firestore,r,t._key,null,t.converter);throw K()})}set(i,t,r){let o=Sn(i,this._firestore),s=Eu(o.converter,t,r),a=wu(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,r);return this._transaction.set(o._key,a),this}update(i,t,r,...o){let s=Sn(i,this._firestore),a;return a=typeof(t=Ke(t))=="string"||t instanceof wi?hb(this._dataReader,"Transaction.update",s._key,t,r,o):ub(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this}delete(i){let t=Sn(i,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,i){super(e,i),this._firestore=e}get(e){let i=Sn(e,this._firestore),t=new nn(this._firestore);return super.get(e).then(r=>new ui(this._firestore,t,i._key,r._document,new Xi(!1,!1),i.converter))}};function SI(n,e,i){n=xe(n,He);let t=Object.assign(Object.assign({},q1),i);return function(o){if(o.maxAttempts<1)throw new N(R.INVALID_ARGUMENT,"Max attempts must be at least 1")}(t),function(o,s,a){let l=new ht;return o.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){let d=yield M1(o);new bg(o.asyncQueue,d,a,s,l).Xa()})),l.promise}(pt(n),r=>e(new Og(n,r)),t)}function kI(){return new _c("deleteField")}function RI(){return new Cg("serverTimestamp")}function DI(...n){return new Tg("arrayUnion",n)}function MI(...n){return new Ag("arrayRemove",n)}function PI(n){return new Sg("increment",n)}(function(e,i=!0){(function(r){us=r})(Py),aa(new dr("firestore",(t,{instanceIdentifier:r,options:o})=>{let s=t.getProvider("app").getImmediate(),a=new He(new jf(t.getProvider("auth-internal")),new qf(t.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new N(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new On(d.options.projectId,h)}(s,r),s);return o=Object.assign({useFetchStreams:i},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_n(uw,"4.6.3",e),_n(uw,"4.6.3","esm2017")})();var $1="@firebase/firestore-compat",G1="0.3.32";function Cb(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new N("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function OI(){if(typeof Uint8Array>"u")throw new N("unimplemented","Uint8Arrays are not available in this environment.")}function NI(){if(!Cx())throw new N("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Iu=class n{constructor(e){this._delegate=e}static fromBase64String(e){return NI(),new n(Ui.fromBase64String(e))}static fromUint8Array(e){return OI(),new n(Ui.fromUint8Array(e))}toBase64(){return NI(),this._delegate.toBase64()}toUint8Array(){return OI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function yb(n){return H1(n,["next","error","complete"])}function H1(n,e){if(typeof n!="object"||n===null)return!1;let i=n;for(let t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}var wb=class{enableIndexedDbPersistence(e,i){return HE(e._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(e){return WE(e._delegate)}clearIndexedDbPersistence(e){return QE(e._delegate)}},Cu=class{constructor(e,i,t){this._delegate=i,this._persistenceProvider=t,this.INTERNAL={delete:()=>this.terminate()},e instanceof On||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let i=this._delegate._getSettings();!e.merge&&i.host!==e.host&&li("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},i),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,i,t={}){zE(this._delegate,e,i,t)}enableNetwork(){return XE(this._delegate)}disableNetwork(){return ZE(this._delegate)}enablePersistence(e){let i=!1,t=!1;return e&&(i=!!e.synchronizeTabs,t=!!e.experimentalForceOwningTab,ab("synchronizeTabs",i,"experimentalForceOwningTab",t)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,t)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return YE(this._delegate)}onSnapshotsInSync(e){return AI(this._delegate,e)}get app(){if(!this._appCompat)throw new N("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ys(this,cb(this._delegate,e))}catch(i){throw Ut(i,"collection()","Firestore.collection()")}}doc(e){try{return new zi(this,Tc(this._delegate,e))}catch(i){throw Ut(i,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zr(this,qE(this._delegate,e))}catch(i){throw Ut(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return SI(this._delegate,i=>e(new Tu(this,i)))}batch(){return pt(this._delegate),new Au(new pu(this._delegate,e=>bs(this._delegate,e)))}loadBundle(e){return JE(this._delegate,e)}namedQuery(e){return eI(this._delegate,e).then(i=>i?new zr(this,i):null)}},_s=class extends ds{constructor(e){super(),this.firestore=e}convertBytes(e){return new Iu(new Ui(e))}convertReference(e){let i=this.convertDocumentKey(e,this.firestore._databaseId);return zi.forKey(i,this.firestore,null)}};function W1(n){ux(n)}var Tu=class{constructor(e,i){this._firestore=e,this._delegate=i,this._userDataWriter=new _s(e)}get(e){let i=jr(e);return this._delegate.get(i).then(t=>new Br(this._firestore,new ui(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,i.converter)))}set(e,i,t){let r=jr(e);return t?(Cb("Transaction.set",t),this._delegate.set(r,i,t)):this._delegate.set(r,i),this}update(e,i,t,...r){let o=jr(e);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,t,...r),this}delete(e){let i=jr(e);return this._delegate.delete(i),this}},Au=class{constructor(e){this._delegate=e}set(e,i,t){let r=jr(e);return t?(Cb("WriteBatch.set",t),this._delegate.set(r,i,t)):this._delegate.set(r,i),this}update(e,i,t,...r){let o=jr(e);return arguments.length===2?this._delegate.update(o,i):this._delegate.update(o,i,t,...r),this}delete(e){let i=jr(e);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}},vs=class n{constructor(e,i,t){this._firestore=e,this._userDataWriter=i,this._delegate=t}fromFirestore(e,i){let t=new Rn(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ur(this._firestore,t),i??{})}toFirestore(e,i){return i?this._delegate.toFirestore(e,i):this._delegate.toFirestore(e)}static getInstance(e,i){let t=n.INSTANCES,r=t.get(e);r||(r=new WeakMap,t.set(e,r));let o=r.get(i);return o||(o=new n(e,new _s(e),i),r.set(i,o)),o}};vs.INSTANCES=new WeakMap;var zi=class n{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new _s(e)}static forPath(e,i,t){if(e.length%2!==0)throw new N("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new n(i,new je(i._delegate,t,new G(e)))}static forKey(e,i,t){return new n(i,new je(i._delegate,t,e))}get id(){return this._delegate.id}get parent(){return new ys(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ys(this.firestore,cb(this._delegate,e))}catch(i){throw Ut(i,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ke(e),e instanceof je?lb(this._delegate,e):!1}set(e,i){i=Cb("DocumentReference.set",i);try{return i?gb(this._delegate,e,i):gb(this._delegate,e)}catch(t){throw Ut(t,"setDoc()","DocumentReference.set()")}}update(e,i,...t){try{return arguments.length===1?bb(this._delegate,e):bb(this._delegate,e,i,...t)}catch(r){throw Ut(r,"updateDoc()","DocumentReference.update()")}}delete(){return CI(this._delegate)}onSnapshot(...e){let i=FI(e),t=VI(e,r=>new Br(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return _b(this._delegate,i,t)}get(e){let i;return e?.source==="cache"?i=yI(this._delegate):e?.source==="server"?i=wI(this._delegate):i=vI(this._delegate),i.then(t=>new Br(this.firestore,new ui(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(vs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Ut(n,e,i){return n.message=n.message.replace(e,i),n}function FI(n){for(let e of n)if(typeof e=="object"&&!yb(e))return e;return{}}function VI(n,e){var i,t;let r;return yb(n[0])?r=n[0]:yb(n[1])?r=n[1]:typeof n[0]=="function"?r={next:n[0],error:n[1],complete:n[2]}:r={next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:(i=r.error)===null||i===void 0?void 0:i.bind(r),complete:(t=r.complete)===null||t===void 0?void 0:t.bind(r)}}var Br=class{constructor(e,i){this._firestore=e,this._delegate=i}get ref(){return new zi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,i){return this._delegate.get(e,i)}isEqual(e){return pb(this._delegate,e._delegate)}},Ur=class extends Br{data(e){let i=this._delegate.data(e);return this._delegate._converter||hx(i!==void 0,"Document in a QueryDocumentSnapshot should exist"),i}},zr=class n{constructor(e,i){this.firestore=e,this._delegate=i,this._userDataWriter=new _s(e)}where(e,i,t){try{return new n(this.firestore,on(this._delegate,lI(e,i,t)))}catch(r){throw Ut(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,i){try{return new n(this.firestore,on(this._delegate,dI(e,i)))}catch(t){throw Ut(t,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new n(this.firestore,on(this._delegate,uI(e)))}catch(i){throw Ut(i,"limit()","Query.limit()")}}limitToLast(e){try{return new n(this.firestore,on(this._delegate,hI(e)))}catch(i){throw Ut(i,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new n(this.firestore,on(this._delegate,mI(...e)))}catch(i){throw Ut(i,"startAt()","Query.startAt()")}}startAfter(...e){try{return new n(this.firestore,on(this._delegate,fI(...e)))}catch(i){throw Ut(i,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new n(this.firestore,on(this._delegate,pI(...e)))}catch(i){throw Ut(i,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new n(this.firestore,on(this._delegate,gI(...e)))}catch(i){throw Ut(i,"endAt()","Query.endAt()")}}isEqual(e){return db(this._delegate,e._delegate)}get(e){let i;return e?.source==="cache"?i=EI(this._delegate):e?.source==="server"?i=II(this._delegate):i=xI(this._delegate),i.then(t=>new Ac(this.firestore,new xi(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...e){let i=FI(e),t=VI(e,r=>new Ac(this.firestore,new xi(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return _b(this._delegate,i,t)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(vs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},xb=class{constructor(e,i){this._firestore=e,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Ur(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},Ac=class{constructor(e,i){this._firestore=e,this._delegate=i}get query(){return new zr(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ur(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(i=>new xb(this._firestore,i))}forEach(e,i){this._delegate.forEach(t=>{e.call(i,new Ur(this._firestore,t))})}isEqual(e){return pb(this._delegate,e._delegate)}},ys=class n extends zr{constructor(e,i){super(e,i),this.firestore=e,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new zi(this.firestore,e):null}doc(e){try{return e===void 0?new zi(this.firestore,Tc(this._delegate)):new zi(this.firestore,Tc(this._delegate,e))}catch(i){throw Ut(i,"doc()","CollectionReference.doc()")}}add(e){return TI(this._delegate,e).then(i=>new zi(this.firestore,i))}isEqual(e){return lb(this._delegate,e._delegate)}withConverter(e){return new n(this.firestore,e?this._delegate.withConverter(vs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function jr(n){return xe(n,je)}var Eb=class n{constructor(...e){this._delegate=new wi(...e)}static documentId(){return new n(st.keyField().canonicalString())}isEqual(e){return e=Ke(e),e instanceof wi?this._delegate._internalPath.isEqual(e._internalPath):!1}};var Ib=class n{constructor(e){this._delegate=e}static serverTimestamp(){let e=RI();return e._methodName="FieldValue.serverTimestamp",new n(e)}static delete(){let e=kI();return e._methodName="FieldValue.delete",new n(e)}static arrayUnion(...e){let i=DI(...e);return i._methodName="FieldValue.arrayUnion",new n(i)}static arrayRemove(...e){let i=MI(...e);return i._methodName="FieldValue.arrayRemove",new n(i)}static increment(e){let i=PI(e);return i._methodName="FieldValue.increment",new n(i)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var K1={Firestore:Cu,GeoPoint:Pr,Timestamp:Qe,Blob:Iu,Transaction:Tu,WriteBatch:Au,DocumentReference:zi,DocumentSnapshot:Br,Query:zr,QueryDocumentSnapshot:Ur,QuerySnapshot:Ac,CollectionReference:ys,FieldPath:Eb,FieldValue:Ib,setLogLevel:W1,CACHE_SIZE_UNLIMITED:$E};function Q1(n,e){n.INTERNAL.registerComponent(new dr("firestore-compat",i=>{let t=i.getProvider("app-compat").getImmediate(),r=i.getProvider("firestore").getImmediate();return e(t,r)},"PUBLIC").setServiceProps(Object.assign({},K1)))}function Y1(n){Q1(n,(e,i)=>new Cu(e,i,new wb)),n.registerVersion($1,G1)}Y1(Lt);function X1(n,e=ul){return new zt(i=>{let t;return e!=null?e.schedule(()=>{t=n.onSnapshot({includeMetadataChanges:!0},i)}):t=n.onSnapshot({includeMetadataChanges:!0},i),()=>{t?.()}})}function LI(n,e){return X1(n,e)}function Z1(n,e){return LI(n,e).pipe(oi(void 0),Xs(),X(i=>{let[t,r]=i;return r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))}function Sb(n,e){return LI(n,e).pipe(X(i=>({payload:i,type:"query"})))}var Su=class{ref;afs;constructor(e,i){this.ref=e,this.afs=i}set(e,i){return this.ref.set(e,i)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,i){let t=this.ref.collection(e),{ref:r,query:o}=qI(t,i);return new Ru(r,o,this.afs)}snapshotChanges(){return Z1(this.ref,this.afs.schedulers.outsideAngular).pipe($t)}valueChanges(e={}){return this.snapshotChanges().pipe(X(({payload:i})=>e.idField?Ce(j({},i.data()),{[e.idField]:i.id}):i.data()))}get(e){return Ge(this.ref.get(e)).pipe($t)}};function ku(n,e){return Sb(n,e).pipe(oi(void 0),Xs(),X(i=>{let[t,r]=i,o=r.payload.docChanges(),s=o.map(a=>({type:a.type,payload:a}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((a,l)=>{let d=o.find(f=>f.doc.ref.isEqual(a.ref)),h=t?.payload.docs.find(f=>f.ref.isEqual(a.ref));d&&JSON.stringify(d.doc.metadata)===JSON.stringify(a.metadata)||!d&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||s.push({type:"modified",payload:{oldIndex:l,newIndex:l,type:"modified",doc:a}})}),s}))}function jI(n,e,i){return ku(n,i).pipe(no((t,r)=>J1(t,r.map(o=>o.payload),e),[]),ir(),X(t=>t.map(r=>({type:r.type,payload:r}))))}function J1(n,e,i){return e.forEach(t=>{i.indexOf(t.type)>-1&&(n=eM(n,t))}),n}function Tb(n,e,i,...t){let r=n.slice();return r.splice(e,i,...t),r}function eM(n,e){switch(e.type){case"added":if(!(n[e.newIndex]&&n[e.newIndex].doc.ref.isEqual(e.doc.ref)))return Tb(n,e.newIndex,0,e);break;case"modified":if(n[e.oldIndex]==null||n[e.oldIndex].doc.ref.isEqual(e.doc.ref))if(e.oldIndex!==e.newIndex){let i=n.slice();return i.splice(e.oldIndex,1),i.splice(e.newIndex,0,e),i}else return Tb(n,e.newIndex,1,e);break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Tb(n,e.oldIndex,1);break}return n}function BI(n){return(!n||n.length===0)&&(n=["added","removed","modified"]),n}var Ru=class{ref;query;afs;constructor(e,i,t){this.ref=e,this.query=i,this.afs=t}stateChanges(e){let i=ku(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(i=i.pipe(X(t=>t.filter(r=>e.indexOf(r.type)>-1)))),i.pipe(oi(void 0),Xs(),ze(([t,r])=>r.length>0||!t),X(([,t])=>t),$t)}auditTrail(e){return this.stateChanges(e).pipe(no((i,t)=>[...i,...t],[]))}snapshotChanges(e){let i=BI(e);return jI(this.query,i,this.afs.schedulers.outsideAngular).pipe($t)}valueChanges(e={}){return Sb(this.query,this.afs.schedulers.outsideAngular).pipe(X(i=>i.payload.docs.map(t=>e.idField?Ce(j({},t.data()),{[e.idField]:t.id}):t.data())),$t)}get(e){return Ge(this.query.get(e)).pipe($t)}add(e){return this.ref.add(e)}doc(e){return new Su(this.ref.doc(e),this.afs)}},Ab=class{query;afs;constructor(e,i){this.query=e,this.afs=i}stateChanges(e){return!e||e.length===0?ku(this.query,this.afs.schedulers.outsideAngular).pipe($t):ku(this.query,this.afs.schedulers.outsideAngular).pipe(X(i=>i.filter(t=>e.indexOf(t.type)>-1)),ze(i=>i.length>0),$t)}auditTrail(e){return this.stateChanges(e).pipe(no((i,t)=>[...i,...t],[]))}snapshotChanges(e){let i=BI(e);return jI(this.query,i,this.afs.schedulers.outsideAngular).pipe($t)}valueChanges(e={}){return Sb(this.query,this.afs.schedulers.outsideAngular).pipe(X(t=>t.payload.docs.map(r=>e.idField?j({[e.idField]:r.id},r.data()):r.data())),$t)}get(e){return Ge(this.query.get(e)).pipe($t)}},UI=new W("angularfire2.enableFirestorePersistence"),zI=new W("angularfire2.firestore.persistenceSettings"),tM=new W("angularfire2.firestore.settings"),iM=new W("angularfire2.firestore.use-emulator");function qI(n,e=i=>i){return{query:e(n),ref:n}}var Sc=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(i,t,r,o,s,a,l,d,h,f,g,_,S,P,D,$,Y){this.schedulers=l;let B=La(i,a,t),oe=h;f&&Cf(B,a,g,S,P,D,_,$),[this.firestore,this.persistenceEnabled$]=ad(`${B.name}.firestore`,"AngularFirestore",B.name,()=>{let ce=a.runOutsideAngular(()=>B.firestore());if(o&&ce.settings(o),oe&&ce.useEmulator(...oe),r&&!lr(s)){let le=()=>{try{return Ge(ce.enablePersistence(d||void 0).then(()=>!0,()=>!1))}catch(w){return typeof console<"u"&&console.warn(w),Q(!1)}};return[ce,a.runOutsideAngular(le)]}else return[ce,Q(!1)]},[o,oe,r])}collection(i,t){let r;typeof i=="string"?r=this.firestore.collection(i):r=i;let{ref:o,query:s}=qI(r,t),a=this.schedulers.ngZone.run(()=>o);return new Ru(a,s,this)}collectionGroup(i,t){let r=t||(s=>s),o=this.firestore.collectionGroup(i);return new Ab(r(o),this)}doc(i){let t;typeof i=="string"?t=this.firestore.doc(i):t=i;let r=this.schedulers.ngZone.run(()=>t);return new Su(r,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(t){return new(t||n)(T(Mo),T(Po,8),T(UI,8),T(tM,8),T(Qt),T(Z),T(rd),T(zI,8),T(iM,8),T(ja,8),T(vf,8),T(yf,8),T(wf,8),T(xf,8),T(Ef,8),T(If,8),T(pr,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),$I=(()=>{class n{constructor(){Lt.registerVersion("angularfire",gr.full,"fst-compat")}static enablePersistence(i){return{ngModule:n,providers:[{provide:UI,useValue:!0},{provide:zI,useValue:i}]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=te({providers:[Sc]})}return n})();var HI=(()=>{let e=class e{constructor(t){this.firestore=t}getProducts(){return this.firestore.collection("productos").valueChanges({idField:"id"})}};e.\u0275fac=function(r){return new(r||e)(T(Sc))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function rM(n,e){if(n&1){let i=si();L(0,"section",3),ae(1,"img",4),L(2,"section",5)(3,"h2",6),J(4),V(),L(5,"p",7),J(6),V(),L(7,"button",8),De("click",function(){let r=Xe(i).$implicit,o=Ne();return Ze(o.addToCart(r))}),J(8,"Add to Cart"),V()()()}if(n&2){let i=e.$implicit;re(),Ie("src",i.img,ty),re(3),Si(i.name),re(2),Si(i.price)}}var WI=(()=>{let e=class e{constructor(t,r){this.cartService=t,this.fireDatabase=r,this.products=[]}addToCart(t){this.cartService.addProduct(t)}ngOnInit(){this.fireDatabase.getProducts().subscribe(t=>{console.log(t),this.products=t})}};e.\u0275fac=function(r){return new(r||e)(O($0),O(HI))},e.\u0275cmp=ve({type:e,selectors:[["app-principal"]],decls:5,vars:1,consts:[[1,"p-5"],[1,"container"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],["alt","",1,"product-card__img",3,"src"],[1,"product-card__description"],[1,"product-card__name"],[1,"product-card__price"],[1,"product-card__add-btn",3,"click"]],template:function(r,o){r&1&&(L(0,"div",0)(1,"h1"),J(2,"Products"),V(),L(3,"section",1),Ae(4,rM,9,3,"section",2),V()()),r&2&&(re(4),Ie("ngForOf",o.products))},dependencies:[Ey],styles:['@charset "UTF-8";.product-card[_ngcontent-%COMP%]{display:flex;flex-direction:row;box-shadow:0 4px 4px #00000040;width:100%;height:151px;padding:12px;gap:10px;border-radius:15px;opacity:0px}@media (min-width: 550px){.product-card[_ngcontent-%COMP%]{flex-direction:column;width:250px;height:323px}}.product-card__description[_ngcontent-%COMP%]{display:flex;flex-direction:column}.product-card__name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;line-height:17.07px;text-align:left;color:#000f4973}.product-card__price[_ngcontent-%COMP%]{font-size:16px;font-weight:700;line-height:19.5px;text-align:left;color:var(--cetacean)}.product-card__img[_ngcontent-%COMP%]{object-fit:contain;object-position:center;width:40%;height:100%}@media (min-width: 550px){.product-card__img[_ngcontent-%COMP%]{width:256px;height:164px}}.container[_ngcontent-%COMP%]{width:100%;max-width:1200px;margin:auto;display:flex;align-items:center;place-content:center;gap:10px;flex-wrap:wrap}']});let n=e;return n})();var KI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ve({type:e,selectors:[["app-cart"]],decls:2,vars:0,template:function(r,o){r&1&&(L(0,"p"),J(1,"cart works!"),V())}});let n=e;return n})();var QI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ve({type:e,selectors:[["app-order-confirmed"]],decls:2,vars:0,template:function(r,o){r&1&&(L(0,"p"),J(1,"order-confirmed works!"),V())}});let n=e;return n})();var YI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ve({type:e,selectors:[["app-order-history"]],decls:2,vars:0,template:function(r,o){r&1&&(L(0,"p"),J(1,"order-history works!"),V())}});let n=e;return n})();var Rb;try{Rb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Rb=!1}var Be=(()=>{let e=class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Ty(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Rb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(T(Qt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var ws,XI=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Db(){if(ws)return ws;if(typeof document!="object"||!document)return ws=new Set(XI),ws;let n=document.createElement("input");return ws=new Set(XI.filter(e=>(n.setAttribute("type",e),n.type===e))),ws}var kc;function oM(){if(kc==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kc=!0}))}finally{kc=kc||!1}return kc}function $n(n){return oM()?n:!!n.capture}var qr;function ZI(){if(qr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return qr=!1,qr;if("scrollBehavior"in document.documentElement.style)qr=!0;else{let n=Element.prototype.scrollTo;n?qr=!/\{\s*\[native code\]\s*\}/.test(n.toString()):qr=!1}}return qr}var kb;function sM(){if(kb==null){let n=typeof document<"u"?document.head:null;kb=!!(n&&(n.createShadowRoot||n.attachShadow))}return kb}function JI(n){if(sM()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ri(n){return n.composedPath?n.composedPath()[0]:n.target}function Rc(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function an(n,...e){return e.length?e.some(i=>n[i]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function $r(n){return n!=null&&`${n}`!="false"}function xs(n){return Array.isArray(n)?n:[n]}function ct(n){return n==null?"":typeof n=="string"?n:`${n}px`}function hi(n){return n instanceof pe?n.nativeElement:n}var aM=(()=>{let e=class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var eC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({providers:[aM]});let n=e;return n})();var tC=new Set,Gr,cM=(()=>{let e=class e{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):dM}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&lM(t,this._nonce),this._matchMedia(t)}};e.\u0275fac=function(r){return new(r||e)(T(Be),T(ea,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function lM(n,e){if(!tC.has(n))try{Gr||(Gr=document.createElement("style"),e&&Gr.setAttribute("nonce",e),Gr.setAttribute("type","text/css"),document.head.appendChild(Gr)),Gr.sheet&&(Gr.sheet.insertRule(`@media ${n} {body{ }}`,0),tC.add(n))}catch(i){console.error(i)}}function dM(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var nC=(()=>{let e=class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new se}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return iC(xs(t)).some(o=>this._registerQuery(o).mql.matches)}observe(t){let o=iC(xs(t)).map(a=>this._registerQuery(a).observable),s=io(o);return s=ml(s.pipe(Kt(1)),s.pipe(gl(1),pl(0))),s.pipe(X(a=>{let l={matches:!1,breakpoints:{}};return a.forEach(({matches:d,query:h})=>{l.matches=l.matches||d,l.breakpoints[h]=d}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),s={observable:new zt(a=>{let l=d=>this._zone.run(()=>a.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(oi(r),X(({matches:a})=>({query:t,matches:a})),nt(this._destroySubject)),mql:r};return this._queries.set(t,s),s}};e.\u0275fac=function(r){return new(r||e)(T(cM),T(Z))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function iC(n){return n.map(e=>e.split(",")).reduce((e,i)=>e.concat(i)).map(e=>e.trim())}var sC=" ";function aC(n,e,i){let t=cC(n,e);i=i.trim(),!t.some(r=>r.trim()===i)&&(t.push(i),n.setAttribute(e,t.join(sC)))}function Vb(n,e,i){let t=cC(n,e);i=i.trim();let r=t.filter(o=>o!==i);r.length?n.setAttribute(e,r.join(sC)):n.removeAttribute(e)}function cC(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var Pb=class{constructor(e,i){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new se,this._typeaheadSubscription=kt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new se,this.change=new se,e instanceof Yh?this._itemChangesSubscription=e.changes.subscribe(t=>this._itemsChanged(t.toArray())):Jh(e)&&(this._effectRef=fy(()=>this._itemsChanged(e()),{injector:i}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(qe(i=>this._pressedLetters.push(i)),pl(e),ze(()=>this._pressedLetters.length>0),X(()=>this._pressedLetters.join(""))).subscribe(i=>{let t=this._getItemsArray();for(let r=1;r<t.length+1;r++){let o=(this._activeItemIndex+r)%t.length,s=t[o];if(!this._skipPredicateFn(s)&&s.getLabel().toUpperCase().trim().indexOf(i)===0){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,i=10){return this._pageUpAndDown={enabled:e,delta:i},this}setActiveItem(e){let i=this._activeItem;this.updateActiveItem(e),this._activeItem!==i&&this.change.next(this._activeItemIndex)}onKeydown(e){let i=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(i){case 9:this.tabOut.next();return;case 40:if(this._vertical&&r){this.setNextItemActive();break}else return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&r){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&r){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&r){let o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(r||an(e,"shiftKey"))&&(e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(i>=65&&i<=90||i>=48&&i<=57)&&this._letterKeyStream.next(String.fromCharCode(i)));return}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let i=this._getItemsArray(),t=typeof e=="number"?e:i.indexOf(e),r=i[t];this._activeItem=r??null,this._activeItemIndex=t}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let i=this._getItemsArray();for(let t=1;t<=i.length;t++){let r=(this._activeItemIndex+e*t+i.length)%i.length,o=i[r];if(!this._skipPredicateFn(o)){this.setActiveItem(r);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,i){let t=this._getItemsArray();if(t[e]){for(;this._skipPredicateFn(t[e]);)if(e+=i,!t[e])return;this.setActiveItem(e)}}_getItemsArray(){return Jh(this._items)?this._items():this._items instanceof Yh?this._items.toArray():this._items}_itemsChanged(e){if(this._activeItem){let i=e.indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}}},Pu=class extends Pb{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};function Lb(n){return n.buttons===0||n.detail===0}function jb(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var IM=new W("cdk-input-modality-detector-options"),CM={ignoreKeys:[18,17,224,91,16]},lC=650,Es=$n({passive:!0,capture:!0}),TM=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(t,r,o,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Rt(null),this._lastTouchMs=0,this._onKeydown=a=>{this._options?.ignoreKeys?.some(l=>l===a.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ri(a))},this._onMousedown=a=>{Date.now()-this._lastTouchMs<lC||(this._modality.next(Lb(a)?"keyboard":"mouse"),this._mostRecentTarget=ri(a))},this._onTouchstart=a=>{if(jb(a)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ri(a)},this._options=j(j({},CM),s),this.modalityDetected=this._modality.pipe(gl(1)),this.modalityChanged=this.modalityDetected.pipe(ir()),t.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Es),o.addEventListener("mousedown",this._onMousedown,Es),o.addEventListener("touchstart",this._onTouchstart,Es)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Es),document.removeEventListener("mousedown",this._onMousedown,Es),document.removeEventListener("touchstart",this._onTouchstart,Es))}};e.\u0275fac=function(r){return new(r||e)(T(Be),T(Z),T(ue),T(IM,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),AM=new W("liveAnnouncerElement",{providedIn:"root",factory:SM});function SM(){return null}var kM=new W("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),RM=0,dC=(()=>{let e=class e{constructor(t,r,o,s){this._ngZone=r,this._defaultOptions=s,this._document=o,this._liveElement=t||this._createLiveElement()}announce(t,...r){let o=this._defaultOptions,s,a;return r.length===1&&typeof r[0]=="number"?a=r[0]:[s,a]=r,this.clear(),clearTimeout(this._previousTimeout),s||(s=o&&o.politeness?o.politeness:"polite"),a==null&&o&&(a=o.duration),this._liveElement.setAttribute("aria-live",s),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(l=>this._currentResolve=l)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof a=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),a)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),o=this._document.createElement("div");for(let s=0;s<r.length;s++)r[s].remove();return o.classList.add(t),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id=`cdk-live-announcer-${RM++}`,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){let s=r[o],a=s.getAttribute("aria-owns");a?a.indexOf(t)===-1&&s.setAttribute("aria-owns",a+" "+t):s.setAttribute("aria-owns",t)}}};e.\u0275fac=function(r){return new(r||e)(T(AM,8),T(Z),T(ue),T(kM,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Mu=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Mu||{}),DM=new W("cdk-focus-monitor-default-options"),Du=$n({passive:!0,capture:!0}),uC=(()=>{let e=class e{constructor(t,r,o,s,a){this._ngZone=t,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new se,this._rootNodeFocusAndBlurListener=l=>{let d=ri(l);for(let h=d;h;h=h.parentElement)l.type==="focus"?this._onFocus(l,h):this._onBlur(l,h)},this._document=s,this._detectionMode=a?.detectionMode||Mu.IMMEDIATE}monitor(t,r=!1){let o=hi(t);if(!this._platform.isBrowser||o.nodeType!==1)return Q();let s=JI(o)||this._getDocument(),a=this._elementInfo.get(o);if(a)return r&&(a.checkChildren=!0),a.subject;let l={checkChildren:r,subject:new se,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){let r=hi(t),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(t,r,o){let s=hi(t),a=this._getDocument().activeElement;s===a?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===Mu.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===Mu.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?lC:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(t,r){let o=this._elementInfo.get(r),s=ri(t);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(t,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Du),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Du)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(nt(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Du),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Du),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,o){this._setClasses(t,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((o,s)=>{(s===t||o.checkChildren&&s.contains(t))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let s=t.labels;if(s){for(let a=0;a<s.length;a++)if(s[a].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(T(Z),T(Be),T(TM),T(ue,8),T(DM,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Hr=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Hr||{}),rC="cdk-high-contrast-black-on-white",oC="cdk-high-contrast-white-on-black",Mb="cdk-high-contrast-active",hC=(()=>{let e=class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=q(nC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Hr.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Hr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Hr.BLACK_ON_WHITE}return Hr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(Mb,rC,oC),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===Hr.BLACK_ON_WHITE?t.add(Mb,rC):r===Hr.WHITE_ON_BLACK&&t.add(Mb,oC)}}};e.\u0275fac=function(r){return new(r||e)(T(Be),T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var MM=new W("cdk-dir-doc",{providedIn:"root",factory:PM});function PM(){return q(ue)}var OM=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function NM(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?OM.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Wr=(()=>{let e=class e{constructor(t){if(this.value="ltr",this.change=new Te,t){let r=t.body?t.body.dir:null,o=t.documentElement?t.documentElement.dir:null;this.value=NM(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(T(MM,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var Gn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({});let n=e;return n})();var FM=["text"],VM=[[["mat-icon"]],"*"],LM=["mat-icon","*"];function jM(n,e){if(n&1&&ae(0,"mat-pseudo-checkbox",1),n&2){let i=Ne();Ie("disabled",i.disabled)("state",i.selected?"checked":"unchecked")}}function BM(n,e){if(n&1&&ae(0,"mat-pseudo-checkbox",3),n&2){let i=Ne();Ie("disabled",i.disabled)}}function UM(n,e){if(n&1&&(L(0,"span",4),J(1),V()),n&2){let i=Ne();re(),na("(",i.group.label,")")}}var zM=["mat-internal-form-field",""],qM=["*"];function $M(){return!0}var GM=new W("mat-sanity-checks",{providedIn:"root",factory:$M}),it=(()=>{let e=class e{constructor(t,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return Rc()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[t]}};e.\u0275fac=function(r){return new(r||e)(T(hC),T(GM,8),T(ue))},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[Gn,Gn]});let n=e;return n})();var Is=class{constructor(e,i,t,r,o){this._defaultMatcher=e,this.ngControl=i,this._parentFormGroup=t,this._parentForm=r,this._stateChanges=o,this.errorState=!1}updateErrorState(){let e=this.errorState,i=this._parentFormGroup||this._parentForm,t=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,o=t?.isErrorState(r,i)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var ju=(()=>{let e=class e{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var mi=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(mi||{}),qb=class{constructor(e,i,t,r=!1){this._renderer=e,this.element=i,this.config=t,this._animationForciblyDisabledThroughCss=r,this.state=mi.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},fC=$n({passive:!0,capture:!0}),$b=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let i=ri(e);i&&this._events.get(e.type)?.forEach((t,r)=>{(r===i||r.contains(i))&&t.forEach(o=>o.handleEvent(e))})}}addHandler(e,i,t,r){let o=this._events.get(i);if(o){let s=o.get(t);s?s.add(r):o.set(t,new Set([r]))}else this._events.set(i,new Map([[t,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,fC)})}removeHandler(e,i,t){let r=this._events.get(e);if(!r)return;let o=r.get(i);o&&(o.delete(t),o.size===0&&r.delete(i),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,fC)))}},pC={enterDuration:225,exitDuration:150},HM=800,gC=$n({passive:!0,capture:!0}),bC=["mousedown","touchstart"],_C=["mouseup","mouseleave","touchend","touchcancel"],Dc=class Dc{constructor(e,i,t,r){this._target=e,this._ngZone=i,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=hi(t))}fadeInRipple(e,i,t={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=j(j({},pC),t.animation);t.centered&&(e=r.left+r.width/2,i=r.top+r.height/2);let s=t.radius||WM(e,i,r),a=e-r.left,l=i-r.top,d=o.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=`${a-s}px`,h.style.top=`${l-s}px`,h.style.height=`${s*2}px`,h.style.width=`${s*2}px`,t.color!=null&&(h.style.backgroundColor=t.color),h.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(h);let f=window.getComputedStyle(h),g=f.transitionProperty,_=f.transitionDuration,S=g==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,P=new qb(this,h,t,S);h.style.transform="scale3d(1, 1, 1)",P.state=mi.FADING_IN,t.persistent||(this._mostRecentTransientRipple=P);let D=null;return!S&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let $=()=>this._finishRippleTransition(P),Y=()=>this._destroyRipple(P);h.addEventListener("transitionend",$),h.addEventListener("transitioncancel",Y),D={onTransitionEnd:$,onTransitionCancel:Y}}),this._activeRipples.set(P,D),(S||!d)&&this._finishRippleTransition(P),P}fadeOutRipple(e){if(e.state===mi.FADING_OUT||e.state===mi.HIDDEN)return;let i=e.element,t=j(j({},pC),e.config.animation);i.style.transitionDuration=`${t.exitDuration}ms`,i.style.opacity="0",e.state=mi.FADING_OUT,(e._animationForciblyDisabledThroughCss||!t.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let i=hi(e);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,bC.forEach(t=>{Dc._eventManager.addHandler(this._ngZone,t,i,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{_C.forEach(i=>{this._triggerElement.addEventListener(i,this,gC)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===mi.FADING_IN?this._startFadeOutTransition(e):e.state===mi.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let i=e===this._mostRecentTransientRipple,{persistent:t}=e.config;e.state=mi.VISIBLE,!t&&(!i||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let i=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=mi.HIDDEN,i!==null&&(e.element.removeEventListener("transitionend",i.onTransitionEnd),e.element.removeEventListener("transitioncancel",i.onTransitionCancel)),e.element.remove()}_onMousedown(e){let i=Lb(e),t=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+HM;!this._target.rippleDisabled&&!i&&!t&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!jb(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=e.changedTouches;if(i)for(let t=0;t<i.length;t++)this.fadeInRipple(i[t].clientX,i[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let i=e.state===mi.VISIBLE||e.config.terminateOnPointerUp&&e.state===mi.FADING_IN;!e.config.persistent&&i&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(bC.forEach(i=>Dc._eventManager.removeHandler(i,e,this)),this._pointerUpEventsRegistered&&(_C.forEach(i=>e.removeEventListener(i,this,gC)),this._pointerUpEventsRegistered=!1))}};Dc._eventManager=new $b;var Gb=Dc;function WM(n,e,i){let t=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),r=Math.max(Math.abs(e-i.top),Math.abs(e-i.bottom));return Math.sqrt(t*t+r*r)}var EC=new W("mat-ripple-global-options"),Mc=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,o,s,a){this._elementRef=t,this._animationMode=a,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Gb(this,r,t,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:j(j(j({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,o){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,j(j({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,j(j({},this.rippleConfig),t))}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Z),O(Be),O(EC,8),O(Et,8))},e.\u0275dir=ge({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&Oe("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let n=e;return n})(),Wb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[it,it]});let n=e;return n})(),KM=(()=>{let e=class e{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1,this.appearance="full"}};e.\u0275fac=function(r){return new(r||e)(O(Et,8))},e.\u0275cmp=ve({type:e,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){r&2&&Oe("mat-pseudo-checkbox-indeterminate",o.state==="indeterminate")("mat-pseudo-checkbox-checked",o.state==="checked")("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal",o.appearance==="minimal")("mat-pseudo-checkbox-full",o.appearance==="full")("_mat-animation-noopable",o._animationMode==="NoopAnimations")},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[_t],decls:0,vars:0,template:function(r,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0});let n=e;return n})(),QM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[it]});let n=e;return n})(),Kb=new W("MAT_OPTION_PARENT_COMPONENT");var Qb=new W("MatOptgroup");var YM=0,Hb=class{constructor(e,i=!1){this.source=e,this.isUserInput=i}},Bu=(()=>{let e=class e{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=t}get disableRipple(){return!!(this._parent&&this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}constructor(t,r,o,s){this._element=t,this._changeDetectorRef=r,this._parent=o,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${YM++}`,this.onSelectionChange=new Te,this._stateChanges=new se}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,r){let o=this._getHostElement();typeof o.focus=="function"&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!an(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Hb(this,t))}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Jt),O(Kb,8),O(Qb,8))},e.\u0275cmp=ve({type:e,selectors:[["mat-option"]],viewQuery:function(r,o){if(r&1&&ft(FM,7),r&2){let s;Se(s=ke())&&(o._text=s.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,o){r&1&&De("click",function(){return o._selectViaInteraction()})("keydown",function(a){return o._handleKeydown(a)}),r&2&&(Wi("id",o.id),Je("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),Oe("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",_e]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[gt,_t],ngContentSelectors:LM,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){r&1&&(Vt(VM),Ae(0,jM,1,2,"mat-pseudo-checkbox",1),Ve(1),L(2,"span",2,0),Ve(4,1),V(),Ae(5,BM,1,1,"mat-pseudo-checkbox",3)(6,UM,2,1,"span",4),ae(7,"div",5)),r&2&&(rt(o.multiple?0:-1),re(5),rt(!o.multiple&&o.selected&&!o.hideSingleSelectionIndicator?5:-1),re(),rt(o.group&&o.group._inert?6:-1),re(),Ie("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[KM,Mc],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();function IC(n,e,i){if(i.length){let t=e.toArray(),r=i.toArray(),o=0;for(let s=0;s<n+1;s++)t[s].group&&t[s].group===r[o]&&o++;return o}return 0}function CC(n,e,i,t){return n<i?n:n+e>i+t?Math.max(0,n-t+e):i}var Yb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[Wb,it,QM]});let n=e;return n})(),vC={capture:!0},yC=["focus","mousedown","mouseenter","touchstart"],Ub="mat-ripple-loader-uninitialized",zb="mat-ripple-loader-class-name",wC="mat-ripple-loader-centered",Fu="mat-ripple-loader-disabled",TC=(()=>{let e=class e{constructor(){this._document=q(ue,{optional:!0}),this._animationMode=q(Et,{optional:!0}),this._globalRippleOptions=q(EC,{optional:!0}),this._platform=q(Be),this._ngZone=q(Z),this._hosts=new Map,this._onInteraction=t=>{let r=ri(t);if(r instanceof HTMLElement){let o=r.closest(`[${Ub}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(let t of yC)this._document?.addEventListener(t,this._onInteraction,vC)})}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);for(let r of yC)this._document?.removeEventListener(r,this._onInteraction,vC)}configureRipple(t,r){t.setAttribute(Ub,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(zb))&&t.setAttribute(zb,r.className||""),r.centered&&t.setAttribute(wC,""),r.disabled&&t.setAttribute(Fu,"")}getRipple(t){return this._hosts.get(t)||this._createRipple(t)}setDisabled(t,r){let o=this._hosts.get(t);if(o){o.disabled=r;return}r?t.setAttribute(Fu,""):t.removeAttribute(Fu)}_createRipple(t){if(!this._document)return;let r=this._hosts.get(t);if(r)return r;t.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",t.getAttribute(zb)),t.append(o);let s=new Mc(new pe(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=t,s.centered=t.hasAttribute(wC),s.disabled=t.hasAttribute(Fu),this.attachRipple(t,s),s}attachRipple(t,r){t.removeAttribute(Ub),this._hosts.set(t,r)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.ngOnDestroy(),this._hosts.delete(t))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),AC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ve({type:e,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){r&2&&Oe("mdc-form-field--align-end",o.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[_t],attrs:zM,ngContentSelectors:qM,decls:1,vars:0,template:function(r,o){r&1&&(Vt(),Ve(0))},styles:[".mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}"],encapsulation:2,changeDetection:0});let n=e;return n})();var XM=["mat-button",""],ZM=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],JM=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var eP=new W("MAT_BUTTON_CONFIG");var tP=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],iP=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}constructor(t,r,o,s){this._elementRef=t,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=q(uC),this._rippleLoader=q(TC),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let a=q(eP,{optional:!0}),l=t.nativeElement,d=l.classList;this.disabledInteractive=a?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:h,mdcClasses:f}of tP)l.hasAttribute(h)&&d.add(...f)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){co()},e.\u0275dir=ge({type:e,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",_e],disabled:[2,"disabled","disabled",_e],ariaDisabled:[2,"aria-disabled","ariaDisabled",_e],disabledInteractive:[2,"disabledInteractive","disabledInteractive",_e]},features:[gt]});let n=e;return n})();var Cs=(()=>{let e=class e extends iP{constructor(t,r,o,s){super(t,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Be),O(Z),O(Et,8))},e.\u0275cmp=ve({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Je("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),mo(o.color?"mat-"+o.color:""),Oe("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[Xt,_t],attrs:XM,ngContentSelectors:JM,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(Vt(ZM),ae(0,"span",0),Ve(1),L(2,"span",1),Ve(3,1),V(),Ve(4,2),ae(5,"span",2)(6,"span",3)),r&2&&Oe("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let n=e;return n})();var Zb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[it,Wb,it]});let n=e;return n})();var SC=$n({passive:!0}),kC=(()=>{let e=class e{constructor(t,r){this._platform=t,this._ngZone=r,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ei;let r=hi(t),o=this._monitoredElements.get(r);if(o)return o.subject;let s=new se,a="cdk-text-field-autofilled",l=d=>{d.animationName==="cdk-text-field-autofill-start"&&!r.classList.contains(a)?(r.classList.add(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!0}))):d.animationName==="cdk-text-field-autofill-end"&&r.classList.contains(a)&&(r.classList.remove(a),this._ngZone.run(()=>s.next({target:d.target,isAutofilled:!1})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",l,SC),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:s,unlisten:()=>{r.removeEventListener("animationstart",l,SC)}}),s}stopMonitoring(t){let r=hi(t),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((t,r)=>this.stopMonitoring(r))}};e.\u0275fac=function(r){return new(r||e)(T(Be),T(Z))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var RC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({});let n=e;return n})();var VC=(()=>{let e=class e{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}};e.\u0275fac=function(r){return new(r||e)(O(ia),O(pe))},e.\u0275dir=ge({type:e});let n=e;return n})(),rP=(()=>{let e=class e extends VC{};e.\u0275fac=(()=>{let t;return function(o){return(t||(t=or(e)))(o||e)}})(),e.\u0275dir=ge({type:e,features:[Xt]});let n=e;return n})(),Qu=new W("");var oP={provide:Qu,useExisting:rr(()=>Yu),multi:!0};function sP(){let n=ar()?ar().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var aP=new W(""),Yu=(()=>{let e=class e extends VC{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!sP())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}};e.\u0275fac=function(r){return new(r||e)(O(ia),O(pe),O(aP,8))},e.\u0275dir=ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&De("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[bt([oP]),Xt]});let n=e;return n})();function Hn(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function LC(n){return n!=null&&typeof n.length=="number"}var Lc=new W(""),r_=new W(""),cP=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,cn=class{static min(e){return lP(e)}static max(e){return dP(e)}static required(e){return uP(e)}static requiredTrue(e){return hP(e)}static email(e){return mP(e)}static minLength(e){return fP(e)}static maxLength(e){return pP(e)}static pattern(e){return gP(e)}static nullValidator(e){return jC(e)}static compose(e){return GC(e)}static composeAsync(e){return HC(e)}};function lP(n){return e=>{if(Hn(e.value)||Hn(n))return null;let i=parseFloat(e.value);return!isNaN(i)&&i<n?{min:{min:n,actual:e.value}}:null}}function dP(n){return e=>{if(Hn(e.value)||Hn(n))return null;let i=parseFloat(e.value);return!isNaN(i)&&i>n?{max:{max:n,actual:e.value}}:null}}function uP(n){return Hn(n.value)?{required:!0}:null}function hP(n){return n.value===!0?null:{required:!0}}function mP(n){return Hn(n.value)||cP.test(n.value)?null:{email:!0}}function fP(n){return e=>Hn(e.value)||!LC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function pP(n){return e=>LC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function gP(n){if(!n)return jC;let e,i;return typeof n=="string"?(i="",n.charAt(0)!=="^"&&(i+="^"),i+=n,n.charAt(n.length-1)!=="$"&&(i+="$"),e=new RegExp(i)):(i=n.toString(),e=n),t=>{if(Hn(t.value))return null;let r=t.value;return e.test(r)?null:{pattern:{requiredPattern:i,actualValue:r}}}}function jC(n){return null}function BC(n){return n!=null}function UC(n){return Il(n)?Ge(n):n}function zC(n){let e={};return n.forEach(i=>{e=i!=null?j(j({},e),i):e}),Object.keys(e).length===0?null:e}function qC(n,e){return e.map(i=>i(n))}function bP(n){return!n.validate}function $C(n){return n.map(e=>bP(e)?e:i=>e.validate(i))}function GC(n){if(!n)return null;let e=n.filter(BC);return e.length==0?null:function(i){return zC(qC(i,e))}}function o_(n){return n!=null?GC($C(n)):null}function HC(n){if(!n)return null;let e=n.filter(BC);return e.length==0?null:function(i){let t=qC(i,e).map(UC);return fl(t).pipe(X(zC))}}function s_(n){return n!=null?HC($C(n)):null}function DC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WC(n){return n._rawValidators}function KC(n){return n._rawAsyncValidators}function e_(n){return n?Array.isArray(n)?n:[n]:[]}function zu(n,e){return Array.isArray(n)?n.includes(e):n===e}function MC(n,e){let i=e_(e);return e_(n).forEach(r=>{zu(i,r)||i.push(r)}),i}function PC(n,e){return e_(e).filter(i=>!zu(n,i))}var qu=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=o_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=s_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,i){return this.control?this.control.hasError(e,i):!1}getError(e,i){return this.control?this.control.getError(e,i):null}},Wn=class extends qu{get formDirective(){return null}get path(){return null}},ln=class extends qu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},$u=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},_P={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j2=Ce(j({},_P),{"[class.ng-submitted]":"isSubmitted"}),QC=(()=>{let e=class e extends $u{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(O(ln,2))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Xt]});let n=e;return n})(),Xu=(()=>{let e=class e extends $u{constructor(t){super(t)}};e.\u0275fac=function(r){return new(r||e)(O(Wn,10))},e.\u0275dir=ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Oe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Xt]});let n=e;return n})();var Pc="VALID",Uu="INVALID",Ts="PENDING",Oc="DISABLED",Kn=class{},Gu=class extends Kn{constructor(e,i){super(),this.value=e,this.source=i}},Fc=class extends Kn{constructor(e,i){super(),this.pristine=e,this.source=i}},Vc=class extends Kn{constructor(e,i){super(),this.touched=e,this.source=i}},As=class extends Kn{constructor(e,i){super(),this.status=e,this.source=i}},t_=class extends Kn{constructor(e){super(),this.source=e}},i_=class extends Kn{constructor(e){super(),this.source=e}};function YC(n){return(Zu(n)?n.validators:n)||null}function vP(n){return Array.isArray(n)?o_(n):n||null}function XC(n,e){return(Zu(e)?e.asyncValidators:n)||null}function yP(n){return Array.isArray(n)?s_(n):n||null}function Zu(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function wP(n,e,i){let t=n.controls;if(!(e?Object.keys(t):t).length)throw new Pe(1e3,"");if(!t[i])throw new Pe(1001,"")}function xP(n,e,i){n._forEachChild((t,r)=>{if(i[r]===void 0)throw new Pe(1002,"")})}var Hu=class{constructor(e,i){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._events=new se,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(i)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Pc}get invalid(){return this.status===Uu}get pending(){return this.status==Ts}get disabled(){return this.status===Oc}get enabled(){return this.status!==Oc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(MC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(MC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PC(e,this._rawAsyncValidators))}hasValidator(e){return zu(this._rawValidators,e)}hasAsyncValidator(e){return zu(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let i=this.touched===!1;this.touched=!0;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ce(j({},e),{sourceControl:t})),i&&e.emitEvent!==!1&&this._events.next(new Vc(!0,t))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(i=>i.markAllAsTouched(e))}markAsUntouched(e={}){let i=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:t})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t),i&&e.emitEvent!==!1&&this._events.next(new Vc(!1,t))}markAsDirty(e={}){let i=this.pristine===!0;this.pristine=!1;let t=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ce(j({},e),{sourceControl:t})),i&&e.emitEvent!==!1&&this._events.next(new Fc(!1,t))}markAsPristine(e={}){let i=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let t=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&e.emitEvent!==!1&&this._events.next(new Fc(!0,t))}markAsPending(e={}){this.status=Ts;let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new As(this.status,i)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ce(j({},e),{sourceControl:i}))}disable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Oc,this.errors=null,this._forEachChild(r=>{r.disable(Ce(j({},e),{onlySelf:!0}))}),this._updateValue();let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gu(this.value,t)),this._events.next(new As(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(j({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let i=this._parentMarkedDirty(e.onlySelf);this.status=Pc,this._forEachChild(t=>{t.enable(Ce(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(j({},e),{skipPristineCheck:i}),this),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(e,i){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},i),this._parent._updateTouched({},i))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let t=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pc||this.status===Ts)&&this._runAsyncValidator(t,e.emitEvent)}let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gu(this.value,i)),this._events.next(new As(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ce(j({},e),{sourceControl:i}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oc:Pc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,i){if(this.asyncValidator){this.status=Ts,this._hasOwnPendingAsyncValidator={emitEvent:i!==!1};let t=UC(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:i,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,i={}){this.errors=e,this._updateControlsErrors(i.emitEvent!==!1,this,i.shouldHaveEmitted)}get(e){let i=e;return i==null||(Array.isArray(i)||(i=i.split(".")),i.length===0)?null:i.reduce((t,r)=>t&&t._find(r),this)}getError(e,i){let t=i?this.get(i):this;return t&&t.errors?t.errors[e]:null}hasError(e,i){return!!this.getError(e,i)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,i,t){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||t)&&this._events.next(new As(this.status,i)),this._parent&&this._parent._updateControlsErrors(e,i,t)}_initObservables(){this.valueChanges=new Te,this.statusChanges=new Te}_calculateStatus(){return this._allControlsDisabled()?Oc:this.errors?Uu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ts)?Ts:this._anyControlsHaveStatus(Uu)?Uu:Pc}_anyControlsHaveStatus(e){return this._anyControls(i=>i.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,i){let t=!this._anyControlsDirty(),r=this.pristine!==t;this.pristine=t,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),r&&this._events.next(new Fc(this.pristine,i))}_updateTouched(e={},i){this.touched=this._anyControlsTouched(),this._events.next(new Vc(this.touched,i)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zu(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let i=this._parent&&this._parent.dirty;return!e&&!!i&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=yP(this._rawAsyncValidators)}},Ss=class extends Hu{constructor(e,i,t){super(YC(i),XC(t,i)),this.controls=e,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,i){return this.controls[e]?this.controls[e]:(this.controls[e]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(e,i,t={}){this.registerControl(e,i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}removeControl(e,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(e,i,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],i&&this.registerControl(e,i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,i={}){xP(this,!0,e),Object.keys(e).forEach(t=>{wP(this,!0,t),this.controls[t].setValue(e[t],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(e,i={}){e!=null&&(Object.keys(e).forEach(t=>{let r=this.controls[t];r&&r.patchValue(e[t],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(e={},i={}){this._forEachChild((t,r)=>{t.reset(e?e[r]:null,{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i,this),this._updateTouched(i,this),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(e,i,t)=>(e[t]=i.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(i,t)=>t._syncPendingControls()?!0:i);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(i=>{let t=this.controls[i];t&&e(t,i)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[i,t]of Object.entries(this.controls))if(this.contains(i)&&e(t))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(i,t,r)=>((t.enabled||this.disabled)&&(i[r]=t.value),i))}_reduceChildren(e,i){let t=e;return this._forEachChild((r,o)=>{t=i(t,r,o)}),t}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var a_=new W("CallSetDisabledState",{providedIn:"root",factory:()=>c_}),c_="always";function EP(n,e){return[...e.path,n]}function n_(n,e,i=c_){l_(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||i==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),CP(n,e),AP(n,e),TP(n,e),IP(n,e)}function OC(n,e,i=!0){let t=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(t),e.valueAccessor.registerOnTouched(t)),Ku(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Wu(n,e){n.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(e)})}function IP(n,e){if(e.valueAccessor.setDisabledState){let i=t=>{e.valueAccessor.setDisabledState(t)};n.registerOnDisabledChange(i),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(i)})}}function l_(n,e){let i=WC(n);e.validator!==null?n.setValidators(DC(i,e.validator)):typeof i=="function"&&n.setValidators([i]);let t=KC(n);e.asyncValidator!==null?n.setAsyncValidators(DC(t,e.asyncValidator)):typeof t=="function"&&n.setAsyncValidators([t]);let r=()=>n.updateValueAndValidity();Wu(e._rawValidators,r),Wu(e._rawAsyncValidators,r)}function Ku(n,e){let i=!1;if(n!==null){if(e.validator!==null){let r=WC(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(i=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=KC(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(i=!0,n.setAsyncValidators(o))}}}let t=()=>{};return Wu(e._rawValidators,t),Wu(e._rawAsyncValidators,t),i}function CP(n,e){e.valueAccessor.registerOnChange(i=>{n._pendingValue=i,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&ZC(n,e)})}function TP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&ZC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function ZC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function AP(n,e){let i=(t,r)=>{e.valueAccessor.writeValue(t),r&&e.viewToModelUpdate(t)};n.registerOnChange(i),e._registerOnDestroy(()=>{n._unregisterOnChange(i)})}function JC(n,e){n==null,l_(n,e)}function SP(n,e){return Ku(n,e)}function kP(n,e){if(!n.hasOwnProperty("model"))return!1;let i=n.model;return i.isFirstChange()?!0:!Object.is(e,i.currentValue)}function RP(n){return Object.getPrototypeOf(n.constructor)===rP}function eT(n,e){n._syncPendingControls(),e.forEach(i=>{let t=i.control;t.updateOn==="submit"&&t._pendingChange&&(i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function DP(n,e){if(!e)return null;Array.isArray(e);let i,t,r;return e.forEach(o=>{o.constructor===Yu?i=o:RP(o)?t=o:r=o}),r||t||i||null}function MP(n,e){let i=n.indexOf(e);i>-1&&n.splice(i,1)}var PP={provide:Wn,useExisting:rr(()=>jc)},Nc=Promise.resolve(),jc=(()=>{let e=class e extends Wn{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Te,this.form=new Ss({},o_(t),s_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Nc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),n_(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Nc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Nc.then(()=>{let r=this._findContainer(t.path),o=new Ss({});JC(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Nc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Nc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,eT(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}};e.\u0275fac=function(r){return new(r||e)(O(Lc,10),O(r_,10),O(a_,8))},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&De("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([PP]),Xt]});let n=e;return n})();function NC(n,e){let i=n.indexOf(e);i>-1&&n.splice(i,1)}function FC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ju=class extends Hu{constructor(e=null,i,t){super(YC(i),XC(t,i)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zu(i)&&(i.nonNullable||i.initialValueIsDefault)&&(FC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,i={}){this.value=this._pendingValue=e,this._onChange.length&&i.emitModelToViewChange!==!1&&this._onChange.forEach(t=>t(this.value,i.emitViewToModelChange!==!1)),this.updateValueAndValidity(i)}patchValue(e,i={}){this.setValue(e,i)}reset(e=this.defaultValue,i={}){this._applyFormState(e),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){NC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){NC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var OP=n=>n instanceof Ju;var eh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var tT=new W("");var NP={provide:Wn,useExisting:rr(()=>Kr)},Kr=(()=>{let e=class e extends Wn{constructor(t,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Te,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ku(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return n_(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){OC(t.control||null,t,!1),MP(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,eT(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new t_(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1,this.form._events.next(new i_(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(OC(r||null,t),OP(o)&&(n_(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);JC(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&SP(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l_(this.form,this),this._oldForm&&Ku(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(O(Lc,10),O(r_,10),O(a_,8))},e.\u0275dir=ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&De("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([NP]),Xt,Dt]});let n=e;return n})();var FP={provide:ln,useExisting:rr(()=>d_)},d_=(()=>{let e=class e extends ln{set isDisabled(t){}constructor(t,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Te,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=DP(this,s)}ngOnChanges(t){this._added||this._setUpControl(),kP(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return EP(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(O(Wn,13),O(Lc,10),O(r_,10),O(Qu,10),O(tT,8))},e.\u0275dir=ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[bt([FP]),Xt,Dt]});let n=e;return n})();var VP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({});let n=e;return n})();var iT=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:[{provide:tT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:a_,useValue:t.callSetDisabledState??c_}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[VP]});let n=e;return n})();var u_=class{constructor(e){this._box=e,this._destroyed=new se,this._resizeSubject=new se,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(i=>this._resizeSubject.next(i)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new zt(i=>{let t=this._resizeSubject.subscribe(i);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),t.unsubscribe(),this._elementObservables.delete(e)}}).pipe(ze(i=>i.some(t=>t.target===e)),ro({bufferSize:1,refCount:!0}),nt(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},nT=(()=>{let e=class e{constructor(){this._observers=new Map,this._ngZone=q(Z),typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),typeof ResizeObserver<"u"}observe(t,r){let o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new u_(o)),this._observers.get(o).observe(t)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var LP=["notch"],jP=["matFormFieldNotchedOutline",""],BP=["*"],UP=["textField"],zP=["iconPrefixContainer"],qP=["textPrefixContainer"],$P=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],GP=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function HP(n,e){n&1&&ae(0,"span",19)}function WP(n,e){if(n&1&&(L(0,"label",18),Ve(1,1),Ae(2,HP,1,0,"span",19),V()),n&2){let i=Ne(2);Ie("floating",i._shouldLabelFloat())("monitorResize",i._hasOutline())("id",i._labelId),Je("for",i._control.disableAutomaticLabeling?null:i._control.id),re(2),rt(!i.hideRequiredMarker&&i._control.required?2:-1)}}function KP(n,e){if(n&1&&Ae(0,WP,3,5,"label",18),n&2){let i=Ne();rt(i._hasFloatingLabel()?0:-1)}}function QP(n,e){n&1&&ae(0,"div",5)}function YP(n,e){}function XP(n,e){if(n&1&&Ae(0,YP,0,0,"ng-template",11),n&2){Ne(2);let i=gi(1);Ie("ngTemplateOutlet",i)}}function ZP(n,e){if(n&1&&(L(0,"div",7),Ae(1,XP,1,1,null,11),V()),n&2){let i=Ne();Ie("matFormFieldNotchedOutlineOpen",i._shouldLabelFloat()),re(),rt(i._forceDisplayInfixLabel()?-1:1)}}function JP(n,e){n&1&&(L(0,"div",8,2),Ve(2,2),V())}function eO(n,e){n&1&&(L(0,"div",9,3),Ve(2,3),V())}function tO(n,e){}function iO(n,e){if(n&1&&Ae(0,tO,0,0,"ng-template",11),n&2){Ne();let i=gi(1);Ie("ngTemplateOutlet",i)}}function nO(n,e){n&1&&(L(0,"div",12),Ve(1,4),V())}function rO(n,e){n&1&&(L(0,"div",13),Ve(1,5),V())}function oO(n,e){n&1&&ae(0,"div",14)}function sO(n,e){if(n&1&&(L(0,"div",16),Ve(1,6),V()),n&2){let i=Ne();Ie("@transitionMessages",i._subscriptAnimationState)}}function aO(n,e){if(n&1&&(L(0,"mat-hint",20),J(1),V()),n&2){let i=Ne(2);Ie("id",i._hintLabelId),re(),Si(i.hintLabel)}}function cO(n,e){if(n&1&&(L(0,"div",17),Ae(1,aO,2,2,"mat-hint",20),Ve(2,7),ae(3,"div",21),Ve(4,8),V()),n&2){let i=Ne();Ie("@transitionMessages",i._subscriptAnimationState),re(),rt(i.hintLabel?1:-1)}}var ks=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["mat-label"]],standalone:!0});let n=e;return n})(),lO=0,hT=new W("MatError"),mT=(()=>{let e=class e{constructor(t,r){this.id=`mat-mdc-error-${lO++}`,t||r.nativeElement.setAttribute("aria-live","polite")}};e.\u0275fac=function(r){return new(r||e)(Ai("aria-live"),O(pe))},e.\u0275dir=ge({type:e,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,o){r&2&&Wi("id",o.id)},inputs:{id:"id"},standalone:!0,features:[bt([{provide:hT,useExisting:e}])]});let n=e;return n})(),dO=0,rT=(()=>{let e=class e{constructor(){this.align="start",this.id=`mat-mdc-hint-${dO++}`}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){r&2&&(Wi("id",o.id),Je("align",null),Oe("mat-mdc-form-field-hint-end",o.align==="end"))},inputs:{align:"align",id:"id"},standalone:!0});let n=e;return n})(),uO=new W("MatPrefix");var hO=new W("MatSuffix");var fT=new W("FloatingLabelParent"),oT=(()=>{let e=class e{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=q(nT),this._ngZone=q(Z),this._parent=q(fT),this._resizeSubscription=new kt}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return mO(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}};e.\u0275fac=function(r){return new(r||e)(O(pe))},e.\u0275dir=ge({type:e,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){r&2&&Oe("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0});let n=e;return n})();function mO(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let i=e.cloneNode(!0);i.style.setProperty("position","absolute"),i.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(i);let t=i.scrollWidth;return i.remove(),t}var sT="mdc-line-ripple--active",ih="mdc-line-ripple--deactivating",aT=(()=>{let e=class e{constructor(t,r){this._elementRef=t,this._handleTransitionEnd=o=>{let s=this._elementRef.nativeElement.classList,a=s.contains(ih);o.propertyName==="opacity"&&a&&s.remove(sT,ih)},r.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(ih),t.add(sT)}deactivate(){this._elementRef.nativeElement.classList.add(ih)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Z))},e.\u0275dir=ge({type:e,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0});let n=e;return n})(),cT=(()=>{let e=class e{constructor(t,r){this._elementRef=t,this._ngZone=r,this.open=!1}ngAfterViewInit(){let t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){!this.open||!t?this._notch.nativeElement.style.width="":this._notch.nativeElement.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Z))},e.\u0275cmp=ve({type:e,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(r&1&&ft(LP,5),r&2){let s;Se(s=ke())&&(o._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){r&2&&Oe("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[_t],attrs:jP,ngContentSelectors:BP,decls:5,vars:0,consts:[["notch",""],[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(r,o){r&1&&(Vt(),ae(0,"div",1),L(1,"div",2,0),Ve(3),V(),ae(4,"div",3))},encapsulation:2,changeDetection:0});let n=e;return n})(),fO={transitionMessages:ca("transitionMessages",[Sl("enter",ur({opacity:1,transform:"translateY(0%)"})),_o("void => enter",[ur({opacity:0,transform:"translateY(-5px)"}),la("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Bc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ge({type:e});let n=e;return n})();var Uc=new W("MatFormField"),pO=new W("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lT=0,dT="fill",gO="auto",uT="fixed",bO="translateY(-50%)",nh=(()=>{let e=class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=$r(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||gO}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){let r=this._appearance,o=t||this._defaults?.appearance||dT;this._appearance=o,this._appearance==="outline"&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||uT}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||uT}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,r,o,s,a,l,d,h){this._elementRef=t,this._changeDetectorRef=r,this._dir=s,this._platform=a,this._defaults=l,this._animationMode=d,this._hideRequiredMarker=!1,this.color="primary",this._appearance=dT,this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId=`mat-mdc-form-field-label-${lT++}`,this._hintLabelId=`mat-mdc-hint-${lT++}`,this._subscriptAnimationState="",this._destroyed=new se,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=q(pi),l&&(l.appearance&&(this.appearance=l.appearance),this._hideRequiredMarker=!!l?.hideRequiredMarker,l.color&&(this.color=l.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){let t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(nt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ii(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),yl(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(nt(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getDisplayedMessages()==="hint"){let r=this._hintChildren?this._hintChildren.find(s=>s.align==="start"):null,o=this._hintChildren?this._hintChildren.find(s=>s.align==="end"):null;r?t.push(r.id):this._hintLabel&&t.push(this._hintLabelId),o&&t.push(o.id)}else this._errorChildren&&t.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;let t=this._floatingLabel.element;if(!(this._iconPrefixContainer||this._textPrefixContainer)){t.style.transform="";return}if(!this._isAttachedToDom()){this._needsOutlineLabelOffsetUpdate=!0;return}let r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,s=r?.getBoundingClientRect().width??0,a=o?.getBoundingClientRect().width??0,l=this._dir.value==="rtl"?"-1":"1",d=`${s+a}px`,f=`calc(${l} * (${d} + var(--mat-mdc-form-field-label-offset-x, 0px)))`;t.style.transform=`var(
        --mat-mdc-form-field-label-transform,
        ${bO} translateX(${f})
    )`}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Jt),O(Z),O(Wr),O(Be),O(pO,8),O(Et,8),O(ue))},e.\u0275cmp=ve({type:e,selectors:[["mat-form-field"]],contentQueries:function(r,o,s){if(r&1&&(Zt(s,ks,5),Zt(s,ks,7),Zt(s,Bc,5),Zt(s,uO,5),Zt(s,hO,5),Zt(s,hT,5),Zt(s,rT,5)),r&2){let a;Se(a=ke())&&(o._labelChildNonStatic=a.first),Se(a=ke())&&(o._labelChildStatic=a.first),Se(a=ke())&&(o._formFieldControl=a.first),Se(a=ke())&&(o._prefixChildren=a),Se(a=ke())&&(o._suffixChildren=a),Se(a=ke())&&(o._errorChildren=a),Se(a=ke())&&(o._hintChildren=a)}},viewQuery:function(r,o){if(r&1&&(ft(UP,5),ft(zP,5),ft(qP,5),ft(oT,5),ft(cT,5),ft(aT,5)),r&2){let s;Se(s=ke())&&(o._textField=s.first),Se(s=ke())&&(o._iconPrefixContainer=s.first),Se(s=ke())&&(o._textPrefixContainer=s.first),Se(s=ke())&&(o._floatingLabel=s.first),Se(s=ke())&&(o._notchedOutline=s.first),Se(s=ke())&&(o._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){r&2&&Oe("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations",o._animationMode==="NoopAnimations")("mat-form-field-appearance-fill",o.appearance=="fill")("mat-form-field-appearance-outline",o.appearance=="outline")("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary",o.color!=="accent"&&o.color!=="warn")("mat-accent",o.color==="accent")("mat-warn",o.color==="warn")("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[bt([{provide:Uc,useExisting:e},{provide:fT,useExisting:e}]),_t],ngContentSelectors:GP,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(r&1){let s=si();Vt($P),Ae(0,KP,1,1,"ng-template",null,0,fo),L(2,"div",4,1),De("click",function(l){return Xe(s),Ze(o._control.onContainerClick(l))}),Ae(4,QP,1,0,"div",5),L(5,"div",6),Ae(6,ZP,2,2,"div",7)(7,JP,3,0,"div",8)(8,eO,3,0,"div",9),L(9,"div",10),Ae(10,iO,1,1,null,11),Ve(11),V(),Ae(12,nO,2,0,"div",12)(13,rO,2,0,"div",13),V(),Ae(14,oO,1,0,"div",14),V(),L(15,"div",15),Ae(16,sO,2,1,"div",16)(17,cO,5,2,"div",17),V()}if(r&2){let s;re(2),Oe("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),re(2),rt(!o._hasOutline()&&!o._control.disabled?4:-1),re(2),rt(o._hasOutline()?6:-1),re(),rt(o._hasIconPrefix?7:-1),re(),rt(o._hasTextPrefix?8:-1),re(2),rt(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),re(2),rt(o._hasTextSuffix?12:-1),re(),rt(o._hasIconSuffix?13:-1),re(),rt(o._hasOutline()?-1:14),re(),Oe("mat-mdc-form-field-subscript-dynamic-size",o.subscriptSizing==="dynamic"),re(),rt((s=o._getDisplayedMessages())==="error"?16:s==="hint"?17:-1)}},dependencies:[oT,cT,Iy,aT,rT],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 64px/0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 96px/0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px*2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(.75*var(--mdc-outlined-text-field-label-text-size))}.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mdc-outlined-text-field-label-text-size)}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px,calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[fO.transitionMessages]},changeDetection:0});let n=e;return n})(),Qn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[it,ki,eC,it]});let n=e;return n})();var _O=new W("MAT_INPUT_VALUE_ACCESSOR"),vO=["button","checkbox","file","hidden","image","radio","range","reset","submit"],yO=0,rh=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(t){this._disabled=$r(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(cn.required)??!1}set required(t){this._required=$r(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&Db().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=$r(t)}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,o,s,a,l,d,h,f,g){this._elementRef=t,this._platform=r,this.ngControl=o,this._autofillMonitor=h,this._formField=g,this._uid=`mat-input-${yO++}`,this.focused=!1,this.stateChanges=new se,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>Db().has(P)),this._iOSKeyupListener=P=>{let D=P.target;!D.value&&D.selectionStart===0&&D.selectionEnd===0&&(D.setSelectionRange(1,1),D.setSelectionRange(0,0))};let _=this._elementRef.nativeElement,S=_.nodeName.toLowerCase();this._inputValueAccessor=d||_,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&f.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Is(l,o,a,s,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect=S==="select",this._isTextarea=S==="textarea",this._isInFormField=!!g,this._isNativeSelect&&(this.controlType=_.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==null&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){let t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){let t=this._getPlaceholder();if(t!==this._previousPlaceholder){let r=this._elementRef.nativeElement;this._previousPlaceholder=t,t?r.setAttribute("placeholder",t):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){vO.indexOf(this._type)>-1}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!this._isNeverEmpty()&&!this._elementRef.nativeElement.value&&!this._isBadInput()&&!this.autofilled}get shouldLabelFloat(){if(this._isNativeSelect){let t=this._elementRef.nativeElement,r=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&r&&r.label)}else return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){let t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Be),O(ln,10),O(jc,8),O(Kr,8),O(ju),O(_O,10),O(kC),O(Z),O(Uc,8))},e.\u0275dir=ge({type:e,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){r&1&&De("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),r&2&&(Wi("id",o.id)("disabled",o.disabled)("required",o.required),Je("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),Oe("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[bt([{provide:Bc,useExisting:e}]),Dt]});let n=e;return n})(),h_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[it,Qn,Qn,RC,it]});let n=e;return n})();var oh=class{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(e=!1,i,t=!0,r){this._multiple=e,this._emitChanges=t,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new se,i&&i.length&&(e?i.forEach(o=>this._markSelected(o)):this._markSelected(i[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}setSelection(...e){this._verifyValueAssignment(e);let i=this.selected,t=new Set(e);e.forEach(o=>this._markSelected(o)),i.filter(o=>!t.has(this._getConcreteValue(o,t))).forEach(o=>this._unmarkSelected(o));let r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let i=this._hasQueuedChanges();return e&&this._emitChangeEvent(),i}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,i){if(this.compareWith){i=i??this._selection;for(let t of i)if(this.compareWith(e,t))return t;return e}else return e}};var wO=20,bT=(()=>{let e=class e{constructor(t,r,o){this._ngZone=t,this._platform=r,this._scrolled=new se,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=wO){return this._platform.isBrowser?new zt(r=>{this._globalSubscription||this._addGlobalListener();let o=t>0?this._scrolled.pipe($h(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Q()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let o=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(ze(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,t)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let o=hi(r),s=t.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return qh(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(T(Z),T(Be),T(ue,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var xO=20,zc=(()=>{let e=class e{constructor(t,r,o){this._platform=t,this._change=new se,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(t.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),o=t.documentElement,s=o.getBoundingClientRect(),a=-s.top||t.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||t.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:a,left:l}}change(t=xO){return t>0?this._change.pipe($h(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(T(Be),T(Z),T(ue,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var sh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({});let n=e;return n})(),m_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[Gn,sh,Gn,sh]});let n=e;return n})();var qc=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},f_=class extends qc{constructor(e,i,t,r,o){super(),this.component=e,this.viewContainerRef=i,this.injector=t,this.componentFactoryResolver=r,this.projectableNodes=o}},$c=class extends qc{constructor(e,i,t,r){super(),this.templateRef=e,this.viewContainerRef=i,this.context=t,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,i=this.context){return this.context=i,super.attach(e)}detach(){return this.context=void 0,super.detach()}},p_=class extends qc{constructor(e){super(),this.element=e instanceof pe?e.nativeElement:e}},g_=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof f_)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof $c)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof p_)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ah=class extends g_{constructor(e,i,t,r,o){super(),this.outletElement=e,this._componentFactoryResolver=i,this._appRef=t,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let a=s.element;a.parentNode;let l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){let t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=t.create(e.injector||this._defaultInjector||pi.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let i=e.viewContainerRef,t=i.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return t.rootNodes.forEach(r=>this.outletElement.appendChild(r)),t.detectChanges(),this.setDisposeFn(()=>{let r=i.indexOf(t);r!==-1&&i.remove(r)}),this._attachedPortal=e,t}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var vT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({});let n=e;return n})();var yT=ZI(),b_=class{constructor(e,i){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=ct(-this._previousScrollPosition.left),e.style.top=ct(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,i=this._document.body,t=e.style,r=i.style,o=t.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yT&&(t.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yT&&(t.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let i=this._document.body,t=this._viewportRuler.getViewportSize();return i.scrollHeight>t.height||i.scrollWidth>t.width}};var __=class{constructor(e,i,t,r){this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=t,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(ze(i=>!i||!this._overlayRef.overlayElement.contains(i.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let i=this._viewportRuler.getViewportScrollPosition().top;Math.abs(i-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},ch=class{enable(){}disable(){}attach(){}};function v_(n,e){return e.some(i=>{let t=n.bottom<i.top,r=n.top>i.bottom,o=n.right<i.left,s=n.left>i.right;return t||r||o||s})}function wT(n,e){return e.some(i=>{let t=n.top<i.top,r=n.bottom>i.bottom,o=n.left<i.left,s=n.right>i.right;return t||r||o||s})}var y_=class{constructor(e,i,t,r){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=t,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let i=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:r}=this._viewportRuler.getViewportSize();v_(i,[{width:t,height:r,bottom:r,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},IO=(()=>{let e=class e{constructor(t,r,o,s){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new ch,this.close=a=>new __(this._scrollDispatcher,this._ngZone,this._viewportRuler,a),this.block=()=>new b_(this._viewportRuler,this._document),this.reposition=a=>new y_(this._scrollDispatcher,this._viewportRuler,this._ngZone,a),this._document=s}};e.\u0275fac=function(r){return new(r||e)(T(bT),T(zc),T(Z),T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),lh=class{constructor(e){if(this.scrollStrategy=new ch,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let i=Object.keys(e);for(let t of i)e[t]!==void 0&&(this[t]=e[t])}}};var w_=class{constructor(e,i){this.connectionPair=e,this.scrollableViewProperties=i}};var AT=(()=>{let e=class e{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(T(ue))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CO=(()=>{let e=class e extends AT{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let a=s.length-1;a>-1;a--)if(s[a]._keydownEvents.observers.length>0){let l=s[a]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(T(ue),T(Z,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),TO=(()=>{let e=class e extends AT{constructor(t,r,o){super(t),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ri(s)},this._clickListener=s=>{let a=ri(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let h=d.length-1;h>-1;h--){let f=d[h];if(f._outsidePointerEvents.observers.length<1||!f.hasAttached())continue;if(xT(f.overlayElement,a)||xT(f.overlayElement,l))break;let g=f._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>g.next(s)):g.next(s)}}}add(t){if(super.add(t),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(T(ue),T(Be),T(Z,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function xT(n,e){let i=typeof ShadowRoot<"u"&&ShadowRoot,t=e;for(;t;){if(t===n)return!0;t=i&&t instanceof ShadowRoot?t.host:t.parentNode}return!1}var ST=(()=>{let e=class e{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||Rc()){let o=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(t),Rc()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(T(ue),T(Be))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),x_=class{constructor(e,i,t,r,o,s,a,l,d,h=!1,f){this._portalOutlet=e,this._host=i,this._pane=t,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=f,this._backdropElement=null,this._backdropClick=new se,this._attachments=new se,this._detachments=new se,this._locationChanges=kt.EMPTY,this._backdropClickHandler=g=>this._backdropClick.next(g),this._backdropTransitionendHandler=g=>{this._disposeBackdrop(g.target)},this._keydownEvents=new se,this._outsidePointerEvents=new se,this._renders=new se,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=my(()=>yl(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let i=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),uo(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof i?.onDestroy=="function"&&i.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),i}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=j(j({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ce(j({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=ct(this._config.width),e.height=ct(this._config.height),e.minWidth=ct(this._config.minWidth),e.minHeight=ct(this._config.minHeight),e.maxWidth=ct(this._config.maxWidth),e.maxHeight=ct(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,i,t){let r=xs(i||[]).filter(o=>!!o);r.length&&(t?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(nt(Ii(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},ET="cdk-overlay-connected-position-bounding-box",AO=/([A-Za-z%]+)$/,E_=class{get positions(){return this._preferredPositions}constructor(e,i,t,r,o){this._viewportRuler=i,this._document=t,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new se,this._resizeSubscription=kt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(ET),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,i=this._overlayRect,t=this._viewportRect,r=this._containerRect,o=[],s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),d=this._getOverlayPoint(l,i,a),h=this._getOverlayFit(d,i,t,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,l);return}if(this._canFitWithFlexibleDimensions(h,d,t)){o.push({position:a,origin:l,overlayRect:i,boundingBoxRect:this._calculateBoundingBoxRect(l,a)});continue}(!s||s.overlayFit.visibleArea<h.visibleArea)&&(s={overlayFit:h,overlayPoint:d,originPoint:l,position:a,overlayRect:i})}if(o.length){let a=null,l=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>l&&(l=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Qr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(ET),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let i=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,i)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,i,t){let r;if(t.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r=t.originX=="start"?s:a}i.left<0&&(r-=i.left);let o;return t.originY=="center"?o=e.top+e.height/2:o=t.originY=="top"?e.top:e.bottom,i.top<0&&(o-=i.top),{x:r,y:o}}_getOverlayPoint(e,i,t){let r;t.overlayX=="center"?r=-i.width/2:t.overlayX==="start"?r=this._isRtl()?-i.width:0:r=this._isRtl()?0:-i.width;let o;return t.overlayY=="center"?o=-i.height/2:o=t.overlayY=="top"?0:-i.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,i,t,r){let o=CT(i),{x:s,y:a}=e,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(a+=d);let h=0-s,f=s+o.width-t.width,g=0-a,_=a+o.height-t.height,S=this._subtractOverflows(o.width,h,f),P=this._subtractOverflows(o.height,g,_),D=S*P;return{visibleArea:D,isCompletelyWithinViewport:o.width*o.height===D,fitsInViewportVertically:P===o.height,fitsInViewportHorizontally:S==o.width}}_canFitWithFlexibleDimensions(e,i,t){if(this._hasFlexibleDimensions){let r=t.bottom-i.y,o=t.right-i.x,s=IT(this._overlayRef.getConfig().minHeight),a=IT(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,d=e.fitsInViewportHorizontally||a!=null&&a<=o;return l&&d}return!1}_pushOverlayOnScreen(e,i,t){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=CT(i),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-t.top-e.y,0),d=Math.max(o.left-t.left-e.x,0),h=0,f=0;return r.width<=o.width?h=d||-s:h=e.x<this._viewportMargin?o.left-t.left-e.x:0,r.height<=o.height?f=l||-a:f=e.y<this._viewportMargin?o.top-t.top-e.y:0,this._previousPushAmount={x:h,y:f},{x:e.x+h,y:e.y+f}}_applyPosition(e,i){if(this._setTransformOrigin(e),this._setOverlayElementStyles(i,e),this._setBoundingBoxStyles(i,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let t=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!SO(this._lastScrollVisibility,t)){let r=new w_(e,t);this._positionChanges.next(r)}this._lastScrollVisibility=t}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let i=this._boundingBox.querySelectorAll(this._transformOriginSelector),t,r=e.overlayY;e.overlayX==="center"?t="center":this._isRtl()?t=e.overlayX==="start"?"right":"left":t=e.overlayX==="start"?"left":"right";for(let o=0;o<i.length;o++)i[o].style.transformOrigin=`${t} ${r}`}_calculateBoundingBoxRect(e,i){let t=this._viewportRect,r=this._isRtl(),o,s,a;if(i.overlayY==="top")s=e.y,o=t.height-s+this._viewportMargin;else if(i.overlayY==="bottom")a=t.height-e.y+this._viewportMargin*2,o=t.height-a+this._viewportMargin;else{let _=Math.min(t.bottom-e.y+t.top,e.y),S=this._lastBoundingBoxSize.height;o=_*2,s=e.y-_,o>S&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-S/2)}let l=i.overlayX==="start"&&!r||i.overlayX==="end"&&r,d=i.overlayX==="end"&&!r||i.overlayX==="start"&&r,h,f,g;if(d)g=t.width-e.x+this._viewportMargin*2,h=e.x-this._viewportMargin;else if(l)f=e.x,h=t.right-e.x;else{let _=Math.min(t.right-e.x+t.left,e.x),S=this._lastBoundingBoxSize.width;h=_*2,f=e.x-_,h>S&&!this._isInitialRender&&!this._growAfterOpen&&(f=e.x-S/2)}return{top:s,left:f,bottom:a,right:g,width:h,height:o}}_setBoundingBoxStyles(e,i){let t=this._calculateBoundingBoxRect(e,i);!this._isInitialRender&&!this._growAfterOpen&&(t.height=Math.min(t.height,this._lastBoundingBoxSize.height),t.width=Math.min(t.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=ct(t.height),r.top=ct(t.top),r.bottom=ct(t.bottom),r.width=ct(t.width),r.left=ct(t.left),r.right=ct(t.right),i.overlayX==="center"?r.alignItems="center":r.alignItems=i.overlayX==="end"?"flex-end":"flex-start",i.overlayY==="center"?r.justifyContent="center":r.justifyContent=i.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=ct(o)),s&&(r.maxWidth=ct(s))}this._lastBoundingBoxSize=t,Qr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Qr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Qr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,i){let t={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let h=this._viewportRuler.getViewportScrollPosition();Qr(t,this._getExactOverlayY(i,e,h)),Qr(t,this._getExactOverlayX(i,e,h))}else t.position="static";let a="",l=this._getOffset(i,"x"),d=this._getOffset(i,"y");l&&(a+=`translateX(${l}px) `),d&&(a+=`translateY(${d}px)`),t.transform=a.trim(),s.maxHeight&&(r?t.maxHeight=ct(s.maxHeight):o&&(t.maxHeight="")),s.maxWidth&&(r?t.maxWidth=ct(s.maxWidth):o&&(t.maxWidth="")),Qr(this._pane.style,t)}_getExactOverlayY(e,i,t){let r={top:"",bottom:""},o=this._getOverlayPoint(i,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=ct(o.y);return r}_getExactOverlayX(e,i,t){let r={left:"",right:""},o=this._getOverlayPoint(i,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,t));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;r.right=`${a-(o.x+this._overlayRect.width)}px`}else r.left=ct(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),i=this._pane.getBoundingClientRect(),t=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wT(e,t),isOriginOutsideView:v_(e,t),isOverlayClipped:wT(i,t),isOverlayOutsideView:v_(i,t)}}_subtractOverflows(e,...i){return i.reduce((t,r)=>t-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,i=this._document.documentElement.clientHeight,t=this._viewportRuler.getViewportScrollPosition();return{top:t.top+this._viewportMargin,left:t.left+this._viewportMargin,right:t.left+e-this._viewportMargin,bottom:t.top+i-this._viewportMargin,width:e-2*this._viewportMargin,height:i-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,i){return i==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&xs(e).forEach(i=>{i!==""&&this._appliedPanelClasses.indexOf(i)===-1&&(this._appliedPanelClasses.push(i),this._pane.classList.add(i))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof pe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let i=e.width||0,t=e.height||0;return{top:e.y,bottom:e.y+t,left:e.x,right:e.x+i,height:t,width:i}}};function Qr(n,e){for(let i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}function IT(n){if(typeof n!="number"&&n!=null){let[e,i]=n.split(AO);return!i||i==="px"?parseFloat(e):null}return n||null}function CT(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function SO(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var TT="cdk-global-overlay-wrapper",I_=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let i=e.getConfig();this._overlayRef=e,this._width&&!i.width&&e.updateSize({width:this._width}),this._height&&!i.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(TT),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement.style,t=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=t,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,f=this._xOffset,g=this._overlayRef.getConfig().direction==="rtl",_="",S="",P="";l?P="flex-start":h==="center"?(P="center",g?S=f:_=f):g?h==="left"||h==="end"?(P="flex-end",_=f):(h==="right"||h==="start")&&(P="flex-start",S=f):h==="left"||h==="start"?(P="flex-start",_=f):(h==="right"||h==="end")&&(P="flex-end",S=f),e.position=this._cssPosition,e.marginLeft=l?"0":_,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":S,i.justifyContent=P,i.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,i=this._overlayRef.hostElement,t=i.style;i.classList.remove(TT),t.justifyContent=t.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},kO=(()=>{let e=class e{constructor(t,r,o,s){this._viewportRuler=t,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new I_}flexibleConnectedTo(t){return new E_(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(T(zc),T(ue),T(Be),T(ST))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),RO=0,Yr=(()=>{let e=class e{constructor(t,r,o,s,a,l,d,h,f,g,_,S){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=a,this._injector=l,this._ngZone=d,this._document=h,this._directionality=f,this._location=g,this._outsideClickDispatcher=_,this._animationsModuleType=S}create(t){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),a=new lh(t);return a.direction=a.direction||this._directionality.value,new x_(s,r,o,a,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Hi))}position(){return this._positionBuilder}_createPaneElement(t){let r=this._document.createElement("div");return r.id=`cdk-overlay-${RO++}`,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){let t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(ra)),new ah(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(T(IO),T(ST),T(Xh),T(kO),T(CO),T(pi),T(Z),T(ue),T(Wr),T(cr),T(TO),T(Et,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),DO=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],kT=new W("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=q(Yr);return()=>n.scrollStrategies.reposition()}}),Gc=(()=>{let e=class e{constructor(t){this.elementRef=t}};e.\u0275fac=function(r){return new(r||e)(O(pe))},e.\u0275dir=ge({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let n=e;return n})(),C_=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}constructor(t,r,o,s,a){this._overlay=t,this._dir=a,this._backdropSubscription=kt.EMPTY,this._attachSubscription=kt.EMPTY,this._detachSubscription=kt.EMPTY,this._positionSubscription=kt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=q(Z),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Te,this.positionChange=new Te,this.attach=new Te,this.detach=new Te,this.overlayKeydown=new Te,this.overlayOutsideClick=new Te,this._templatePortal=new $c(r,o),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=DO);let t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!an(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let o=this._getOriginElement(),s=ri(r);(!o||o!==s&&!o.contains(s))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new lh({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Gc?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Gc?this.origin.elementRef.nativeElement:this.origin instanceof pe?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Bv(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)(O(Yr),O(vl),O(ho),O(kT),O(Wr,8))},e.\u0275dir=ge({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",_e],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",_e],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",_e],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",_e],push:[2,"cdkConnectedOverlayPush","push",_e],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",_e]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[gt,Dt]});let n=e;return n})();function MO(n){return()=>n.scrollStrategies.reposition()}var PO={provide:kT,deps:[Yr],useFactory:MO},RT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({providers:[Yr,PO],imports:[Gn,vT,m_,m_]});let n=e;return n})();var OO=["trigger"],NO=["panel"],FO=[[["mat-select-trigger"]],"*"],VO=["mat-select-trigger","*"];function LO(n,e){if(n&1&&(L(0,"span",4),J(1),V()),n&2){let i=Ne();re(),Si(i.placeholder)}}function jO(n,e){n&1&&Ve(0)}function BO(n,e){if(n&1&&(L(0,"span",11),J(1),V()),n&2){let i=Ne(2);re(),Si(i.triggerValue)}}function UO(n,e){if(n&1&&(L(0,"span",5),Ae(1,jO,1,0)(2,BO,2,1,"span",11),V()),n&2){let i=Ne();re(),rt(i.customTrigger?1:2)}}function zO(n,e){if(n&1){let i=si();L(0,"div",12,1),De("@transformPanel.done",function(r){Xe(i);let o=Ne();return Ze(o._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){Xe(i);let o=Ne();return Ze(o._handleKeydown(r))}),Ve(2,1),V()}if(n&2){let i=Ne();sy("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",i._getPanelTheme(),""),Ie("ngClass",i.panelClass)("@transformPanel","showing"),Je("id",i.id+"-panel")("aria-multiselectable",i.multiple)("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby())}}var qO={transformPanelWrap:ca("transformPanelWrap",[_o("* => void",Fy("@transformPanel",[Ny()],{optional:!0}))]),transformPanel:ca("transformPanel",[Sl("void",ur({opacity:0,transform:"scale(1, 0.8)"})),_o("void => showing",la("120ms cubic-bezier(0, 0, 0.2, 1)",ur({opacity:1,transform:"scale(1, 1)"}))),_o("* => void",la("100ms linear",ur({opacity:0})))])};var DT=0,MT=new W("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=q(Yr);return()=>n.scrollStrategies.reposition()}});function $O(n){return()=>n.scrollStrategies.reposition()}var GO=new W("MAT_SELECT_CONFIG"),HO={provide:MT,deps:[Yr],useFactory:$O},WO=new W("MatSelectTrigger"),T_=class{constructor(e,i){this.source=e,this.value=i}},PT=(()=>{let e=class e{_scrollOptionIntoView(t){let r=this.options.toArray()[t];if(r){let o=this.panel.nativeElement,s=IC(t,this.options,this.optionGroups),a=r._getHostElement();t===0&&s===1?o.scrollTop=0:o.scrollTop=CC(a.offsetTop,a.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new T_(this,t)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(cn.required)??!1}set required(t){this._required=t,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}constructor(t,r,o,s,a,l,d,h,f,g,_,S,P,D){this._viewportRuler=t,this._changeDetectorRef=r,this._elementRef=a,this._dir=l,this._parentFormField=f,this.ngControl=g,this._liveAnnouncer=P,this._defaultOptions=D,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=($,Y)=>$===Y,this._uid=`mat-select-${DT++}`,this._triggerAriaLabelledBy=null,this._destroy=new se,this.stateChanges=new se,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId=`mat-select-value-${DT++}`,this._panelDoneAnimatingStream=new se,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new se,this.optionSelectionChanges=Ys(()=>{let $=this.options;return $?$.changes.pipe(oi($),We(()=>Ii(...$.map(Y=>Y.onSelectionChange)))):this._initialized.pipe(We(()=>this.optionSelectionChanges))}),this.openedChange=new Te,this._openedStream=this.openedChange.pipe(ze($=>$),X(()=>{})),this._closedStream=this.openedChange.pipe(ze($=>!$),X(()=>{})),this.selectionChange=new Te,this.valueChange=new Te,this._trackedModal=null,this._skipPredicate=$=>this.panelOpen?!1:$.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),D?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=D.typeaheadDebounceInterval),this._errorStateTracker=new Is(s,g,h,d,this.stateChanges),this._scrollStrategyFactory=S,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(_)||0,this.id=this.id}ngOnInit(){this._selectionModel=new oh(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(ir(),nt(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(nt(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(nt(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(oi(null),nt(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){let o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?o.setAttribute("aria-labelledby",t):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let r=`${this.id}-panel`;this._trackedModal&&Vb(this._trackedModal,"aria-owns",r),aC(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;Vb(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let r=t.keyCode,o=r===40||r===38||r===37||r===39,s=r===13||r===32,a=this._keyManager;if(!a.isTyping()&&s&&!an(t)||(this.multiple||t.altKey)&&o)t.preventDefault(),this.open();else if(!this.multiple){let l=this.selected;a.onKeydown(t);let d=this.selected;d&&l!==d&&this._liveAnnouncer.announce(d.viewValue,1e4)}}_handleOpenKeydown(t){let r=this._keyManager,o=t.keyCode,s=o===40||o===38,a=r.isTyping();if(s&&t.altKey)t.preventDefault(),this.close();else if(!a&&(o===13||o===32)&&r.activeItem&&!an(t))t.preventDefault(),r.activeItem._selectViaInteraction();else if(!a&&this._multiple&&o===65&&t.ctrlKey){t.preventDefault();let l=this.options.some(d=>!d.disabled&&!d.selected);this.options.forEach(d=>{d.disabled||(l?d.select():d.deselect())})}else{let l=r.activeItemIndex;r.onKeydown(t),this._multiple&&s&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==l&&r.activeItem._selectViaInteraction()}}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Kt(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return o.value!=null&&this._compareWith(o.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof Gc?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Pu(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=Ii(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(nt(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Ii(...this.options.map(r=>r._stateChanges)).pipe(nt(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){let o=this._selectionModel.isSelected(t);t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(o!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())),o!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,t):t.indexOf(r)-t.indexOf(o)),this.stateChanges.next()}}_propagateChanges(t){let r;this.multiple?r=this.selected.map(o=>o.value):r=this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),r=t?t+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId(),r=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}};e.\u0275fac=function(r){return new(r||e)(O(zc),O(Jt),O(Z),O(ju),O(pe),O(Wr,8),O(jc,8),O(Kr,8),O(Uc,8),O(ln,10),Ai("tabindex"),O(MT),O(dC),O(GO,8))},e.\u0275cmp=ve({type:e,selectors:[["mat-select"]],contentQueries:function(r,o,s){if(r&1&&(Zt(s,WO,5),Zt(s,Bu,5),Zt(s,Qb,5)),r&2){let a;Se(a=ke())&&(o.customTrigger=a.first),Se(a=ke())&&(o.options=a),Se(a=ke())&&(o.optionGroups=a)}},viewQuery:function(r,o){if(r&1&&(ft(OO,5),ft(NO,5),ft(C_,5)),r&2){let s;Se(s=ke())&&(o.trigger=s.first),Se(s=ke())&&(o.panel=s.first),Se(s=ke())&&(o._overlayDir=s.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){r&1&&De("keydown",function(a){return o._handleKeydown(a)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),r&2&&(Je("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),Oe("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",_e],disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:go(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",_e],placeholder:"placeholder",required:[2,"required","required",_e],multiple:[2,"multiple","multiple",_e],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",_e],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",go],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[bt([{provide:Bc,useExisting:e},{provide:Kb,useExisting:e}]),gt,Dt,_t],ngContentSelectors:VO,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(r&1){let s=si();Vt(FO),L(0,"div",2,0),De("click",function(){return Xe(s),Ze(o.open())}),L(3,"div",3),Ae(4,LO,2,1,"span",4)(5,UO,3,1,"span",5),V(),L(6,"div",6)(7,"div",7),_l(),L(8,"svg",8),ae(9,"path",9),V()()()(),Ae(10,zO,3,9,"ng-template",10),De("backdropClick",function(){return Xe(s),Ze(o.close())})("attach",function(){return Xe(s),Ze(o._onAttached())})("detach",function(){return Xe(s),Ze(o.close())})}if(r&2){let s=gi(1);re(3),Je("id",o._valueId),re(),rt(o.empty?4:5),re(6),Ie("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[Gc,C_,xy],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[qO.transformPanel]},changeDetection:0});let n=e;return n})();var A_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({providers:[HO],imports:[ki,RT,Yb,it,sh,Qn,Yb,it]});let n=e;return n})();var QO=["input"],YO=["label"],XO=["*"],ZO=new W("mat-checkbox-default-options",{providedIn:"root",factory:NT});function NT(){return{color:"accent",clickAction:"check-indeterminate"}}var Ot=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(Ot||{}),JO={provide:Qu,useExisting:rr(()=>dh),multi:!0},S_=class{},eN=0,OT=NT(),dh=(()=>{let e=class e{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(t){let r=new S_;return r.source=this,r.checked=t,r}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,r,o,s,a,l){this._elementRef=t,this._changeDetectorRef=r,this._ngZone=o,this._animationMode=a,this._options=l,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Te,this.indeterminateChange=new Te,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=Ot.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||OT,this.color=this._options.color||OT.color,this.tabIndex=parseInt(s)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++eN}`}ngOnChanges(t){t.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(t){t!=this.checked&&(this._checked=t,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(t){t!==this.disabled&&(this._disabled=t,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(t){let r=t!=this._indeterminate;this._indeterminate=t,r&&(this._indeterminate?this._transitionCheckState(Ot.Indeterminate):this._transitionCheckState(this.checked?Ot.Checked:Ot.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(t){this.checked=!!t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}validate(t){return this.required&&t.value!==!0?{required:!0}:null}registerOnValidatorChange(t){this._validatorChangeFn=t}_transitionCheckState(t){let r=this._currentCheckState,o=this._getAnimationTargetElement();if(!(r===t||!o)&&(this._currentAnimationClass&&o.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(r,t),this._currentCheckState=t,this._currentAnimationClass.length>0)){o.classList.add(this._currentAnimationClass);let s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{o.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let t=this._options?.clickAction;!this.disabled&&t!=="noop"?(this.indeterminate&&t!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?Ot.Checked:Ot.Unchecked),this._emitChangeEvent()):!this.disabled&&t==="noop"&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(t){t.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(t,r){if(this._animationMode==="NoopAnimations")return"";switch(t){case Ot.Init:if(r===Ot.Checked)return this._animationClasses.uncheckedToChecked;if(r==Ot.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case Ot.Unchecked:return r===Ot.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case Ot.Checked:return r===Ot.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case Ot.Indeterminate:return r===Ot.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(t){let r=this._inputElement;r&&(r.nativeElement.indeterminate=t)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(t){t.target&&this._labelElement.nativeElement.contains(t.target)&&t.stopPropagation()}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(Jt),O(Z),Ai("tabindex"),O(Et,8),O(ZO,8))},e.\u0275cmp=ve({type:e,selectors:[["mat-checkbox"]],viewQuery:function(r,o){if(r&1&&(ft(QO,5),ft(YO,5),ft(Mc,5)),r&2){let s;Se(s=ke())&&(o._inputElement=s.first),Se(s=ke())&&(o._labelElement=s.first),Se(s=ke())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:14,hostBindings:function(r,o){r&2&&(Wi("id",o.id),Je("tabindex",null)("aria-label",null)("aria-labelledby",null),mo(o.color?"mat-"+o.color:"mat-accent"),Oe("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mdc-checkbox--disabled",o.disabled)("mat-mdc-checkbox-disabled",o.disabled)("mat-mdc-checkbox-checked",o.checked))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",_e],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",_e],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?void 0:go(t)],color:"color",checked:[2,"checked","checked",_e],disabled:[2,"disabled","disabled",_e],indeterminate:[2,"indeterminate","indeterminate",_e]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[bt([JO,{provide:Lc,useExisting:e,multi:!0}]),gt,Dt,_t],ngContentSelectors:XO,decls:15,vars:19,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(r,o){if(r&1){let s=si();Vt(),L(0,"div",3),De("click",function(l){return Xe(s),Ze(o._preventBubblingFromLabel(l))}),L(1,"div",4,0)(3,"div",5),De("click",function(){return Xe(s),Ze(o._onTouchTargetClick())}),V(),L(4,"input",6,1),De("blur",function(){return Xe(s),Ze(o._onBlur())})("click",function(){return Xe(s),Ze(o._onInputClick())})("change",function(l){return Xe(s),Ze(o._onInteractionEvent(l))}),V(),ae(6,"div",7),L(7,"div",8),_l(),L(8,"svg",9),ae(9,"path",10),V(),$v(),ae(10,"div",11),V(),ae(11,"div",12),V(),L(12,"label",13,2),Ve(14),V()()}if(r&2){let s=gi(2);Ie("labelPosition",o.labelPosition),re(4),Oe("mdc-checkbox--selected",o.checked),Ie("checked",o.checked)("indeterminate",o.indeterminate)("disabled",o.disabled)("id",o.inputId)("required",o.required)("tabIndex",o.disabled?-1:o.tabIndex),Je("aria-label",o.ariaLabel||null)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby)("aria-checked",o.indeterminate?"mixed":null)("name",o.name)("value",o.value),re(7),Ie("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),re(),Ie("for",o.inputId)}},dependencies:[Mc,AC],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity);background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity);background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity);background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color)}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-unselected-icon-color);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color);background-color:var(--mdc-checkbox-selected-icon-color)}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color);background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color);background-color:var(--mdc-checkbox-selected-hover-icon-color)}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color)}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color);background-color:var(--mdc-checkbox-selected-focus-icon-color)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color)}.mdc-checkbox--disabled .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color)}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color)}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox .mdc-checkbox__background{-webkit-print-color-adjust:exact;color-adjust:exact}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color);font-family:var(--mat-checkbox-label-text-font);line-height:var(--mat-checkbox-label-text-line-height);font-size:var(--mat-checkbox-label-text-size);letter-spacing:var(--mat-checkbox-label-text-tracking);font-weight:var(--mat-checkbox-label-text-weight)}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.cdk-high-contrast-active .mat-mdc-checkbox.mat-mdc-checkbox-disabled{opacity:.5}.cdk-high-contrast-active .mat-mdc-checkbox .mdc-checkbox__checkmark{--mdc-checkbox-selected-checkmark-color: CanvasText;--mdc-checkbox-disabled-selected-checkmark-color: CanvasText}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0});let n=e;return n})();var k_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[dh,it,it]});let n=e;return n})();function iN(n,e){n&1&&(L(0,"form",9)(1,"section",10)(2,"p",11),J(3,"Paso 1 de 2"),V(),L(4,"h1",12),J(5,"Empieza tu registro"),V()(),L(6,"mat-form-field",13)(7,"mat-label"),J(8,"RUC de la empresa"),V(),ae(9,"input",14),V(),L(10,"mat-form-field",13)(11,"mat-label"),J(12,"Correo electr\xF3nico"),V(),ae(13,"input",15),V(),L(14,"mat-form-field",13)(15,"mat-label"),J(16,"Contrase\xF1a"),V(),ae(17,"input",15),V(),L(18,"mat-checkbox",16),J(19,"Autorizo recibir comunicaciones promocionales."),V(),L(20,"mat-checkbox",16),J(21,"He le\xEDdo y acepto los T\xE9rminos y condiciones y Pol\xEDticas de privacidad de DexMayali."),V(),L(22,"button",17),J(23,"Siguiente"),V(),L(24,"section",18)(25,"p",19),J(26,"Ya tienes una cuenta "),L(27,"a",20),J(28,"Iniciar sesi\xF3n"),V()()()())}function nN(n,e){n&1&&(L(0,"form",9)(1,"p",11),J(2,"Paso 2 de 2"),V(),L(3,"h1",21),J(4,"Datos de contacto"),V(),L(5,"section",22)(6,"mat-form-field",13)(7,"mat-label"),J(8,"Tipo de doc."),V(),L(9,"mat-select")(10,"mat-option",23),J(11,"DNI"),V(),L(12,"mat-option",23),J(13,"CE"),V()()(),L(14,"mat-form-field",13)(15,"mat-label"),J(16,"N\xB0 de documento"),V(),ae(17,"input",24),V()(),L(18,"mat-form-field",13)(19,"mat-label"),J(20,"Nombres"),V(),ae(21,"input",25),V(),L(22,"section",22)(23,"mat-form-field",13)(24,"mat-label"),J(25,"Apellido Paterno"),V(),ae(26,"input",26),V(),L(27,"mat-form-field",13)(28,"mat-label"),J(29,"Apellido Materno"),V(),ae(30,"input",27),V()(),L(31,"mat-form-field",13)(32,"mat-label"),J(33,"N\xB0 de celular"),V(),ae(34,"input",15),V(),L(35,"button",28),J(36,"Crear cuenta"),V()())}var FT=(()=>{let e=class e{constructor(){this.stepOne=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ve({type:e,selectors:[["app-register"]],decls:11,vars:2,consts:[["secondStep",""],[1,"p-5","flex","flex-col","gap-8","md:flex-row","max-w-[1200px]","place-content-center"],[1,"hidden","md:flex","flex-col"],["src","/assets/images/portada.png","alt","portada",1,"max-w-[500px]"],[1,"flex","flex-row","gap-3","items-center"],[1,"fs-16"],["src","/assets/images/alicorp.png","alt","alicorp",1,"max-w-[150px]"],[1,"flex","flex-col"],["class","flex flex-col w-full max-w-[394px]",4,"ngIf","ngIfElse"],[1,"flex","flex-col","w-full","max-w-[394px]"],[1,"flex","flex-col","mb-3"],[1,"fs-14","text-[var(--cetacean-50)]"],[1,"fh1"],["appearance","outline"],["matInput","","placeholder","Ej. 10092323232"],["matInput","","placeholder","Ingresa tu n\xFAmero de celular"],[1,"mb-2"],["mat-flat-button","","color","accent",1,"form-btn","mt-5"],[1,"mt-4"],[1,"text-[var(--cetacean-50)]","fs14","text-center"],["routerLink","/login",1,"cursor-pointer","text-[var(--skyblue)]","fs-14"],[1,"fh2"],[1,"flex","flex-row","gap-3"],["value","option"],["matInput","","placeholder","Ingresa tu n\xFAmero de documento"],["matInput","","placeholder","Ingresa tus nombres"],["matInput","","placeholder","Ingresa tu apellido paterno"],["matInput","","placeholder","Ingresa tu apellido materno"],["mat-flat-button","","color","accent",1,"form-btn"]],template:function(r,o){if(r&1&&(L(0,"section",1)(1,"section",2),ae(2,"img",3),L(3,"section",4)(4,"p",5),J(5,"Distribuidora exclusiva de"),V(),ae(6,"img",6),V()(),L(7,"section",7),Ae(8,iN,29,0,"form",8)(9,nN,37,0,"ng-template",null,0,fo),V()()),r&2){let s=gi(10);re(8),Ie("ngIf",o.stepOne)("ngIfElse",s)}},dependencies:[bo,td,Cs,rh,nh,ks,PT,Bu,dh,eh,Xu]});let n=e;return n})();var Rs=(()=>{let e=class e{constructor(){this.isAuthenticatedSubject=new Rt(!1)}get isAuthenticated$(){return this.isAuthenticatedSubject.asObservable()}login(){this.isAuthenticatedSubject.next(!0)}logout(){this.isAuthenticatedSubject.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var LT=(()=>{let e=class e{constructor(){this.errorResolver={required:()=>"Es requerido.",email:()=>"El correo electr\xF3nico no es v\xE1lido.",minlength:t=>`Debe contener como m\xEDnimo ${t.requiredLength} caracteres.`,maxlength:t=>`Debe contener como m\xE1ximo ${t.requiredLength} caracteres.`,matching:()=>"Ambas contrase\xF1as deben ser iguales",isRuc20:()=>"Debe ser un RUC 20.",isInvalidAccount:()=>"El n\xFAmero de cuenta es inv\xE1lido",backendErrorMessage:t=>`${t}`,cannotContainSpace:()=>"No puede contener espacios.",oneUpperCaseLetter:()=>"Debe contener al menos una letra may\xFAscula.",oneLowerCaseLetter:()=>"Debe contener al menos una letra min\xFAscula.",hasNumber:()=>"Debe contener al menos un n\xFAmero.",hasSpecialCharacters:()=>"Debe contener al menos un s\xEDmbolo."}}transform(t){let r=Object.keys(t||{})[0];if(this.errorResolver[r])return this.errorResolver[r](t[r])}};e.\u0275fac=function(r){return new(r||e)},e.\u0275pipe=zv({name:"controlErrorHandler",type:e,pure:!0});let n=e;return n})();function oN(n,e){if(n&1&&(L(0,"mat-error"),J(1),tm(2,"controlErrorHandler"),V()),n&2){let i=Ne();re(),na(" ",im(2,1,i.loginForm.get("email").errors)," ")}}function sN(n,e){if(n&1&&(L(0,"mat-error"),J(1),tm(2,"controlErrorHandler"),V()),n&2){let i=Ne();re(),na(" ",im(2,1,i.loginForm.get("password").errors)," ")}}var jT=(()=>{let e=class e{constructor(t,r){this.authService=t,this.router=r,this.loginError=!1,this.loginForm=new Ss({email:new Ju("",cn.required),password:new Ju("",cn.required)})}ngOnInit(){}onSubmit(){this.loginForm.valid&&(this.authService.login(),this.router.navigate(["/"]))}};e.\u0275fac=function(r){return new(r||e)(O(Rs),O(qt))},e.\u0275cmp=ve({type:e,selectors:[["app-login"]],decls:29,vars:4,consts:[[1,"p-5","flex","flex-col","gap-8","md:flex-row","max-w-[1200px]","w-full","place-content-center","m-auto","mayali-container","items-center"],[1,"hidden","md:flex","flex-col","w-[60%]","items-center"],["src","/assets/images/portada.png","alt","portada",1,"max-w-[500px]"],[1,"flex","flex-row","gap-3","items-center"],[1,"fs-16"],["src","/assets/images/alicorp.png","alt","alicorp",1,"max-w-[150px]"],[1,"flex","flex-col","md:w-[40%]","w-full","md:items-start","items-center"],[1,"flex","flex-col","w-full","max-w-[394px]",3,"formGroup"],[1,"fh1","mb-3"],[1,"flex","flex-col","gap-2","mb-3"],["appearance","outline"],["matInput","","formControlName","email","placeholder","Ingresa tu correo electr\xF3nico"],[4,"ngIf"],["matInput","","formControlName","password","placeholder","Ingresa tu contrase\xF1a"],["mat-flat-button","","color","accent",1,"form-btn",3,"disabled"],[1,"mt-4"],[1,"text-[var(--cetacean-50)]","fs14","text-center"],["routerLink","/register",1,"cursor-pointer","text-[var(--skyblue)]","fs-14"]],template:function(r,o){r&1&&(L(0,"section",0)(1,"section",1),ae(2,"img",2),L(3,"section",3)(4,"p",4),J(5,"Distribuidora exclusiva de"),V(),ae(6,"img",5),V()(),L(7,"section",6)(8,"form",7)(9,"h1",8),J(10,"\xA1Hola de nuevo!"),V(),L(11,"section",9)(12,"mat-form-field",10)(13,"mat-label"),J(14,"Correo electr\xF3nico"),V(),ae(15,"input",11),Ae(16,oN,3,3,"mat-error",12),V(),L(17,"mat-form-field",10)(18,"mat-label"),J(19,"Contrase\xF1a"),V(),ae(20,"input",13),Ae(21,sN,3,3,"mat-error",12),V()(),L(22,"button",14),J(23,"Iniciar sesi\xF3n"),V(),L(24,"section",15)(25,"p",16),J(26,"\xBFA\xFAn no tienes una cuenta? "),L(27,"a",17),J(28,"Reg\xEDstrate"),V()()()()()()),r&2&&(re(8),Ie("formGroup",o.loginForm),re(8),Ie("ngIf",o.loginForm.get("email").invalid),re(5),Ie("ngIf",o.loginForm.get("password").invalid),re(),Ie("disabled",o.loginForm.invalid))},dependencies:[bo,td,Cs,rh,nh,ks,mT,eh,Yu,QC,Xu,Kr,d_,LT]});let n=e;return n})();var uh=(n,e)=>{let i=q(Rs),t=q(qt);return i.isAuthenticatedSubject.value?!0:(t.navigate(["/login"]),!1)};var aN=[{path:"",component:WI},{path:"cart",component:KI,canActivate:[uh]},{path:"order-confirmed",component:QI,canActivate:[uh]},{path:"order-history",component:YI,canActivate:[uh]},{path:"register",component:FT},{path:"login",component:jT}],BT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[df.forRoot(aN),df]});let n=e;return n})();var cN=["*"],hh;function lN(){if(hh===void 0&&(hh=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(hh=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return hh}function Hc(n){return lN()?.createHTML(n)||n}function UT(n){return Error(`Unable to find icon with the name "${n}"`)}function dN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}function zT(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qT(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var dn=class{constructor(e,i,t){this.url=e,this.svgText=i,this.options=t}},uN=(()=>{let e=class e{constructor(t,r,o,s){this._httpClient=t,this._sanitizer=r,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(t,r,o){return this.addSvgIconInNamespace("",t,r,o)}addSvgIconLiteral(t,r,o){return this.addSvgIconLiteralInNamespace("",t,r,o)}addSvgIconInNamespace(t,r,o,s){return this._addSvgIconConfig(t,r,new dn(o,null,s))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,o,s){let a=this._sanitizer.sanitize(Yt.HTML,o);if(!a)throw qT(o);let l=Hc(a);return this._addSvgIconConfig(t,r,new dn("",l,s))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,o){return this._addSvgIconSetConfig(t,new dn(r,null,o))}addSvgIconSetLiteralInNamespace(t,r,o){let s=this._sanitizer.sanitize(Yt.HTML,r);if(!s)throw qT(r);let a=Hc(s);return this._addSvgIconSetConfig(t,new dn("",a,o))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(Yt.RESOURCE_URL,t);if(!r)throw zT(t);let o=this._cachedIconsByUrl.get(r);return o?Q(mh(o)):this._loadSvgIconFromConfig(new dn(t,null)).pipe(qe(s=>this._cachedIconsByUrl.set(r,s)),X(s=>mh(s)))}getNamedSvgIcon(t,r=""){let o=$T(r,t),s=this._svgIconConfigs.get(o);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(r,t),s)return this._svgIconConfigs.set(o,s),this._getSvgFromConfig(s);let a=this._iconSetConfigs.get(r);return a?this._getSvgFromIconSetConfigs(t,a):tr(UT(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Q(mh(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(X(r=>mh(r)))}_getSvgFromIconSetConfigs(t,r){let o=this._extractIconWithNameFromAnySet(t,r);if(o)return Q(o);let s=r.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(pn(l=>{let h=`Loading icon set URL: ${this._sanitizer.sanitize(Yt.RESOURCE_URL,a.url)} failed: ${l.message}`;return this._errorHandler.handleError(new Error(h)),Q(null)})));return fl(s).pipe(X(()=>{let a=this._extractIconWithNameFromAnySet(t,r);if(!a)throw UT(t);return a}))}_extractIconWithNameFromAnySet(t,r){for(let o=r.length-1;o>=0;o--){let s=r[o];if(s.svgText&&s.svgText.toString().indexOf(t)>-1){let a=this._svgElementFromConfig(s),l=this._extractSvgIconFromSet(a,t,s.options);if(l)return l}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(qe(r=>t.svgText=r),X(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Q(null):this._fetchIcon(t).pipe(qe(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,o){let s=t.querySelector(`[id="${r}"]`);if(!s)return null;let a=s.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let l=this._svgElementFromString(Hc("<svg></svg>"));return l.appendChild(a),this._setSvgAttributes(l,o)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(t){let r=this._svgElementFromString(Hc("<svg></svg>")),o=t.attributes;for(let s=0;s<o.length;s++){let{name:a,value:l}=o[s];a!=="id"&&r.setAttribute(a,l)}for(let s=0;s<t.childNodes.length;s++)t.childNodes[s].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[s].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:o}=t,s=o?.withCredentials??!1;if(!this._httpClient)throw dN();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let a=this._sanitizer.sanitize(Yt.RESOURCE_URL,r);if(!a)throw zT(r);let l=this._inProgressUrlFetches.get(a);if(l)return l;let d=this._httpClient.get(a,{responseType:"text",withCredentials:s}).pipe(X(h=>Hc(h)),nr(()=>this._inProgressUrlFetches.delete(a)),jv());return this._inProgressUrlFetches.set(a,d),d}_addSvgIconConfig(t,r,o){return this._svgIconConfigs.set($T(t,r),o),this}_addSvgIconSetConfig(t,r){let o=this._iconSetConfigs.get(t);return o?o.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let o=0;o<this._resolvers.length;o++){let s=this._resolvers[o](r,t);if(s)return hN(s)?new dn(s.url,null,s.options):new dn(s,null)}}};e.\u0275fac=function(r){return new(r||e)(T(Hy,8),T(Em),T(ue,8),T(sr))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function mh(n){return n.cloneNode(!0)}function $T(n,e){return n+":"+e}function hN(n){return!!(n.url&&n.options)}var mN=new W("MAT_ICON_DEFAULT_OPTIONS"),fN=new W("mat-icon-location",{providedIn:"root",factory:pN});function pN(){let n=q(ue),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var GT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],gN=GT.map(n=>`[${n}]`).join(", "),bN=/^url\(['"]?#(.*?)['"]?\)$/,HT=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(t){this._color=t}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(t,r,o,s,a,l){this._elementRef=t,this._iconRegistry=r,this._location=s,this._errorHandler=a,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=kt.EMPTY,l&&(l.color&&(this.color=this._defaultColor=l.color),l.fontSet&&(this.fontSet=l.fontSet)),o||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let o=t.childNodes[r];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>t.classList.remove(o)),r.forEach(o=>t.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((o,s)=>{o.forEach(a=>{s.setAttribute(a.name,`url('${t}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(gN),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<r.length;s++)GT.forEach(a=>{let l=r[s],d=l.getAttribute(a),h=d?d.match(bN):null;if(h){let f=o.get(l);f||(f=[],o.set(l,f)),f.push({name:a,value:h[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,o]=this._splitIconName(t);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Kt(1)).subscribe(s=>this._setSvgElement(s),s=>{let a=`Error retrieving icon ${r}:${o}! ${s.message}`;this._errorHandler.handleError(new Error(a))})}}};e.\u0275fac=function(r){return new(r||e)(O(pe),O(uN),Ai("aria-hidden"),O(fN),O(sr),O(mN,8))},e.\u0275cmp=ve({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){r&2&&(Je("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),mo(o.color?"mat-"+o.color:""),Oe("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",_e],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[gt,_t],ngContentSelectors:cN,decls:1,vars:0,template:function(r,o){r&1&&(Vt(),Ve(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0});let n=e;return n})(),R_=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[it,it]});let n=e;return n})();function vN(n,e){if(n&1){let i=si();L(0,"section",15)(1,"button",16),De("click",function(){Xe(i);let r=Ne();return Ze(r.goTo("register"))}),J(2,"Reg\xEDstrate"),V(),L(3,"button",17),De("click",function(){Xe(i);let r=Ne();return Ze(r.goTo("login"))}),J(4,"Iniciar sesi\xF3n"),V()()}}function yN(n,e){n&1&&(L(0,"p"),J(1,"prueba de que esta alguien logeado"),V())}var D_=(()=>{let e=class e{constructor(t,r){this.authService=t,this.router=r,this.isAuthenticated=!1,this.openMenu=!0,this.menuOpen=!1}ngOnInit(){this.authService.isAuthenticated$.subscribe(t=>{this.isAuthenticated=t})}logout(){this.authService.logout()}onMenuToggle(t){console.log(t);let r=document.querySelector(".navLinks");t.name=t.name==="menu"?"close":"menu",this.openMenu=t.name!=="menu",r.classList.toggle("left-[0%]")}goTo(t){this.router.navigate([t])}};e.\u0275fac=function(r){return new(r||e)(O(Rs),O(qt))},e.\u0275cmp=ve({type:e,selectors:[["app-header"]],decls:22,vars:3,consts:[["authContent",""],[1,"mayali-header","relative","shadow-lg","px-0","py-0"],[1,"flex","justify-between","bg-white"],[1,"w-[130px]","md:w-[200px]","flex","items-center"],[1,"text-[var(--orange)]","fh2","md:[fh4]","cursor-pointer",3,"click"],[1,"flex","items-center","gap-3"],[1,"navLinks","duration-500","absolute","z-20","md:static","md:w-auto","w-full","md:h-auto","h-[95vh]","bg-white","flex","md:items-center","gap-[1.5vw]","top-[100%]","left-[-100%]","px-5","md:py-0","py-5"],[1,"flex","md:flex-row","flex-col","md:items-center","md:gap-[2vw]","gap-8"],[1,"relative","max-w-fit","pr-3","md:pr-0","py-1","after:bg-gradient-to-r","from-[#2b68e0]","to-[#e710ea]","after:absolute","after:h-1","after:w-0","after:bottom-0","after:left-0","hover:after:w-full","after:transition-all","after:duration-300"],["href","#"],[1,"flex","items-center","gap-2"],["class","md:flex gap-3 hidden ",4,"ngIf","ngIfElse"],[1,"md:hidden"],["name","menu","mat-button","",1,"text-[30px]","cursor-pointer",3,"click"],[1,"scale-[2]","mr-0","md:hidden"],[1,"md:flex","gap-3","hidden"],["mat-stroked-button","",1,"btn__signup",3,"click"],["mat-flat-button","",1,"btn__login",3,"click"]],template:function(r,o){if(r&1){let s=si();L(0,"header",1)(1,"nav",2)(2,"div",3)(3,"p",4),De("click",function(){return Xe(s),Ze(o.goTo(""))}),J(4,"mayali"),V()(),L(5,"div",5)(6,"div",6)(7,"ul",7)(8,"li",8)(9,"a",9),J(10,"Sobre nosotros"),V()(),L(11,"li",8)(12,"a",9),J(13,"Cont\xE1ctanos"),V()()()(),L(14,"div",10),Ae(15,vN,5,0,"section",11)(16,yN,2,0,"ng-template",null,0,fo),L(18,"section",12)(19,"button",13),De("click",function(){return Xe(s),Ze(o.onMenuToggle(o))}),L(20,"mat-icon",14),J(21),V()()()()()()()}if(r&2){let s=gi(17);re(15),Ie("ngIf",!o.isAuthenticated)("ngIfElse",s),re(6),Si(o.openMenu?"menu":"close")}},dependencies:[bo,Cs,HT],styles:["header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem;background-color:#fff;height:50px}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#f90}header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .menu-button[_ngcontent-%COMP%]{background:none;border:none;font-size:1.5rem}@media (min-width: 768px){header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{height:80px}}header[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.mayali-header[_ngcontent-%COMP%]   .btn__signup[_ngcontent-%COMP%]{font-size:16px;background-color:var(--yellow);color:var(--white);font-weight:700;border-radius:12px;padding:12px;height:56px;letter-spacing:0px;width:190px}.mayali-header[_ngcontent-%COMP%]   .btn__login[_ngcontent-%COMP%]{color:var(--yellow);font-weight:700;border-radius:12px;padding:12px;height:56px;letter-spacing:0px;width:190px;border:solid 1px var(--yellow)}"]});let n=e;return n})();var WT=(()=>{let e=class e{constructor(t,r){this.afAuth=t,this.firestore=r,this.title="mayali"}};e.\u0275fac=function(r){return new(r||e)(O(ja),O(Sc))},e.\u0275cmp=ve({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"sticky","top-0"]],template:function(r,o){r&1&&ae(0,"app-header",0)(1,"router-outlet")},dependencies:[nf,D_]});let n=e;return n})();var xN=[Zb,R_,h_,Qn,A_,k_],fh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[ki,xN,Zb,R_,h_,Qn,A_,k_]});let n=e;return n})();var KT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({imports:[ki,fh]});let n=e;return n})();var EN="@",IN=(()=>{let e=class e{constructor(t,r,o,s,a){this.doc=t,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=a,this._rendererFactoryPromise=null,this.scheduler=q(ny,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-ZGK72775.js").then(r=>r)).catch(r=>{throw new Pe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,r){let o=this.delegate.createRenderer(t,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new M_(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(a=>{let l=a.createRenderer(t,r);s.use(l),this.scheduler?.notify(9)}).catch(a=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){co()},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})(),M_=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let i of this.replay)i(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,i){return this.delegate.createElement(e,i)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,i){this.delegate.appendChild(e,i)}insertBefore(e,i,t,r){this.delegate.insertBefore(e,i,t,r)}removeChild(e,i,t){this.delegate.removeChild(e,i,t)}selectRootElement(e,i){return this.delegate.selectRootElement(e,i)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,i,t,r){this.delegate.setAttribute(e,i,t,r)}removeAttribute(e,i,t){this.delegate.removeAttribute(e,i,t)}addClass(e,i){this.delegate.addClass(e,i)}removeClass(e,i){this.delegate.removeClass(e,i)}setStyle(e,i,t,r){this.delegate.setStyle(e,i,t,r)}removeStyle(e,i,t){this.delegate.removeStyle(e,i,t)}setProperty(e,i,t){this.shouldReplay(i)&&this.replay.push(r=>r.setProperty(e,i,t)),this.delegate.setProperty(e,i,t)}setValue(e,i){this.delegate.setValue(e,i)}listen(e,i,t){return this.shouldReplay(i)&&this.replay.push(r=>r.listen(e,i,t)),this.delegate.listen(e,i,t)}shouldReplay(e){return this.replay!==null&&e.startsWith(EN)}};function QT(n="animations"){return Zh("NgAsyncAnimations"),bl([{provide:lo,useFactory:(e,i,t)=>new IN(e,i,t,n),deps:[ue,yo,Z]},{provide:Et,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var YT={apiKey:"AIzaSyBvBGVMjsMtkSmr_dkEH_V4c8arIoTbE8M",authDomain:"dexmayali-pe.firebaseapp.com",projectId:"dexmayali-pe",storageBucket:"dexmayali-pe.appspot.com",messagingSenderId:"185740905657",appId:"1:185740905657:web:91cb068719ef6af5bb1f68"};var CN=(()=>{let e=class e extends Rl{constructor(t,r,o){super(t,r,o)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(T(ue),T(da),T(kl))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let n=e;return n})();function TN(){return new Ly}function AN(n,e,i){return new By(n,e,i)}var ZT=[{provide:kl,useFactory:TN},{provide:Rl,useClass:CN},{provide:lo,useFactory:AN,deps:[yo,Rl,Z]}],XT=[{provide:da,useFactory:()=>new jy},{provide:Et,useValue:"BrowserAnimations"},...ZT],SN=[{provide:da,useClass:Vy},{provide:Et,useValue:"NoopAnimations"},...ZT],JT=(()=>{let e=class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?SN:XT}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e}),e.\u0275inj=te({providers:XT,imports:[Ol]});let n=e;return n})();var eA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ie({type:e,bootstrap:[WT]}),e.\u0275inj=te({providers:[QT()],imports:[Ol,BT,KT,fh,iT,sw.initializeApp(YT),aw,$I,JT]});let n=e;return n})();Jy().bootstrapModule(eA).catch(n=>console.error(n));

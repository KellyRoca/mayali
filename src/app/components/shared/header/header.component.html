<!-- <header class="mayali-header relative shadow-lg px-0 py-0 bg-white">
  <nav class="flex justify-between bg-white">
    <div class="w-[130px] md:w-[200px] flex items-center">
      <p class="text-[var(--orange)] fh2 md:[fh4] cursor-pointer" (click)="goTo('')">mayali</p>
    </div>
    <div class="flex items-center gap-3">
      <div
        class="navLinks duration-500 absolute z-100 md:static md:w-auto w-full md:h-auto h-[95vh] bg-white flex md:items-center gap-[1.5vw] top-[100%] left-[-100%] px-5 md:py-0 py-5 ">
        <ul class="flex md:flex-row flex-col md:items-center md:gap-[2vw] gap-8">
          <li
            class="relative max-w-fit pr-3 md:pr-0 py-1 after:bg-gradient-to-r from-[#2b68e0] to-[#e710ea]  after:absolute after:h-1 after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300">
            <a href="#">Sobre nosotros</a>
          </li>
          <li
            class="relative max-w-fit pr-3 md:pr-0 py-1 after:bg-gradient-to-r from-[#2b68e0] to-[#e710ea]  after:absolute after:h-1 after:w-0 after:bottom-0 after:left-0 hover:after:w-full after:transition-all after:duration-300">
            <a href="#">Contáctanos</a>
          </li>
        </ul>
      </div>
      <div class="flex items-center gap-2">
        <section *ngIf="!isAuthenticated; else authContent" class="md:flex gap-3 hidden ">
          <button mat-stroked-button class="btn__signup" (click)="goTo('register')">Regístrate</button>
          <button mat-flat-button class="btn__login" (click)="goTo('login')">Iniciar sesión</button>
        </section>
        <ng-template #authContent>
          <p>prueba de que esta alguien logeado</p>
        </ng-template>
        <section class="md:hidden">
          <button name="menu" (click)="onMenuToggle(this)" class="text-[30px] cursor-pointer" mat-button>
            <mat-icon class="scale-[2] mr-0 md:hidden">{{openMenu? 'menu':'close'}}</mat-icon>
          </button>
        </section>
      </div>
    </div>
  </nav>
</header> -->


<!-- <header class="mayali-header relative shadow-lg px-0 py-0 bg-white">
  <nav class="flex justify-between bg-white">
    <div class="w-[130px] md:w-[200px] flex items-center">
      <section class="md:hidden">
        <button name="menu" (click)="onMenuToggle(this)" class="text-[30px] cursor-pointer" mat-button>
          <mat-icon class="scale-[2] mr-0 md:hidden">{{openMenu ? 'menu' : 'close'}}</mat-icon>
        </button>
      </section>
      <p class="text-[var(--orange)] fh2 md:[fh4] cursor-pointer" (click)="goTo('')">mayali</p>
      <div class="navLinks duration-500 absolute z-100 md:static md:w-auto w-full md:h-auto h-[95vh] bg-white flex md:items-center gap-[1.5vw] top-[100%] left-[-100%] px-5 md:py-0 py-5">
        <ul class="flex md:flex-row flex-col md:items-center md:gap-[2vw] gap-8">
          <li class="relative flex flex-row items-center cursor-pointer" (mouseenter)="showCategories = true" (mouseleave)="showCategories = false">
            <mat-icon>apps</mat-icon>
            Categorías
            <ul *ngIf="showCategories" class="categories-menu absolute top-full left-0 bg-white shadow-lg">
              <li *ngFor="let category of categories" class="relative" (mouseenter)="currentCategory = category" (mouseleave)="currentCategory = null">
                <a>{{category.name}}</a>
                <ul *ngIf="currentCategory === category" class="products-menu absolute top-0 left-full bg-white shadow-lg">
                  <li *ngFor="let product of category.products">
                    <a>{{product}}</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <div class="flex items-center gap-2">
        <section class="flex flex-row items-center place-content-center gap-4">
          <mat-icon>person</mat-icon>
          <mat-icon class="shopping-cart-icon" [ngClass]="{'has-items': cartItems.length > 0}">
            shopping_cart
            <span *ngIf="cartItems.length > 0" class="item-count">{{ cartItems.length }}</span>
          </mat-icon>
        </section>
      </div>
    </div>
  </nav>
</header> -->

<!-- <ng-template>
  login check
</ng-template> -->
<header class="mayali-header relative shadow-lg px-0 py-0 bg-white">
  <nav class="flex justify-between bg-white">
    <div class="w-[130px] md:w-[200px] flex items-center">
      <section class="md:hidden">
        <button name="menu" (click)="onMenuToggle()" class="text-[30px] cursor-pointer" mat-button>
          <mat-icon class="scale-[2] mr-0 md:hidden">{{openMenu ? 'close' : 'menu'}}</mat-icon>
        </button>
      </section>
      <p class="text-[var(--orange)] fh2 md:[fh4] cursor-pointer" (click)="goTo('')">mayali</p>
      <div [ngClass]="{'hidden': !openMenu, 'block': openMenu}" class="md:block navLinks duration-500 absolute z-100 md:static md:w-auto w-full md:h-auto h-[95vh] bg-white flex md:items-center gap-[1.5vw] top-[100%] left-0 px-5 md:py-0 py-5">
        <ul class="flex md:flex-row flex-col md:items-center md:gap-[2vw] gap-8 w-full">
          <li *ngIf="!isMobile" class="relative flex flex-row items-center cursor-pointer group" (mouseenter)="showCategories = true" (mouseleave)="showCategories = false">
            <mat-icon>apps</mat-icon>
            Categorías
            <ul *ngIf="showCategories" class="categories-menu absolute top-full left-0 bg-white shadow-lg">
              <li *ngFor="let category of categories" class="relative" (mouseenter)="currentCategory = category" (mouseleave)="currentCategory = null">
                <a>{{category.name}}</a>
                <ul *ngIf="currentCategory === category" class="products-menu absolute top-0 left-full bg-white shadow-lg">
                  <li *ngFor="let product of category.products">
                    <a>{{product}}</a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li *ngIf="isMobile" class="w-100">
            <mat-accordion>
              <mat-expansion-panel *ngFor="let category of categories">
                <mat-expansion-panel-header>
                  <mat-panel-title>{{category.name}}</mat-panel-title>
                </mat-expansion-panel-header>
                <ul>
                  <li *ngFor="let product of category.products">
                    <a>{{product}}</a>
                  </li>
                </ul>
              </mat-expansion-panel>
            </mat-accordion>
          </li>
        </ul>
      </div>
    </div>
    <div class="flex items-center gap-3">
      <div class="flex items-center gap-2">
        <section class="flex flex-row items-center place-content-center gap-4">
          <mat-icon>person</mat-icon>
          <mat-icon class="shopping-cart-icon" [ngClass]="{'has-items': cartItems.length > 0}">
            shopping_cart
            <span *ngIf="cartItems.length > 0" class="item-count">{{ cartItems.length }}</span>
          </mat-icon>
        </section>
      </div>
    </div>
  </nav>
</header>
